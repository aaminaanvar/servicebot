(this["webpackJsonprasa-frontend"]=this["webpackJsonprasa-frontend"]||[]).push([[0],{100:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return b}));var r=n(40),a=n(21),o=n(22);function c(){var e=Object(r.a)(["\n  &:after {\n    ",";\n  }\n"]);return c=function(){return e},e}function i(){var e=Object(r.a)(["\n  &:disabled {\n    ","\n    ","\n    ","\n  }\n"]);return i=function(){return e},e}function s(){var e=Object(r.a)(["\n  &:hover:not(:disabled) {\n    ","\n  }\n"]);return s=function(){return e},e}var l=Object(a.css)(s(),Object(o.system)({colorHover:{property:"color",scale:"colors"},bgHover:{property:"backgroundColor",scale:"colors"},borderColorHover:{property:"borderColor",scale:"colors"}})),u=(Object(a.css)(i(),Object(o.system)({colorDisabled:{property:"color",scale:"colors"}}),Object(o.system)({borderColorDisabled:{property:"borderColor",scale:"colors"}}),Object(o.system)({bgDisabled:{property:"backgroundColor",scale:"colors"}})),Object(o.system)({bgActive:{property:"backgroundColor",scale:"colors"}})),d=Object(o.system)({colorActive:{property:"color",scale:"colors"}}),b=Object(a.css)(c(),Object(o.system)({afterBg:{property:"backgroundColor",scale:"colors"}}))},101:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return y})),n.d(t,"f",(function(){return C})),n.d(t,"e",(function(){return S})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return T}));var r=n(15),a=n(6),o=n(2),c=n(97),i=n.n(c),s=n(281),l=n.n(s),u=n(979),d=n.n(u),b=n(980),f=n.n(b),p=n(4),h=n(128),j=n(137),O=n(28),x=n(151),v=n(17),g=n(508),m={Tester:"Tester (Share your bot)",facebook:"Facebook",mattermost:"Mattermost",rasa:"Internal (Interactive Learning)",rocketchat:"Rocket.Chat",slack:"Slack",socketio:"Socket.io",telegram:"Telegram",twilio:"Twilio",webexteams:"Webex Teams"},y=[{label:"All (default)",status:null},{label:"Reviewed",status:"reviewed"},{label:"Saved for later",status:"saved_for_later"},{label:"Unread",status:"unread"}];function C(e,t){if("active_loop"===e.event||"form"===e.event)return"active_loop".concat(JSON.stringify({name:e.name}));switch(e.event){case"user":var n,r,a,c,i,s=null!==(n=null===(r=e.parse_data)||void 0===r||null===(a=r.intent)||void 0===a?void 0:a.name)&&void 0!==n?n:"null",l=null!==(c=null===(i=e.parse_data)||void 0===i?void 0:i.entities)&&void 0!==c?c:[];if(t){var u=(/\/\S+/.test(e.text)?{text:e.text}:l.reduce((function(e,t){var n=t.entity,r=t.value,a=t.start,o=t.end,c="[".concat(r,"](").concat(n,")");return{text:e.text.substring(0,a+e.offset)+c+e.text.substring(o+e.offset),offset:c.length-r.length}}),{text:e.text,offset:0})).text;return"".concat(s,": ").concat(u)}var d=0===l.length?"":JSON.stringify(l.reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{[t.entity]:t.value})}),{}));return"".concat(s).concat(d);case"slot":return"slot".concat(JSON.stringify({[e.name]:e.value}));case"action":return e.name;case"bot":return e.text;default:return e.event}}var S={channels:[],intents:[],entities:[],actions:[],policies:[],reviewStatus:null,slots:[],tags:[],type:"Conversation",coreConfidence:null,nluConfidence:null,minimumMessages:null,flaggedOnly:!1,storiesNotRecognised:!1,date:{from:null,to:null}},w=Object(o.a)(Object(o.a)({},S),{},{date:{from:null,to:null}}),E={actions:[],awaitingResponse:!1,channels:[],conversationDeletionFailed:!1,conversations:{},conversationEvents:{},conversationsFetched:0,oldestConversationTimestamp:null,conversationsStatistics:null,draftFilter:w,entities:[],environment:"production",userEnvironment:"production",error:null,fastRefreshes:0,filter:w,intents:[],loading:{conversation:!1,conversations:!1,e2eTest:!1},policies:[],slotNames:[],slotValues:[],story:null,testStory:null,total:0,selectedIntent:{conversationId:null,intent:null,timestamp:null},chatToken:null,botName:null,botDescription:null,e2eTest:null};function k(e){for(var t=["restart","session_started"],n=!1,c=function(r){if(t.some((function(t){return t===e[r].event})))return e[r-1].nextBreakEvent===e[r].timestamp&&(n=!0),"break"},i=e.length-1;0<i;i--){if("break"===c(i))break}if(n)return e;var s=e.reduceRight((function(e,n,c){var i=Object(a.a)(e,2),s=i[0],l=i[1];return[[].concat(Object(r.a)(s.slice(0,c)),[Object(o.a)(Object(o.a)({},n),{},{nextBreakEvent:l})],Object(r.a)(s.slice(c+1))),t.some((function(e){return e===n.event}))?n.timestamp:l]}),[e,null]);return Object(a.a)(s,1)[0]}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(p.getType)(O.h):return E;case Object(p.getType)(v.g.request):return Object(o.a)(Object(o.a)({},e),{},{loading:Object(o.a)(Object(o.a)({},e.loading),{},{conversation:!0})});case Object(p.getType)(v.g.failure):return Object(o.a)(Object(o.a)({},e),{},{loading:Object(o.a)(Object(o.a)({},e.loading),{},{conversation:!1}),error:t.payload});case Object(p.getType)(v.g.success):var n=t.payload.conversation,c=n.events,s=n.sender_id,u=e.conversationEvents,b=e.environment;if(0===c.length)return e;var m=(u[s]||[]).filter((function(e){return!("isOptimistic"in e)||!0!==e.isOptimistic})),y=m.length>0?m[m.length-1].timestamp:0,C=c[0].timestamp,S=C<=y?c.filter((function(e){return y<e.timestamp})):c,w=[].concat(Object(r.a)(m),Object(r.a)(S)),T=w[w.length-1],A=!T||"action"===T.event&&"action_listen"===T.name,_=u[s],D=_&&w.length===_.length&&w[w.length-1].timestamp===_[_.length-1].timestamp,R=D?u:Object(o.a)(Object(o.a)({},u),{},{[s]:k(w)}),F=e.fastRefreshes>h.d;return Object(o.a)(Object(o.a)({},e),{},{conversationEvents:R,error:null,userEnvironment:b,loading:Object(o.a)(Object(o.a)({},e.loading),{},{conversation:!1}),awaitingResponse:!A&&!F,fastRefreshes:A?0:e.fastRefreshes+(F?0:1)});case Object(p.getType)(v.w):case Object(p.getType)(v.x.request):var I=t.payload,L=I.text,N=I.senderId,U=Object(g.a)(L),B=e.conversationEvents,M=B[N]||[],P=d()(M,U,(function(e){return e.timestamp}));return Object(o.a)(Object(o.a)({},e),{},{conversationEvents:Object(o.a)(Object(o.a)({},B),{},{[N]:[].concat(Object(r.a)(M.slice(0,P)),[U],Object(r.a)(M.slice(P+1)))})});case Object(p.getType)(v.x.success):var H=t.payload,q=H.message,G=H.senderId,W=e.conversationEvents,V=W[G]||[],Y=f()(V,q,(function(e){return i()(e,q)}));return Y<0?e:Object(o.a)(Object(o.a)({},e),{},{awaitingResponse:!0,conversationEvents:Object(o.a)(Object(o.a)({},W),{},{[G]:[].concat(Object(r.a)(V.slice(0,Y)),Object(r.a)(V.slice(Y+1)))})});case Object(p.getType)(v.x.failure):var z=t.payload,K=z.message,Q=z.senderId,X=e.conversationEvents,J=X[Q]||[];return Object(o.a)(Object(o.a)({},e),{},{awaitingResponse:!1,conversationEvents:Object(o.a)(Object(o.a)({},X),{},{[Q]:J.filter((function(e){return!i()(e,K)}))})});case Object(p.getType)(v.B.success):case Object(p.getType)(v.s.success):var Z=t.type===Object(p.getType)(v.s.success),$=t.payload,ee=$.conversationId,te=$.timestamp,ne="FLAG MESSAGE SUCCESS"===t.type,re=e.conversationEvents,ae=re[ee]||[];return Object(o.a)(Object(o.a)({},e),{},{conversations:l()(e.conversations,(function(e){return e.sender_id!==ee?e:Object(o.a)(Object(o.a)({},e),{},{has_flagged_messages:ne||ae.some((function(e){return e.timestamp!==te&&e.is_flagged}))})})),conversationEvents:Object(o.a)(Object(o.a)({},re),{},{[ee]:ae.map((function(e){return e.timestamp!==te?e:Object(o.a)(Object(o.a)({},e),{},{is_flagged:Z})}))})});case Object(p.getType)(v.p.request):var oe=t.payload.filter,ce=!i()(oe,e.draftFilter);return Object(o.a)(Object(o.a)({},e),{},{conversations:ce?E.conversations:e.conversations,conversationsFetched:ce?E.conversationsFetched:e.conversationsFetched,total:ce?E.total:e.total,loading:Object(o.a)(Object(o.a)({},e.loading),{},{conversations:!0}),draftFilter:oe,filter:oe});case Object(p.getType)(v.p.success):var ie=t.payload,se=ie.conversations,le=ie.total,ue=ie.offset,de=Object(x.a)(e.conversations,se,ue||0,(function(e,t){return e.sender_id===t.sender_id})),be=Object.keys(de).length,fe=be>0&&de[be-1].latest_event_time||null;return Object(o.a)(Object(o.a)({},e),{},{conversations:de,conversationsFetched:be,total:Object(j.a)(le)&&!isNaN(le)?le:e.total,loading:Object(o.a)(Object(o.a)({},e.loading),{},{conversations:!1}),oldestConversationTimestamp:fe});case Object(p.getType)(v.c.request):return Object(o.a)(Object(o.a)({},e),{},{conversationDeletionFailed:!1});case Object(p.getType)(v.c.success):var pe=t.payload.conversationId,he=Object.keys(e.conversations).find((function(t){return e.conversations[t].sender_id===pe})),je=Object.fromEntries(Object.entries(e.conversations).filter((function(e){var t=Object(a.a)(e,2),n=t[0];t[1];return n!==he}))),Oe=Object.keys(je).map((function(e,t){return{[t]:je[e]}})),xe=Object.assign.apply(Object,[{}].concat(Object(r.a)(Oe))),ve=Object.fromEntries(Object.entries(e.conversationEvents).filter((function(e){var t=Object(a.a)(e,2),n=t[0];t[1];return n!==he})));return Object(o.a)(Object(o.a)({},e),{},{conversationDeletionFailed:!1,conversations:xe,conversationEvents:ve,total:e.total-1});case Object(p.getType)(v.c.failure):return Object(o.a)(Object(o.a)({},e),{},{conversationDeletionFailed:!0});case Object(p.getType)(v.C.success):var ge=t.payload,me=ge.conversationId,ye=ge.status;return Object(o.a)(Object(o.a)({},e),{},{conversations:l()(e.conversations,(function(e){return e.sender_id!==me?e:Object(o.a)(Object(o.a)({},e),{},{review_status:ye})}))});case Object(p.getType)(v.o.success):return Object(o.a)(Object(o.a)({},e),{},{story:t.payload.story,testStory:t.payload.testStory});case Object(p.getType)(v.u.success):var Ce=t.payload,Se=Ce.tags,we=Ce.conversationId;return Object(o.a)(Object(o.a)({},e),{},{conversations:l()(e.conversations,(function(e){return e.sender_id!==we?e:Object(o.a)(Object(o.a)({},e),{},{tags:Object(r.a)(new Set([].concat(Object(r.a)(e.tags),Object(r.a)(Se.map((function(e){return e.id}))))))})}))});case Object(p.getType)(v.t.success):var Ee=t.payload,ke=Ee.tag,Te=Ee.conversationId;return Object(o.a)(Object(o.a)({},e),{},{conversations:l()(e.conversations,(function(e){return e.sender_id!==Te?e:Object(o.a)(Object(o.a)({},e),{},{tags:e.tags.filter((function(e){return e!==ke.id}))})}))});case Object(p.getType)(v.v.request):return Object(o.a)(Object(o.a)({},e),{},{loading:Object(o.a)(Object(o.a)({},e.loading),{},{e2eTest:!0})});case Object(p.getType)(v.v.success):var Ae=t.payload;return Object(o.a)(Object(o.a)({},e),{},{e2eTest:Ae,loading:Object(o.a)(Object(o.a)({},e.loading),{},{e2eTest:!1})});case Object(p.getType)(v.v.failure):return Object(o.a)(Object(o.a)({},e),{},{loading:Object(o.a)(Object(o.a)({},e.loading),{},{e2eTest:!1}),error:t.payload});case Object(p.getType)(v.a):return Object(o.a)(Object(o.a)({},e),{},{environment:t.payload});case Object(p.getType)(v.y):return Object(o.a)(Object(o.a)({},e),{},{selectedIntent:t.payload});case Object(p.getType)(v.k.success):return Object(o.a)(Object(o.a)({},e),{},{intents:t.payload.sort()});case Object(p.getType)(v.j.success):return Object(o.a)(Object(o.a)({},e),{},{entities:t.payload.sort()});case Object(p.getType)(v.h.success):return Object(o.a)(Object(o.a)({},e),{},{actions:t.payload.sort()});case Object(p.getType)(v.l.success):return Object(o.a)(Object(o.a)({},e),{},{policies:t.payload.sort()});case Object(p.getType)(v.m.success):return Object(o.a)(Object(o.a)({},e),{},{slotNames:t.payload.sort()});case Object(p.getType)(v.n.success):return Object(o.a)(Object(o.a)({},e),{},{slotValues:t.payload.sort()});case Object(p.getType)(v.i.success):return Object(o.a)(Object(o.a)({},e),{},{channels:t.payload.sort()});case Object(p.getType)(v.f.success):return Object(o.a)(Object(o.a)({},e),{},{chatToken:t.payload.chat_token});case Object(p.getType)(v.e.success):return Object(o.a)(Object(o.a)({},e),{},{botName:t.payload.bot_name,botDescription:t.payload.description});case Object(p.getType)(v.b):return Object(o.a)(Object(o.a)({},e),{},{draftFilter:t.payload});case Object(p.getType)(v.r.success):return Object(o.a)(Object(o.a)({},e),{},{conversationsStatistics:t.payload});default:return e}}},104:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(15),a=n(6),o=n(2),c=n(25),i=n(0),s=n(21),l=n(57),u=n(2023),d=n(542),b=n(543),f=n(981),p=(n(1),n(3)),h=n(22),j=n(217),O=(n(1398),n(1399),n(1400),n(1401),Object(s.default)((function(e){e.p,e.pt,e.bg,e.borderRadius,e.boxShadow,e.textAlign;var t=Object(c.a)(e,["p","pt","bg","borderRadius","boxShadow","textAlign"]);return Object(i.jsx)(f.a,Object(o.a)({},t))})).withConfig({displayName:"BaseTooltip__Tippy",componentId:"sc-1ryivhs-0"})(["&&{"," "," ","}.tippy-content{padding:0;}.tippy-content > div{"," ","}.tippy-arrow{transform:scale(0.9);}&&[data-placement^='top']{.tippy-arrow::before{border-top-color:",";}}&&[data-placement^='bottom']{.tippy-arrow::before{border-bottom-color:",";}}&&[data-placement^='left']{.tippy-arrow::before{border-left-color:",";}}&&[data-placement^='right']{.tippy-arrow::before{border-right-color:",";}}&&[data-placement^='right-start']{.tippy-arrow::before{margin-left:-1px;transform:scale(0.8);border-right-color:",";}}"],h.boxShadow,h.borderRadius,h.color,h.space,h.textAlign,(function(e){return Object(h.color)(e).backgroundColor}),(function(e){return Object(h.color)(e).backgroundColor}),(function(e){return Object(h.color)(e).backgroundColor}),(function(e){return Object(h.color)(e).backgroundColor}),(function(e){return Object(h.color)(e).backgroundColor})));function x(e){var t=e.containerStyle,n=e.children,s=e.heading,f=e.content,h=e.inline,x=e.m,v=e.mt,g=e.mr,m=e.mb,y=e.ml,C=e.mx,S=e.my,w=e.p,E=e.pt,k=e.pr,T=e.pb,A=e.pl,_=e.px,D=e.py,R=e.onCloseClick,F=(e.onClose,e.onClickOutside),I=e.onMouseLeave,L=e.onMouseOver,N=Object(c.a)(e,["containerStyle","children","heading","content","inline","m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","onCloseClick","onClose","onClickOutside","onMouseLeave","onMouseOver"]),U={m:x,mt:v,mr:g,mb:m,ml:y,mx:C,my:S},B=Object.fromEntries(Object.entries({p:w,pt:E,pr:k,pb:T,pl:A,px:_,py:D}).filter((function(e){var t=Object(a.a)(e,2);t[0];return void 0!==t[1]}))),M=[j.a].concat(Object(r.a)(N.sticky?[j.e]:[]),Object(r.a)(N.inlinePositioning?[j.d]:[]));return Object(i.jsx)(p.Box,Object(o.a)(Object(o.a)({sx:Object(o.a)(Object(o.a)({},t),h&&{display:"inline-block"})},U),{},{children:Object(i.jsx)(O,Object(o.a)(Object(o.a)({borderRadius:"normal",bg:"neutral_8",plugins:M,content:Object(i.jsxs)(p.Flex,Object(o.a)(Object(o.a)({flexDirection:"column"},B),{},{id:"BaseTooltip",onMouseLeave:I,onMouseOver:L,children:[s&&Object(i.jsxs)(p.Flex,{flexDirection:"row",alignItems:"start",children:[s,R&&Object(i.jsx)(p.Box,{onClick:R,style:{cursor:"pointer"},children:Object(i.jsx)(d.a,{icon:l.faTimes})})]}),Object(i.jsx)(b.a,{as:"div",variant:"bodySecondary",inheritColor:!0,children:f})]})),animation:"shift-toward",arrow:!0,onClickOutside:F?function(e,t){(function(e){return Object(u.a)(e.target,(function(e){return e.id.includes("downshift")}))})(t)||F(e,t)}:function(){}},N),{},{children:Object(i.jsx)(p.Flex,{as:"span",children:n})}))}))}x.defaultProps={maxWidth:"initial"}},1050:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),a=n(24),o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function i(e){var t=e.sx,n=e.inheritColor,i=e.variant,s=void 0===i?"h3":i,l=e.loading,u=(e.css,c(e,["sx","inheritColor","variant","loading","css"]));return Object(r.jsx)(a.e,o({as:s,variant:"heading."+s},u,{sx:o(o(o({fontFamily:"sansSerif",fontWeight:1,letterSpacing:0,lineHeight:"normal",m:0,color:"neutral_8"},t||{}),n?{color:"inherit !important"}:{}),l?{letterSpacing:"0px",color:"neutral_2 !important"}:{})}),void 0)}},1051:function(e,t,n){"use strict";var r=n(0),a=n(1),o=n(24),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},s=a.forwardRef((function(e,t){var n=e.isSelected,a=e.isFocused,s=e.hideSelected,l=e.colorNuance,u=e.variant,d=void 0===u?"default":u,b=i(e,["isSelected","isFocused","hideSelected","colorNuance","variant"]),f={"::before":l&&{content:'""',width:"4px",position:"absolute",left:0,top:"4px",bottom:"4px",backgroundColor:l}};return Object(r.jsx)(o.b,c({ref:t,py:"14px",px:4,bg:n||a?"neutral_1":"transparent",tabIndex:0,variant:"option."+d},b,{sx:c({border:"none",borderRadius:0,cursor:"pointer",display:s&&n?"none":null,fontSize:"13px",lineHeight:"normal",outline:0,textAlign:"left",transition:"all ease .2s",width:"100%",position:"relative"},f)}),void 0)}));t.a=s},11:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return v}));var r=n(7),a=n.n(r),o=n(153),c=n(5),i=n(4),s=n(28),l=a.a.mark(h),u=a.a.mark(j),d=(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]}(s.c.success,s.f.success,s.g.success),[o.a,Object(i.getType)(s.c.success),Object(i.getType)(s.g.success)]),b=[o.a,Object(i.getType)(s.f.success)];function f(e){switch(e.type){case Object(i.getType)(s.c.success):case Object(i.getType)(s.g.success):return e.payload.access_token;case o.a:return e.payload&&e.payload.auth&&e.payload.auth.accessToken||null;default:return null}}function p(e){switch(e.type){case Object(i.getType)(s.f.success):return e.payload.access_token;case o.a:return e.payload&&e.payload.auth&&e.payload.auth.guestAccessToken||null;default:return null}}function h(e,t,n,r){var o;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(o=f(r))){a.next=4;break}return a.next=4,n(e,t,o);case 4:case"end":return a.stop()}}),l)}function j(e,t,n,r){var o;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(o=p(r))){a.next=4;break}return a.next=4,n(e,t,o);case 4:case"end":return a.stop()}}),u)}function O(e,t,n,r){var o,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(o=r?!0===r?c.k:r:c.j,!n)return a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o(e,t);case 2:case"end":return n.stop()}}),n)}));var s=i?j:h,l=i?b:d;return a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(c.k)(l,s,e,t,o);case 2:case"end":return n.stop()}}),n)}))}function x(e,t){return O(Object(i.getType)(e),t,!0)}function v(e,t){return O(Object(i.getType)(e),t,!0,!1,!0)}},110:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c}));var r=n(4),a=Object(r.createAsyncAction)("FETCH TELEMETRY DATA","FETCH TELEMETRY DATA SUCCESS","FETCH TELEMETRY DATA FAILURE")(),o=Object(r.createAsyncAction)("SAVE POWERUSER FORM","SAVE POWERUSER FORM SUCCESS","SAVE POWERUSER FORM FAILURE")(),c=Object(r.createAsyncAction)("SAVE TELEMETRY EVENT","SAVE TELEMETRY EVENT SUCCESS","SAVE TELEMETRY EVENT FAILURE")()},12:function(e,t,n){"use strict";n.d(t,"f",(function(){return O})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return x})),n.d(t,"b",(function(){return v})),n.d(t,"e",(function(){return C}));var r,a,o=n(2),c=n(15),i=n(6),s=n(7),l=n.n(s),u=n(973),d=n(135),b=n(669),f=n.n(b),p=n(4),h=n(28),j=l.a.mark(m),O="current";!function(e){e.Create="create",e.Read="read",e.List="read",e.Update="update",e.Delete="delete"}(r||(r={})),function(e){e.ActionPrediction="actionPrediction",e.AllEvaluations="allEvaluations",e.Analytics="analytics",e.Branch="branch",e.BulkData="bulkData",e.BulkResponses="bulkResponseTemplates",e.BulkStories="bulkStories",e.ChatToken="chatToken",e.ClientEvaulation="clientEvaluation",e.ClientEvents="clientEvents",e.ClientMessages="clientMessages",e.Clients="clients",e.Commit="commit",e.ConversationActions="conversationActions",e.ConversationEntities="conversationEntities",e.ConversationIntents="conversationIntents",e.ConversationPolicies="conversationPolicies",e.Domain="domain",e.EntitySynonyms="entity_synonyms",e.Environments="environments",e.Examples="examples",e.Features="features",e.Intents="intents",e.Insights="insights",e.Logs="logs",e.Lookup="lookup",e.MessageFlags="messageFlags",e.MessageIntents="messageIntents",e.Messages="messages",e.Metadata="metadata",e.Models="models",e.NLGResponse="nlgResponse",e.Projects="projects",e.Regexes="regexes",e.Repositories="repositories",e.RepositoryStatus="repository_status",e.Responses="responseTemplates",e.Roles="roles",e.Rules="rules",e.Statistics="statistics",e.Stories="stories",e.Tests="tests",e.User="user",e.Users="users",e.Warnings="warnings"}(a||(a={}));var x="none",v={accessToken:null,apiToken:"",enterpriseUser:!1,error:null,features:[],guestAccessToken:null,guestUsername:null,loading:!1,newEnterpriseUser:!1,permissions:[],role:[x],username:null},g={get:"read",list:"read"};function m(e){var t,n,r,a,o,c,i,s,b,f;return l.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:t=Object(d.a)(e),l.prev=1,t.s();case 3:if((n=t.n()).done){l.next=25;break}r=n.value,a=r.split(":"),o=Object(u.a)(a),c=o[0],i=o.slice(1),s=Object(d.a)(i),l.prev=7,s.s();case 9:if((b=s.n()).done){l.next=15;break}return f=b.value,l.next=13,[c,f];case 13:l.next=9;break;case 15:l.next=20;break;case 17:l.prev=17,l.t0=l.catch(7),s.e(l.t0);case 20:return l.prev=20,s.f(),l.finish(20);case 23:l.next=3;break;case 25:l.next=30;break;case 27:l.prev=27,l.t1=l.catch(1),t.e(l.t1);case 30:return l.prev=30,t.f(),l.finish(30);case 33:case"end":return l.stop()}}),j,null,[[1,27,30,33],[7,17,20,23]])}function y(e){var t,n={},r=Object(d.a)(m(e));try{var s=function(){var e=Object(i.a)(t.value,2),r=e[0],s=e[1],l=r.split("."),u=g[s]||s,d=Object.entries(a).find((function(e){return Object(i.a)(e,2)[1]===l[0]}));if(void 0===d)return"continue";var b=a[d[0]],f=l.slice(1);n[b]||(n[b]={});var p=n[b][u]||{role:O,resource:b,action:u,possession:"any",attributes:[]};if("*"===p.attributes[0])return"continue";var h=0===f.length?["*"]:[].concat(Object(c.a)(p.attributes),Object(c.a)(f));n[b][u]=Object(o.a)(Object(o.a)({},p),{},{attributes:h})};for(r.s();!(t=r.n()).done;)s()}catch(l){r.e(l)}finally{r.f()}return Object.keys(n).flatMap((function(e){var t=n[e];return Object.keys(t).map((function(e){return t[e]}))}))}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(p.getType)(h.g.failure):return Object(o.a)(Object(o.a)({},e),{},{error:t.payload,accessToken:null,username:null});case Object(p.getType)(h.f.success):var n=t.payload.access_token,r=f()(n),a=r.username;return Object(o.a)(Object(o.a)({},e),{},{guestAccessToken:n,guestUsername:a});case Object(p.getType)(h.c.success):case Object(p.getType)(h.g.success):var c=t.payload.access_token,i=f()(c),s=i.username,l=i.scopes,u=i.user,d=u.roles,b=u.api_token,j=Object(o.a)(Object(o.a)({},e),{},{error:null,accessToken:c,username:s,permissions:y(l)}),O=Object(o.a)(Object(o.a)({},j),{},{apiToken:b,role:d});return t.type===Object(p.getType)(h.g.success)?O:Object(o.a)(Object(o.a)({},O),{},{newEnterpriseUser:null===s,enterpriseUser:!0});case Object(p.getType)(h.h):return Object(o.a)({},v);case Object(p.getType)(h.d.success):return Object(o.a)(Object(o.a)({},e),{},{features:t.payload});case Object(p.getType)(h.i.success):var x=t.payload;return Object(o.a)(Object(o.a)({},e),{},{features:e.features.map((function(e){return e.name===x.name?x:e}))});case Object(p.getType)(h.b.success):var g=t.payload,m=g.username,C=g.api_token,S=g.roles;return Object(o.a)(Object(o.a)({},e),{},{error:null,username:m,apiToken:C,role:S});case Object(p.getType)(h.b.failure):return Object(o.a)(Object(o.a)({},e),{},{error:t.payload});case Object(p.getType)(h.c.failure):return Object(o.a)(Object(o.a)({},e),{},{error:t.payload,newEnterpriseUser:!1,enterpriseUser:!1});default:return e}}},1251:function(e,t,n){},126:function(e,t,n){"use strict";n.d(t,"b",(function(){return P}));var r=n(7),a=n.n(r),o=n(8),c=n(5),i=n(4),s=n(20),l=n(19),u=n(34),d=n(35),b=n(45),f=n(27),p=n(165),h=n(11),j=n(32),O=a.a.mark(_),x=a.a.mark(D),v=a.a.mark(R),g=a.a.mark(F),m=a.a.mark(I),y=a.a.mark(L),C=a.a.mark(N),S=a.a.mark(U),w=a.a.mark(B),E=a.a.mark(M),k=a.a.mark(P),T=a.a.mark(H),A=p.a.filter;function _(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.delegateYield(Object(c.b)(o.ib,e,"default"),"t0",2);case 2:return t=n.t0,n.next=5,Object(c.f)(j.e.success(t));case 5:n.next=13;break;case 7:return n.prev=7,n.t1=n.catch(0),n.next=11,Object(s.a)(n.t1);case 11:return n.next=13,Object(c.f)(j.e.failure(n.t1));case 13:case"end":return n.stop()}}),O,null,[[0,7]])}function D(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.delegateYield(Object(c.b)(o.Bb,e,"default"),"t0",2);case 2:return t=n.t0,n.next=5,Object(c.f)(j.g.success(t));case 5:n.next=13;break;case 7:return n.prev=7,n.t1=n.catch(0),n.next=11,Object(s.a)(n.t1);case 11:return n.next=13,Object(c.f)(j.g.failure(n.t1));case 13:case"end":return n.stop()}}),x,null,[[0,7]])}function R(e,t){var n,r,i,l,u,d,b;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,r=n.repositoryUrl,i=n.targetBranch,l=n.protectedBranch,u=n.username,d=n.password,a.prev=1,a.delegateYield(Object(c.b)(o.j,e,"default",r,i,l,u,d),"t0",3);case 3:return b=a.t0,a.next=6,Object(c.f)(j.c.success(b));case 6:a.next=14;break;case 8:return a.prev=8,a.t1=a.catch(1),a.next=12,Object(s.a)(a.t1);case 12:return a.next=14,Object(c.f)(j.c.failure(a.t1));case 14:case"end":return a.stop()}}),v,null,[[1,8]])}function F(e,t){var n,r,i,l,u,d,b;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,r=n.repositoryId,i=n.targetBranch,l=n.protectedBranch,u=n.username,d=n.password,a.prev=1,a.delegateYield(Object(c.b)(o.Bc,e,"default",r,i,l,u,d),"t0",3);case 3:return b=a.t0,a.next=6,Object(c.f)(j.j.success(b));case 6:a.next=14;break;case 8:return a.prev=8,a.t1=a.catch(1),a.next=12,Object(s.a)(a.t1);case 12:return a.next=14,Object(c.f)(j.j.failure(a.t1));case 14:case"end":return a.stop()}}),g,null,[[1,8]])}function I(e,t){var n,r;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload.repositoryId,a.prev=1,a.delegateYield(Object(c.b)(o.t,e,"default",n),"t0",3);case 3:return r=a.t0,a.next=6,Object(c.f)(j.d.success(r));case 6:a.next=14;break;case 8:return a.prev=8,a.t1=a.catch(1),a.next=12,Object(s.a)(a.t1);case 12:return a.next=14,Object(c.f)(j.d.failure(a.t1));case 14:case"end":return a.stop()}}),m,null,[[1,8]])}function L(e,t){var n,r,i;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.delegateYield(Object(c.h)((function(e){return e.gitRepositories.activeGitRepository})),"t0",1);case 1:if(null!==(n=a.t0)){a.next=4;break}return a.abrupt("return");case 4:return r=t.payload.repositoryId,a.prev=5,a.delegateYield(Object(c.b)(o.jb,e,"default",r||n.id),"t1",7);case 7:return i=a.t1,a.next=10,Object(c.f)(j.f.success(i));case 10:if(!i.is_remote_ahead){a.next=13;break}return a.next=13,H();case 13:a.next=21;break;case 15:return a.prev=15,a.t2=a.catch(5),a.next=19,Object(s.a)(a.t2);case 19:return a.next=21,Object(c.f)(j.f.failure(a.t2));case 21:case"end":return a.stop()}}),y,null,[[5,15]])}function N(e){var t,n;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t=e.payload.repositoryId;case 1:return r.next=4,Object(c.f)(j.f.request({repositoryId:t}));case 4:return r.delegateYield(Object(c.h)((function(e){return e.gitRepositories.error.fetchGitRepositoryStatus})),"t0",5);case 5:return n=r.t0,r.next=8,Object(c.d)(n?1e4:6e4);case 8:r.next=1;break;case 10:case"end":return r.stop()}}),C)}function U(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.g)({poll:Object(c.b)(N,e),stop:Object(c.i)(Object(i.getType)(j.i))});case 2:case"end":return t.stop()}}),S)}function B(e,t){var n,r,i,l;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,r=n.repositoryId,i=n.branchName,l=n.commitMessage,a.prev=1,a.delegateYield(Object(c.b)(o.h,e,"default",r,i,l),"t0",3);case 3:return a.next=5,Object(c.f)(j.b.success());case 5:return a.next=7,Object(c.f)(j.f.request({repositoryId:r}));case 7:a.next=16;break;case 9:return a.prev=9,a.t1=a.catch(1),a.next=13,Object(s.a)(a.t1);case 13:return console.log({error:a.t1}),a.next=16,Object(c.f)(j.b.failure({name:a.t1.response.data.reason,message:a.t1.response.data.message}));case 16:case"end":return a.stop()}}),w,null,[[1,9]])}function M(e,t){var n,r,i,l,u;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,r=n.repositoryId,i=n.branchName,l=n.force,u=void 0!==l&&l,a.prev=1,a.delegateYield(Object(c.b)(o.f,e,"default",r,i,u),"t0",3);case 3:return a.next=5,Object(c.f)(j.a.success());case 5:return a.next=7,Object(c.f)(j.f.request({repositoryId:r}));case 7:return a.next=9,H();case 9:a.next=17;break;case 11:return a.prev=11,a.t1=a.catch(1),a.next=15,Object(s.a)(a.t1);case 15:return a.next=17,Object(c.f)(j.a.failure(a.t1));case 17:case"end":return a.stop()}}),E,null,[[1,11]])}function P(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.f)(j.f.request({}));case 2:case"end":return e.stop()}}),k)}function H(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.a)([Object(c.f)(d.h.request({offset:0,limit:20})),Object(c.f)(d.f.request()),Object(c.f)(l.h.request({search:"",offset:0,limit:20})),Object(c.f)(l.i.request()),Object(c.f)(l.f.request()),Object(c.f)(f.e.request({search:"",filter:A,offset:0,limit:20})),Object(c.f)(b.b.request({search:"",offset:0,limit:20})),Object(c.f)(u.f.request()),Object(c.f)(u.c.request())]);case 2:case"end":return e.stop()}}),T)}var q=[Object(h.a)(Object(i.getType)(j.f.request),L,!0,!0),Object(h.a)(Object(i.getType)(j.g.request),D,!0,!0),Object(h.a)(Object(i.getType)(j.c.request),R,!0,!0),Object(h.a)(Object(i.getType)(j.j.request),F,!0,!0),Object(h.a)(Object(i.getType)(j.d.request),I,!0,!0),Object(h.a)(Object(i.getType)(j.e.request),_,!0,!0),Object(h.a)(Object(i.getType)(j.b.request),B,!0,!0),Object(h.a)(Object(i.getType)(j.a.request),M,!0,!0),Object(h.a)(Object(i.getType)(j.h),U,!1,!0)];t.a=q},128:function(e,t,n){"use strict";var r;n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var a=3e3,o=500,c=15,i=(null===(r=window.SERVER_DATA)||void 0===r?void 0:r.api_url)||Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL||new URL(window.location.href).origin,s=function(){try{return new URL(i).pathname}catch(e){if(e instanceof TypeError)return"/";throw e}}()},130:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d}));var r,a=n(15),o=n(2),c=n(4),i=n(17),s=n(39),l=n(36);!function(e){e.Loading="loading",e.ClassifyingIntent="classifyingIntent",e.ConfirmingAction="confirmingAction",e.Ready="ready"}(r||(r={}));var u={conversationId:null,strictMode:!1,environment:"production",parsedMessage:null,parsedMessageConversationId:null,predictedAction:null,predictedActions:[],storyName:"New Story",savedStoryId:null,loading:{}};function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(c.getType)(l.d):return Object(o.a)(Object(o.a)({},e),{},{strictMode:t.payload});case Object(c.getType)(l.j.request):return Object(o.a)(Object(o.a)({},e),{},{loading:Object(o.a)(Object(o.a)({},e.loading),{},{parseMessage:!0})});case Object(c.getType)(l.j.success):case Object(c.getType)(l.b):return Object(o.a)(Object(o.a)({},e),{},{parsedMessage:t.payload,parsedMessageConversationId:e.conversationId,loading:Object(o.a)(Object(o.a)({},e.loading),{},{parseMessage:!1})});case Object(c.getType)(l.a):return Object(o.a)(Object(o.a)({},e),{},{parsedMessage:null,loading:Object(o.a)(Object(o.a)({},e.loading),{},{parseMessage:!0})});case Object(c.getType)(i.g.success):var n=t.payload.conversation,r=e.parsedMessageConversationId===n.sender_id;return Object(o.a)(Object(o.a)({},e),{},{parsedMessage:r?e.parsedMessage:null});case Object(c.getType)(l.k.request):return Object(o.a)(Object(o.a)({},e),{},{loading:Object(o.a)(Object(o.a)({},e.loading),{},{saveEvent:!0})});case Object(c.getType)(i.x.success):case Object(c.getType)(l.k.success):return Object(o.a)(Object(o.a)({},e),{},{parsedMessage:null,loading:Object(o.a)(Object(o.a)({},e.loading),{},{saveEvent:!1})});case Object(c.getType)(l.i.success):var d=t.payload,b=d.prediction,f=d.actions,p=Object(a.a)(b.scores).sort((function(e,t){return t.score-e.score})),h=[].concat(Object(a.a)(p),Object(a.a)(f.filter((function(e){return!p.find((function(t){return t.action!==e}))})).map((function(e){return{action:e,score:0}}))));return Object(o.a)(Object(o.a)({},e),{},{predictedActions:h,predictedAction:h[0]});case Object(c.getType)(l.c):var j=t.payload;return Object(o.a)(Object(o.a)({},e),{},{predictedAction:j});case Object(c.getType)(l.g.request):case Object(c.getType)(l.f.request):return Object(o.a)(Object(o.a)({},e),{},{loading:Object(o.a)(Object(o.a)({},e.loading),{},{confirmPrediction:!0})});case Object(c.getType)(l.g.success):case Object(c.getType)(l.f.success):return Object(o.a)(Object(o.a)({},e),{},{predictedActions:[],predictedAction:null,loading:Object(o.a)(Object(o.a)({},e.loading),{},{confirmPrediction:!1})});case Object(c.getType)(s.i.request):return Object(o.a)(Object(o.a)({},e),{},{loading:Object(o.a)(Object(o.a)({},e.loading),{},{saveStory:!0}),savedStoryId:null});case Object(c.getType)(s.i.success):return Object(o.a)(Object(o.a)({},u),{},{loading:Object(o.a)(Object(o.a)({},e.loading),{},{saveStory:!1}),savedStoryId:t.payload[0].id});case Object(c.getType)(l.e):return Object(o.a)(Object(o.a)({},u),t.payload);case Object(c.getType)(l.h.success):return Object(o.a)(Object(o.a)({},e),{},{conversationId:t.payload.sender_id});default:return e}}},137:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return null!=e}},149:function(e,t,n){"use strict";n.d(t,"b",(function(){return pc}));var r,a=n(154),o=n.n(a),c=n(127),i=n(153),s=n(974),l=n.n(s),u=n(975),d=n.n(u),b=n(976),f=n(1047),p=n(19),h=n(43),j=n(50),O=n(38),x="".concat(a.DEFAULT_PREFIX,"::").concat(a.WEBSOCKET_MESSAGE),v="".concat(a.DEFAULT_PREFIX,"::").concat(a.WEBSOCKET_ERROR);!function(e){e[e.Onboarding=0]="Onboarding",e[e.Conversations=1]="Conversations",e[e.Insights=2]="Insights",e[e.Message_Log_Updated=3]="Message_Log_Updated",e[e.Training_Example_Updated=4]="Training_Example_Updated",e[e.Training_Example_Created=5]="Training_Example_Created",e[e.Training_Example_Deleted=6]="Training_Example_Deleted"}(r||(r={}));var g=function(e){return function(e){return function(t){if(t.type===v&&(console.warn("WebSockets Error:",t.payload),e(t)),t.type===x){var n=function(e){return JSON.parse(e.payload.message)}(t),a=function(e){switch("".concat(e.topic,"_").concat(e.name)){case"ivc_connected":case"ivc_changes_pushed":case"models_model_added":case"models_model_promoted":case"nlu_message_annotated":return r.Onboarding;case"messages_message_sent":return"rasa"!==e.data.channel?r.Onboarding:r.Conversations;case"insights_evaluation_done":return r.Insights;case"nlu_message_log_updated":return r.Message_Log_Updated;case"nlu_training_example_created":return r.Training_Example_Created;case"nlu_training_example_updated":return r.Training_Example_Updated;case"nlu_log_unmarked_as_in_workspace":case"nlu_log_unmarked_as_in_training_data":return r.Training_Example_Deleted;default:return null}}(n),o=n.data;switch(a){case r.Onboarding:return void e(Object(j.d)(n));case r.Insights:return void e(Object(h.e)(n));case r.Message_Log_Updated:return void e(O.c(o.drafts));case r.Training_Example_Created:if(void 0===o)return;return void e(Object(p.r)(o.examples));case r.Training_Example_Updated:if(void 0===o)return;return void e(Object(p.s)(o.examples));case r.Training_Example_Deleted:if(void 0===o)return;return void e(Object(p.q)(o.hash));default:return}}e(t)}}},m=n(15),y=n(7),C=n.n(y),S=n(16),w=n(8),E=n(4),k=n(20),T=n(11),A=n(247),_=C.a.mark(D);function D(e,t){var n,r,a,o,c;return C.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,n=t.payload,r=n.bucket,a=n.start,o=n.end,i.next=4,Object(S.d)(w.K,e,r,a,o);case 4:return c=i.sent,i.next=7,Object(S.n)(A.a.success(c));case 7:i.next=15;break;case 9:return i.prev=9,i.t0=i.catch(0),i.next=13,Object(k.a)(i.t0);case 13:return i.next=15,Object(S.n)(A.a.failure(i.t0));case 15:case"end":return i.stop()}}),_,null,[[0,9]])}var R=[Object(T.a)(Object(E.getType)(A.a.request),D,!0)],F=n(192),I=C.a.mark(L);function L(e){var t,n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=(null===(t=e.payload)||void 0===t?void 0:t.skipExternal)||!1,a.prev=1,a.next=4,Object(S.d)(w.Mb,n);case 4:return r=a.sent,a.next=7,Object(S.n)(F.a.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(k.a)(a.t0);case 13:return a.next=15,Object(S.n)(F.a.failure(a.t0));case 15:case"end":return a.stop()}}),I,null,[[1,9]])}var N=[Object(T.a)(Object(E.getType)(F.a.request),L,!1)],U=n(28),B=C.a.mark(Y),M=C.a.mark(z),P=C.a.mark(K),H=C.a.mark(Q),q=C.a.mark(X),G=C.a.mark(J),W=C.a.mark(Z),V=C.a.mark($);function Y(e,t){var n,r,a;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(n=t.payload.username)){o.next=7;break}return(r=new Error).message="Please enter a username",o.next=6,Object(S.n)(U.b.failure(r));case 6:return o.abrupt("return");case 7:return o.prev=7,o.next=10,Object(S.d)(w.m,e,n);case 10:return a=o.sent,o.next=13,Object(S.n)(U.b.success(a));case 13:o.next=20;break;case 15:return o.prev=15,o.t0=o.catch(7),o.t0.response&&404===o.t0.response.status&&(o.t0.message=o.t0.response.data.details.message),o.next=20,Object(S.n)(U.b.failure(o.t0));case 20:case"end":return o.stop()}}),B,null,[[7,15]])}function z(e,t){var n,r,a,o,c,i;return C.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.payload,r=n.username,a=n.oldPassword,o=n.newPassword,c=n.newPasswordConfirm,s.prev=1,s.next=4,Object(S.d)(w.g,e,r,a,o,c);case 4:return i=s.sent,s.next=7,Object(S.n)(U.a.success(i));case 7:s.next=15;break;case 9:return s.prev=9,s.t0=s.catch(1),s.next=13,Object(k.a)(s.t0);case 13:return s.next=15,Object(S.n)(U.a.failure(s.t0));case 15:case"end":return s.stop()}}),M,null,[[1,9]])}function K(e){var t;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(S.d)(w.hb,e);case 3:return t=n.sent,n.next=6,Object(S.n)(U.d.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(k.a)(n.t0);case 12:return n.next=14,Object(S.n)(U.d.failure(n.t0));case 14:case"end":return n.stop()}}),P,null,[[0,8]])}function Q(){var e;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(S.d)(w.Cb);case 3:return e=t.sent,t.next=6,Object(S.n)(U.e.success(e));case 6:window.location.assign(e.redirect_to),t.next=15;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(k.a)(t.t0);case 13:return t.next=15,Object(S.n)(U.e.failure(t.t0));case 15:case"end":return t.stop()}}),H,null,[[0,9]])}function X(e){var t,n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.singleUseToken,r.prev=1,r.next=4,Object(S.d)(w.bb,t);case 4:return n=r.sent,r.next=7,Object(S.n)(U.c.success(n));case 7:r.next=19;break;case 9:if(r.prev=9,r.t0=r.catch(1),!r.t0.response){r.next=17;break}if(401!==r.t0.response.status){r.next=17;break}return r.t0.message="Invalid token",r.next=17,Object(S.n)(U.g.failure(r.t0));case 17:return r.next=19,Object(S.n)(U.c.failure(r.t0));case 19:case"end":return r.stop()}}),q,null,[[1,9]])}function J(e){var t,n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.payload.chatToken,r.next=4,Object(S.d)(w.Jb,t);case 4:return n=r.sent,r.next=7,Object(S.n)(U.f.success(n));case 7:r.next=15;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Object(k.a)(r.t0);case 13:return r.next=15,Object(S.n)(U.f.failure(r.t0));case 15:case"end":return r.stop()}}),G,null,[[0,9]])}function Z(e,t){var n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(S.d)(w.hc,e,t.payload);case 3:return n=r.sent,r.next=6,Object(S.n)(U.i.success(n));case 6:r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,Object(k.a)(r.t0);case 12:return r.next=14,Object(S.n)(U.i.failure(r.t0));case 14:case"end":return r.stop()}}),W,null,[[0,8]])}function $(e){var t,n,r,a,o;return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(t=e.payload,n=t.username,r=t.password,""!==n&&""!==r){c.next=7;break}return(a=new Error).message="Please fill all the fields",c.next=6,Object(S.n)(U.g.failure(a));case 6:return c.abrupt("return");case 7:return c.prev=7,c.next=10,Object(S.d)(w.Ub,n,r);case 10:return o=c.sent,c.next=13,Object(S.n)(U.g.success(o));case 13:c.next=25;break;case 15:if(c.prev=15,c.t0=c.catch(7),!c.t0.response){c.next=23;break}if(401!==c.t0.response.status){c.next=23;break}return c.t0.message="Wrong credentials",c.next=23,Object(S.n)(U.g.failure(c.t0));case 23:return c.next=25,Object(S.n)(U.g.failure(c.t0));case 25:case"end":return c.stop()}}),V,null,[[7,15]])}var ee=[Object(T.a)(Object(E.getType)(U.b.request),Y,!0),Object(T.a)(Object(E.getType)(U.a.request),z,!0),Object(T.a)(Object(E.getType)(U.c.request),X),Object(T.a)(Object(E.getType)(U.d.request),K,!0),Object(T.a)(Object(E.getType)(U.e.request),Q),Object(T.a)(Object(E.getType)(U.f.request),J),Object(T.a)(Object(E.getType)(U.g.request),$),Object(T.a)(Object(E.getType)(U.i.request),Z,!0)],te=n(2),ne=n(189),re=n(391),ae=n.n(re),oe=n(112),ce=n.n(oe),ie=n(126),se=n(35),le=n(47),ue=n(150),de=C.a.mark(Te),be=C.a.mark(Ae),fe=C.a.mark(_e),pe=C.a.mark(De),he=C.a.mark(Re),je=C.a.mark(Fe),Oe=C.a.mark(Le),xe=C.a.mark(Ne),ve=C.a.mark(Ue),ge=C.a.mark(Be),me=C.a.mark(Me),ye=C.a.mark(Pe),Ce=C.a.mark(He),Se=C.a.mark(qe),we=C.a.mark(Ge),Ee=C.a.mark(We),ke=C.a.mark(Ve);function Te(e,t){var n,r,a;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,o.prev=1,r=ae()(n),o.next=5,Object(S.d)(w.fb,e,"default",r);case 5:return a=o.sent,o.next=8,Object(S.n)(p.g.success(a));case 8:o.next=16;break;case 10:return o.prev=10,o.t0=o.catch(1),o.next=14,Object(k.a)(o.t0);case 14:return o.next=16,Object(S.n)(p.g.failure(o.t0));case 16:case"end":return o.stop()}}),de,null,[[1,10]])}function Ae(e,t){var n,r,a,o,c,i,s,l,u,d;return C.a.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:return n=t.payload,r=n.search,a=n.offset,o=n.limit,b.prev=1,c=ce.a.parse(r),i=c.getAllText(),s=c.getConditionArray().filter((function(e){return"intent"===e.keyword})).map((function(e){return e.value})).join(","),b.next=7,Object(S.d)(w.gb,e,"default",i,s,o,a);case 7:return l=b.sent,u=l.examples,d=l.total,b.next=12,Object(S.n)(p.h.success({examples:u,total:d,offset:a}));case 12:b.next=20;break;case 14:return b.prev=14,b.t0=b.catch(1),b.next=18,Object(k.a)(b.t0);case 18:return b.next=20,Object(S.n)(p.h.failure(b.t0));case 20:case"end":return b.stop()}}),be,null,[[1,14]])}function _e(e,t){var n,r,a;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r=ae()(n),o.prev=2,o.next=5,Object(S.d)(w.fb,e,"default",r);case 5:return o.next=7,Object(S.n)(p.c.success(!0));case 7:o.next=20;break;case 9:if(o.prev=9,o.t0=o.catch(2),404!==(null===o.t0||void 0===o.t0||null===(a=o.t0.response)||void 0===a?void 0:a.status)){o.next=16;break}return o.next=14,Object(S.n)(p.c.success(!1));case 14:o.next=20;break;case 16:return o.next=18,Object(k.a)(o.t0);case 18:return o.next=20,Object(S.n)(p.c.failure(o.t0));case 20:case"end":return o.stop()}}),fe,null,[[2,9]])}function De(e){var t,n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(S.d)(w.mb,e,"default");case 3:return t=r.sent,n=t.map((function(e){return e.intent})),r.next=7,Object(S.n)(p.i.success(n));case 7:r.next=15;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Object(k.a)(r.t0);case 13:return r.next=15,Object(S.n)(p.i.failure(r.t0));case 15:case"end":return r.stop()}}),pe,null,[[0,9]])}function Re(e){var t,n,r,a,o;return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(S.d)(w.F,e,"default");case 3:t=c.sent,n=t.examples,r=t.filename,a=r.split("filename=")[1].split(";")[0],o=new Blob([n],{type:"*/*;charset=utf-8"}),Object(ne.saveAs)(o,a),c.next=17;break;case 11:return c.prev=11,c.t0=c.catch(0),c.next=15,Object(k.a)(c.t0);case 15:return c.next=17,Object(S.n)(p.h.failure(c.t0));case 17:case"end":return c.stop()}}),he,null,[[0,11]])}function Fe(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(S.d)(w.gc,e,"default",n);case 4:return r=a.sent,a.next=7,Object(S.n)(p.l.success(r));case 7:return a.next=9,Object(S.n)(p.f.request());case 9:a.next=17;break;case 11:return a.prev=11,a.t0=a.catch(1),a.next=15,Object(k.a)(a.t0);case 15:return a.next=17,Object(S.n)(p.l.failure(a.t0));case 17:case"end":return a.stop()}}),je,null,[[1,11]])}var Ie=function(e){var t=e.user_input.intent&&e.user_input.intent.name;if(!t)throw new Error("Cannot save suggestion with null intent");return{entities:e.user_input.entities.map((function(e){return Object(te.a)(Object(te.a)({},e),{},{start:e.start,end:e.end})})),text:e.user_input.text,intent:t,project_id:e.project_id,team:e.team}};function Le(e){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(S.b)(e.entities.filter((function(e){return e.entity_synonym_id})).map((function(e){var t=e.entity_synonym_id,n=e.value;return t&&Object(S.n)(le.d.request({id:t,mapped_values:[{value:n}]}))})));case 2:case"end":return t.stop()}}),Oe)}function Ne(e,t){var n,r,a,o;return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(n=t.payload,r=n.map((function(e){return Ie(e)})),a=r.some((function(e){return e.entities.some((function(e){return e.entity_synonym_id}))})),c.prev=3,!a){c.next=7;break}return c.next=7,Object(S.b)(r.map((function(e){return Le(e)})));case 7:return c.next=9,Object(S.d)(w.gc,e,"default",r);case 9:return o=c.sent,c.next=12,Object(S.n)(p.m.success(o));case 12:return c.next=14,Object(S.n)(p.f.request());case 14:c.next=22;break;case 16:return c.prev=16,c.t0=c.catch(3),c.next=20,Object(k.a)(c.t0);case 20:return c.next=22,Object(S.n)(p.m.failure(c.t0));case 22:case"end":return c.stop()}}),xe,null,[[3,16]])}function Ue(e,t){var n,r,a;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r={entities:(c=n).entities,text:c.text,intent:c.intent,project_id:"default",team:"default"},o.prev=2,o.next=5,Object(S.d)(w.gc,e,"default",[r]);case 5:return a=o.sent,o.next=8,Object(S.n)(p.k.success(a));case 8:return o.next=10,Object(S.n)(p.f.request());case 10:o.next=18;break;case 12:return o.prev=12,o.t0=o.catch(2),o.next=16,Object(k.a)(o.t0);case 16:return o.next=18,Object(S.n)(p.k.failure(o.t0));case 18:case"end":return o.stop()}var c}),ve,null,[[2,12]])}function Be(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(S.d)(w.Ac,e,"default",n);case 4:return r=a.sent,a.next=7,Object(S.b)(n.map((function(e){return e.entities.some((function(e){return e.entity_synonym_id}))&&Le(e)})));case 7:return a.next=9,Object(S.n)(p.o.success(r));case 9:return a.next=11,Object(S.n)(O.k(t.payload));case 11:return a.next=13,Object(S.n)(p.f.request());case 13:a.next=21;break;case 15:return a.prev=15,a.t0=a.catch(1),a.next=19,Object(k.a)(a.t0);case 19:return a.next=21,Object(S.n)(p.o.failure(a.t0));case 21:case"end":return a.stop()}}),ge,null,[[1,15]])}function Me(e,t){var n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.payload,r.prev=1,r.next=4,Object(S.d)(w.s,e,"default",n);case 4:return r.next=6,Object(S.n)(p.d.success(n));case 6:return r.next=8,Object(S.n)(O.b(n));case 8:return r.next=10,Object(S.n)(p.f.request());case 10:r.next=18;break;case 12:return r.prev=12,r.t0=r.catch(1),r.next=16,Object(k.a)(r.t0);case 16:return r.next=18,Object(S.n)(p.d.failure(r.t0));case 18:case"end":return r.stop()}}),me,null,[[1,12]])}function Pe(e,t){var n,r,a,o,c,i;return C.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.payload,r=n.examples,a=n.fileName,o=Object(ue.a)(a),s.prev=2,s.next=5,Object(S.d)(w.Nc,e,"default",r,o);case 5:return c=s.sent,s.next=8,Object(S.n)(p.p.success(c));case 8:return s.next=10,Object(S.r)((function(e){return e.examples.searchQuery}));case 10:return i=s.sent,s.next=13,Object(S.n)(p.i.request());case 13:return s.next=15,Object(S.n)(p.f.request());case 15:return s.next=17,Object(S.n)(p.h.request({search:i,offset:0,limit:20}));case 17:return s.next=19,Object(S.n)(se.h.request({offset:0,limit:20}));case 19:return s.next=21,Object(S.n)(se.f.request());case 21:s.next=29;break;case 23:return s.prev=23,s.t0=s.catch(2),s.next=27,Object(k.a)(s.t0);case 27:return s.next=29,Object(S.n)(p.p.failure(s.t0));case 29:case"end":return s.stop()}}),ye,null,[[2,23]])}function He(e){var t;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(S.d)(w.Ob,e,"default");case 3:return t=n.sent,n.next=6,Object(S.n)(p.j.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(k.a)(n.t0);case 12:return n.next=14,Object(S.n)(p.j.failure(n.t0));case 14:case"end":return n.stop()}}),Ce,null,[[0,8]])}function qe(e){var t,n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(S.d)(w.cb,e,"default");case 3:return t=r.sent,n=t.map((function(e){return e.entity})),r.next=7,Object(S.n)(p.f.success(n));case 7:r.next=15;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Object(k.a)(r.t0);case 13:return r.next=15,Object(S.n)(p.f.failure(r.t0));case 15:case"end":return r.stop()}}),Se,null,[[0,9]])}function Ge(e){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(S.n)(O.m(e.payload));case 2:case"end":return t.stop()}}),we)}function We(e){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(S.n)(O.n(e.payload));case 2:case"end":return t.stop()}}),Ee)}function Ve(e){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(S.n)(O.l(e.payload));case 2:case"end":return t.stop()}}),ke)}var Ye=[Object(T.a)(Object(E.getType)(p.g.request),Te,!0),Object(T.a)(Object(E.getType)(p.h.request),Ae,!0,!0),Object(T.a)(Object(E.getType)(p.c.request),_e,!0),Object(T.a)(Object(E.getType)(p.i.request),De,!0),Object(T.a)(Object(E.getType)(p.e),Re,!0),Object(T.a)(Object(E.getType)(p.l.request),Fe,!0),Object(T.a)(Object(E.getType)(p.m.request),Ne,!0),Object(T.a)(Object(E.getType)(p.k.request),Ue,!0),Object(T.a)(Object(E.getType)(p.o.request),Be,!0),Object(T.a)(Object(E.getType)(p.d.request),Me,!0),Object(T.a)(Object(E.getType)(p.p.request),Pe,!0),Object(T.a)(Object(E.getType)(p.j.request),He,!0),Object(T.a)(Object(E.getType)(p.r),Ge),Object(T.a)(Object(E.getType)(p.s),We),Object(T.a)(Object(E.getType)(p.q),Ve),Object(T.a)(Object(E.getType)(p.f.request),qe,!0),Object(T.a)([Object(E.getType)(p.l.success),Object(E.getType)(p.m.success),Object(E.getType)(p.k.success),Object(E.getType)(p.o.success),Object(E.getType)(p.d.success),Object(E.getType)(p.p.success)],ie.b)],ze=n(5),Ke=C.a.mark(tt),Qe=C.a.mark(nt),Xe=C.a.mark(rt),Je=C.a.mark(at),Ze=C.a.mark(ot),$e=C.a.mark(ct),et=C.a.mark(it);function tt(e,t){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.delegateYield(Object(ze.b)(w.Rb,e),"t0",2);case 2:return n=t.t0,t.next=5,Object(ze.f)(h.d.success(n));case 5:t.next=13;break;case 7:return t.prev=7,t.t1=t.catch(0),t.next=11,Object(k.a)(t.t1);case 11:return t.next=13,Object(ze.f)(h.d.failure(t.t1));case 13:case"end":return t.stop()}}),Ke,null,[[0,7]])}function nt(e,t){var n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.delegateYield(Object(ze.b)(w.Vb,e,t.payload),"t0",2);case 2:return n=r.t0,r.next=5,Object(ze.f)(h.f.success(n));case 5:r.next=13;break;case 7:return r.prev=7,r.t1=r.catch(0),r.next=11,Object(k.a)(r.t1);case 11:return r.next=13,Object(ze.f)(h.f.failure(r.t1));case 13:case"end":return r.stop()}}),Qe,null,[[0,7]])}function rt(e){var t;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.delegateYield(Object(ze.b)(w.ac,e),"t0",2);case 2:return t=n.t0,n.next=5,Object(ze.f)(h.g.success(t));case 5:n.next=13;break;case 7:return n.prev=7,n.t1=n.catch(0),n.next=11,Object(k.a)(n.t1);case 11:return n.next=13,Object(ze.f)(h.g.failure(n.t1));case 13:case"end":return n.stop()}}),Xe,null,[[0,7]])}function at(e,t){var n,r,a;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload.status,o.prev=1,o.delegateYield(Object(ze.b)(w.sb,e,1,0,n,"desc"),"t0",3);case 3:return r=o.t0,a=r.reports,o.next=7,Object(ze.f)(h.b.success({reports:a,status:n}));case 7:o.next=15;break;case 9:return o.prev=9,o.t1=o.catch(1),o.next=13,Object(k.a)(o.t1);case 13:return o.next=15,Object(ze.f)(h.b.failure({error:o.t1,status:n}));case 15:case"end":return o.stop()}}),Je,null,[[1,9]])}function ot(e,t){var n,r,a,o,c,i,s,l,u;return C.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return n=t.payload,r=n.reportId,a=n.offset,o=n.search,c=n.limit,i=n.sortBy,d.prev=1,d.delegateYield(Object(ze.b)(w.rb,e,r,o,c,a,i),"t0",3);case 3:return s=d.t0,l=s.report,u=s.total,d.next=8,Object(ze.f)(h.c.success({report:l,total:u,offset:a}));case 8:d.next=16;break;case 10:return d.prev=10,d.t1=d.catch(1),d.next=14,Object(k.a)(d.t1);case 14:return d.next=16,Object(ze.f)(h.c.failure(d.t1));case 16:case"end":return d.stop()}}),Ze,null,[[1,10]])}function ct(e){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ze.f)(h.b.request({status:w.b.IN_PROGRESS}));case 2:return e.next=4,Object(ze.f)(h.b.request({status:w.b.SUCCESS}));case 4:return e.next=6,Object(ze.f)(h.b.request({status:w.b.FAILURE}));case 6:case"end":return e.stop()}}),$e)}function it(e,t){var n,r,a;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,o.prev=1,o.delegateYield(Object(ze.b)(w.G,e,n),"t0",3);case 3:r=o.t0,a=new Blob([r],{type:"application/json;charset=utf-8"}),Object(ne.saveAs)(a,"cross-validation-report.json"),o.next=10;break;case 8:o.prev=8,o.t1=o.catch(1);case 10:case"end":return o.stop()}}),et,null,[[1,8]])}var st=[Object(T.a)(Object(E.getType)(h.d.request),tt,!0),Object(T.a)(Object(E.getType)(h.f.request),nt,!0),Object(T.a)(Object(E.getType)(h.g.request),rt,!0),Object(T.a)(Object(E.getType)(h.b.request),at,!0),Object(T.a)(Object(E.getType)(h.c.request),ot,!0),Object(T.a)(Object(E.getType)(h.e),ct),Object(T.a)(Object(E.getType)(h.a),it,!0)],lt=n(17),ut=n(36),dt=C.a.mark(gt),bt=C.a.mark(mt),ft=C.a.mark(Ct),pt=C.a.mark(St),ht=C.a.mark(wt),jt=C.a.mark(Et),Ot=C.a.mark(kt),xt=C.a.mark(Tt),vt=["action_listen","action_restart","action_session_started"];function gt(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.delegateYield(Object(ze.b)(w.qc,e,"default",n),"t0",3);case 3:return r=a.t0,a.next=6,Object(ze.f)(ut.j.success(r));case 6:a.next=14;break;case 8:return a.prev=8,a.t1=a.catch(1),a.next=12,Object(k.a)(a.t1);case 12:return a.next=14,Object(ze.f)(ut.j.failure(a.t1));case 14:case"end":return a.stop()}}),dt,null,[[1,8]])}function mt(e,t){var n,r,a,o,c,i,s,l,u,d;return C.a.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:return b.delegateYield(Object(ze.e)("history"),"t0",1);case 1:return n=b.t0,r=t.payload,a=r.data,o=r.storyName,c=r.strictMode,i=r.undoingEvent,b.prev=3,b.delegateYield(Object(ze.b)(w.k,e,a),"t1",5);case 5:return s=b.t1,b.next=8,Object(ze.f)(ut.h.success(s));case 8:return b.next=10,Object(ze.f)(lt.g.success({conversation:s}));case 10:if(l=s.events,u=s.sender_id,d=l[l.length-1],"/interactive"===n.location.pathname||!a.conversation_id_to_copy_from){b.next=16;break}return n.push("/interactive?strict=".concat(!!c)),b.next=16,Object(ze.f)(ut.e({conversationId:u,storyName:o,strictMode:c}));case 16:if(!i||!yt(i)){b.next=21;break}return b.next=19,Object(ze.f)(ut.j.request(i.text));case 19:b.next=24;break;case 21:if(!a.conversation_id_to_copy_from||"action"===d.event&&vt.includes(d.name)){b.next=24;break}return b.next=24,Object(ze.f)(ut.i.request(u));case 24:b.next=32;break;case 26:return b.prev=26,b.t2=b.catch(3),b.next=30,Object(k.a)(b.t2);case 30:return b.next=32,Object(ze.f)(ut.h.failure(b.t2));case 32:case"end":return b.stop()}}),bt,null,[[3,26]])}function yt(e){return"user"===e.event}function Ct(e,t){var n,r,a,o,c,i,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.payload,r=n.events,a=n.createPayload,o=a.data.until,c=r.findIndex((function(e){return e.timestamp===o}))){e.next=5;break}return e.abrupt("return");case 5:if(i=r[c],s=r.slice(0,c).reverse(),!yt(i))for(;s.length>0&&!yt(s[0])&&"bot"!==s[0].event;)s=s.slice(1);if(0!==s.length){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,Object(ze.f)(ut.h.request(Object(te.a)(Object(te.a)({},a),{},{data:Object(te.a)(Object(te.a)({},a.data),{},{until:s[0].timestamp}),undoingEvent:i})));case 12:case"end":return e.stop()}}),ft)}function St(e,t){var n,r,a,o;return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r=n.conversationId,a=n.event,c.prev=1,c.delegateYield(Object(ze.b)(w.fc,e,r,a),"t0",3);case 3:if("user"!==(o=c.t0).event){c.next=7;break}return c.next=7,Object(ze.f)(lt.x.success({message:o,senderId:r}));case 7:return c.next=9,Object(ze.f)(ut.k.success(o));case 9:return c.next=11,Object(ze.f)(ut.i.request(r));case 11:c.next=19;break;case 13:return c.prev=13,c.t1=c.catch(1),c.next=17,Object(k.a)(c.t1);case 17:return c.next=19,Object(ze.f)(lt.x.failure(c.t1));case 19:case"end":return c.stop()}}),pt,null,[[1,13]])}function wt(e,t){var n,r,a;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.delegateYield(Object(ze.a)({prediction:Object(ze.b)(w.nb,e,t),domainActions:Object(ze.b)(w.J,e,"default")}),"t0",1);case 1:return n=o.t0,r=n.prediction,a=n.domainActions,o.next=6,Object(ze.f)(ut.i.success({prediction:r,actions:a}));case 6:case"end":return o.stop()}}),ht)}function Et(e,t){var n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.payload,r.prev=1,r.next=4,wt(e,n);case 4:r.next=12;break;case 6:return r.prev=6,r.t0=r.catch(1),r.next=10,Object(k.a)(r.t0);case 10:return r.next=12,Object(ze.f)(ut.i.failure(r.t0));case 12:case"end":return r.stop()}}),jt,null,[[1,6]])}function kt(e,t){var n,r,a,o,c;return C.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.payload,r=n.conversationId,a=n.confirmedAction,o=a.action,i.prev=2,i.delegateYield(Object(ze.b)(w.i,e,r,o),"t0",4);case 4:return c=i.t0,i.next=7,Object(ze.f)(ut.f.success(c));case 7:if(!vt.includes(o)){i.next=9;break}return i.abrupt("return");case 9:return i.next=11,wt(e,r);case 11:i.next=19;break;case 13:return i.prev=13,i.t1=i.catch(2),i.next=17,Object(k.a)(i.t1);case 17:return i.next=19,Object(ze.f)(ut.f.failure(i.t1));case 19:case"end":return i.stop()}}),Ot,null,[[2,13]])}function Tt(e,t){var n,r,a,o,c,i;return C.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.payload,r=n.action,a=n.responses,o=n.conversationId,s.prev=1,s.delegateYield(Object(ze.b)(w.bc,e,"default",r),"t0",3);case 3:return c=s.t0,s.next=6,Object(ze.a)(a.map((function(t){return Object(ze.b)(w.kc,e,Object(te.a)(Object(te.a)({},t),{},{response_name:c.name}))})));case 6:return s.next=8,Object(ze.f)(ut.g.success(c.name));case 8:return i={event:"action",name:c.name},s.next=11,Object(ze.f)(ut.k.request({conversationId:o,event:i}));case 11:s.next=19;break;case 13:return s.prev=13,s.t1=s.catch(1),s.next=17,Object(k.a)(s.t1);case 17:return s.next=19,Object(ze.f)(ut.g.failure(s.t1));case 19:case"end":return s.stop()}}),xt,null,[[1,13]])}var At=[Object(T.a)(Object(E.getType)(ut.h.request),mt,!0),Object(T.a)(Object(E.getType)(ut.l),Ct,!0),Object(T.a)(Object(E.getType)(ut.k.request),St,!0),Object(T.a)(Object(E.getType)(ut.j.request),gt,!0),Object(T.a)(Object(E.getType)(ut.i.request),Et,!0),Object(T.a)(Object(E.getType)(ut.f.request),kt,!0),Object(T.a)(Object(E.getType)(ut.g.request),Tt,!0)],_t=n(508),Dt=n(6),Rt=n(29),Ft=C.a.mark(Yt),It=C.a.mark(zt),Lt=C.a.mark(Kt),Nt=C.a.mark(Qt),Ut=C.a.mark(Xt),Bt=C.a.mark(Jt),Mt=C.a.mark(Zt),Pt=C.a.mark($t),Ht=C.a.mark(en),qt=C.a.mark(tn),Gt=C.a.mark(nn),Wt=C.a.mark(rn),Vt=C.a.mark(an);function Yt(e){var t;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.delegateYield(Object(ze.b)(w.db,e),"t0",2);case 2:return t=n.t0,n.next=5,Object(ze.f)(Rt.c.success(t.environments));case 5:n.next=13;break;case 7:return n.prev=7,n.t1=n.catch(0),n.next=11,Object(k.a)(n.t1);case 11:return n.next=13,Object(ze.f)(Rt.c.failure(n.t1));case 13:case"end":return n.stop()}}),Ft,null,[[0,7]])}function zt(e,t){var n,r,a,o,c,i,s,l,u,d,b,f;return C.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return n=t.payload,r=n.search,a=n.offset,o=n.limit,c=n.tag,i=0===o?[1,0]:[o,a],s=Object(Dt.a)(i,2),l=s[0],u=s[1],p.prev=2,p.delegateYield(Object(ze.b)(w.qb,e,"default",l,u,c),"t0",4);case 4:return d=p.t0,b=d.models,f=d.total,p.next=9,Object(ze.f)(Rt.f.success({search:r,models:b,total:f,offset:a}));case 9:p.next=17;break;case 11:return p.prev=11,p.t1=p.catch(2),p.next=15,Object(k.a)(p.t1);case 15:return p.next=17,Object(ze.f)(Rt.f.failure(p.t1));case 17:case"end":return p.stop()}}),It,null,[[2,11]])}function Kt(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,r=n.map((function(t){return Object(ze.b)(w.v,e,"default",t.model)})),a.next=5,Object(ze.a)(r);case 5:return a.next=7,Object(ze.f)(Rt.b.success(n));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(k.a)(a.t0);case 13:return a.next=15,Object(ze.f)(Rt.b.failure(a.t0));case 15:case"end":return a.stop()}}),Lt,null,[[1,9]])}function Qt(e,t){var n,r,a,o,c;return C.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.payload,r=n.model,a=n.environment,o=Array.isArray(a)?a:[a],i.prev=2,c=o.map((function(t){return Object(ze.b)(w.wc,e,"default",r.model,t)})),i.next=6,Object(ze.a)(c);case 6:return i.next=8,Object(ze.f)(Rt.a.success({model:r,environment:a}));case 8:i.next=16;break;case 10:return i.prev=10,i.t0=i.catch(2),i.next=14,Object(k.a)(i.t0);case 14:return i.next=16,Object(ze.f)(Rt.a.failure(i.t0));case 16:case"end":return i.stop()}}),Nt,null,[[2,10]])}function Xt(e,t){var n,r,a;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r=n.model,a=n.environment,o.prev=1,o.delegateYield(Object(ze.b)(w.w,e,"default",r.model,a),"t0",3);case 3:return o.next=5,Object(ze.f)(Rt.h.success());case 5:return o.next=7,Object(ze.f)(Rt.e.request());case 7:o.next=15;break;case 9:return o.prev=9,o.t1=o.catch(1),o.next=13,Object(k.a)(o.t1);case 13:return o.next=15,Object(ze.f)(Rt.h.failure(o.t1));case 15:case"end":return o.stop()}}),Ut,null,[[1,9]])}function Jt(e){var t;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.delegateYield(Object(ze.b)(w.yc,e,"default"),"t0",2);case 2:return t=n.t0,n.next=5,Object(ze.f)(Rt.k.success(t));case 5:n.next=13;break;case 7:return n.prev=7,n.t1=n.catch(0),n.next=11,Object(k.a)(n.t1);case 11:return n.next=13,Object(ze.f)(Rt.k.failure(n.t1));case 13:case"end":return n.stop()}}),Bt,null,[[0,7]])}function Zt(e){var t;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.delegateYield(Object(ze.b)(w.lb,e),"t0",2);case 2:return t=n.t0,n.next=5,Object(ze.f)(Rt.e.success(t));case 5:n.next=13;break;case 7:return n.prev=7,n.t1=n.catch(0),n.next=11,Object(k.a)(n.t1);case 11:return n.next=13,Object(ze.f)(Rt.e.failure(n.t1));case 13:case"end":return n.stop()}}),Mt,null,[[0,7]])}function $t(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=t.payload,a.delegateYield(Object(ze.b)(w.Oc,e,"default",n),"t0",3);case 3:return r=a.t0,a.next=6,Object(ze.f)(Rt.l.success(r));case 6:a.next=14;break;case 8:return a.prev=8,a.t1=a.catch(0),a.next=12,Object(k.a)(a.t1);case 12:return a.next=14,Object(ze.f)(Rt.l.failure(a.t1));case 14:case"end":return a.stop()}}),Pt,null,[[0,8]])}function en(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(ze.f)(Rt.e.request());case 3:return e.next=5,Object(ze.i)([Object(E.getType)(Rt.e.success),Object(E.getType)(Rt.e.failure)]);case 5:return e.next=7,Object(ze.d)(3e4);case 7:e.next=0;break;case 9:case"end":return e.stop()}}),Ht)}function tn(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ze.g)({poll:Object(ze.b)(en),cancel:Object(ze.i)(Object(E.getType)(U.h))});case 2:case"end":return e.stop()}}),qt)}function nn(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.delegateYield(Object(ze.b)(w.eb,e,"default",n.model),"t0",3);case 3:return r=a.t0,a.next=6,Object(ze.f)(Rt.d.success(r));case 6:a.next=18;break;case 8:return a.prev=8,a.t1=a.catch(1),a.next=12,Object(k.a)(a.t1);case 12:if(!a.t1.response||404!==a.t1.response.status){a.next=16;break}return a.next=15,Object(ze.f)(Rt.i(n));case 15:return a.abrupt("return");case 16:return a.next=18,Object(ze.f)(Rt.d.failure(a.t1));case 18:case"end":return a.stop()}}),Gt,null,[[1,8]])}function rn(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.delegateYield(Object(ze.b)(w.xc,e,"default",n.model),"t0",3);case 3:return r=a.t0,a.next=6,Object(ze.f)(Rt.d.success(r));case 6:a.next=14;break;case 8:return a.prev=8,a.t1=a.catch(1),a.next=12,Object(k.a)(a.t1);case 12:return a.next=14,Object(ze.f)(Rt.d.failure(a.t1));case 14:case"end":return a.stop()}}),Wt,null,[[1,8]])}function an(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ze.f)(Rt.f.request({search:"",limit:0,offset:0}));case 2:case"end":return e.stop()}}),Vt)}var on=[Object(T.a)(Object(E.getType)(Rt.c.request),Yt,!0),Object(T.a)(Object(E.getType)(Rt.f.request),zt,!0,!0),Object(T.a)(Object(E.getType)(Rt.a.request),Qt,!0),Object(T.a)(Object(E.getType)(Rt.h.request),Xt,!0),Object(T.a)(Object(E.getType)(Rt.k.request),Jt,!0),Object(T.a)(Object(E.getType)(Rt.b.request),Kt,!0),Object(T.a)(Object(E.getType)(Rt.e.request),Zt,!0),Object(T.a)(Object(E.getType)(Rt.j),tn,!0),Object(T.a)(Object(E.getType)(Rt.d.request),nn,!0),Object(T.a)(Object(E.getType)(Rt.i),rn,!0),Object(T.a)(Object(E.getType)(Rt.l.request),$t,!0),Object(T.a)([Object(E.getType)(Rt.l.success),Object(E.getType)(Rt.k.success)],an)],cn=n(37),sn=n(34),ln=C.a.mark(On),un=C.a.mark(xn),dn=C.a.mark(gn),bn=C.a.mark(mn),fn=C.a.mark(yn),pn=C.a.mark(Cn),hn=C.a.mark(Sn),jn=C.a.mark(wn);function On(e,t){var n,r,a,o,c;return C.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.payload,i.prev=1,i.delegateYield(Object(ze.b)(w.oc,e,"default",n),"t0",3);case 3:return i.next=5,Object(ze.f)(sn.h.success(n));case 5:i.next=12;break;case 7:return i.prev=7,i.t1=i.catch(1),i.t1.response&&(r=i.t1.response,a=r.status,o=r.data,400===a&&(c=["Invalid YAML file","It looks like something is wrong with your YAML file. Please update it and try saving again."],i.t1.name=c[0],i.t1.message=c[1]),422===a&&"ConfigMissingKeys"===o.reason&&(i.t1.name="Missing config keys",i.t1.message=o.message)),i.next=12,Object(ze.f)(sn.h.failure(i.t1));case 12:case"end":return i.stop()}}),ln,null,[[1,7]])}function xn(e){var t;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.delegateYield(Object(ze.b)(w.Ab,e,"default"),"t0",2);case 2:return t=n.t0,n.next=5,Object(ze.f)(sn.c.success(t));case 5:n.next=13;break;case 7:return n.prev=7,n.t1=n.catch(0),n.next=11,Object(k.a)(n.t1);case 11:return n.next=13,Object(ze.f)(sn.c.failure(n.t1));case 13:case"end":return n.stop()}}),un,null,[[0,7]])}var vn=Object(cn.a)(w.X,sn.d);function gn(e){var t;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.delegateYield(Object(ze.b)(w.ab,e),"t0",2);case 2:return t=n.t0,n.next=5,Object(ze.f)(sn.g.success(t));case 5:n.next=13;break;case 7:return n.prev=7,n.t1=n.catch(0),n.next=11,Object(k.a)(n.t1);case 11:return n.next=13,Object(ze.f)(sn.g.failure(n.t1));case 13:case"end":return n.stop()}}),dn,null,[[0,7]])}function mn(e){var t;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.delegateYield(Object(ze.b)(w.Z,e),"t0",2);case 2:return t=n.t0,n.next=5,Object(ze.f)(sn.f.success(t));case 5:return n.next=7,Object(ze.f)(sn.g.request());case 7:n.next=15;break;case 9:return n.prev=9,n.t1=n.catch(0),n.next=13,Object(k.a)(n.t1);case 13:return n.next=15,Object(ze.f)(sn.f.failure(n.t1));case 15:case"end":return n.stop()}}),bn,null,[[0,9]])}function yn(e,t){var n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.delegateYield(Object(ze.b)(w.Y,e,t),"t0",2);case 2:return n=r.t0,r.next=5,Object(ze.f)(sn.e.success(n));case 5:return r.next=7,Object(ze.f)(sn.g.request());case 7:r.next=15;break;case 9:return r.prev=9,r.t1=r.catch(0),r.next=13,Object(k.a)(r.t1);case 13:return r.next=15,Object(ze.f)(sn.e.failure(r.t1));case 15:case"end":return r.stop()}}),fn,null,[[0,9]])}function Cn(e,t){var n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.delegateYield(Object(ze.b)(w.l,e,t.payload),"t0",2);case 2:return n=r.t0,r.next=5,Object(ze.f)(sn.a.success(n));case 5:return r.next=7,Object(ze.f)(sn.g.request());case 7:r.next=13;break;case 9:return r.prev=9,r.t1=r.catch(0),r.next=13,Object(ze.f)(sn.a.failure(r.t1));case 13:case"end":return r.stop()}}),pn,null,[[0,9]])}function Sn(e,t){var n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.delegateYield(Object(ze.b)(w.dc,e,t.payload.id,t.payload),"t0",2);case 2:return n=r.t0,r.next=5,Object(ze.f)(sn.i.success(n));case 5:return r.next=7,Object(ze.f)(sn.g.request());case 7:r.next=13;break;case 9:return r.prev=9,r.t1=r.catch(0),r.next=13,Object(ze.f)(sn.i.failure(r.t1));case 13:case"end":return r.stop()}}),hn,null,[[0,9]])}function wn(e,t){return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.delegateYield(Object(ze.b)(w.r,e,t.payload.id),"t0",2);case 2:return n.next=4,Object(ze.f)(sn.b.success(t.payload));case 4:return n.next=6,Object(ze.f)(sn.g.request());case 6:n.next=12;break;case 8:return n.prev=8,n.t1=n.catch(0),n.next=12,Object(ze.f)(sn.b.failure(n.t1));case 12:case"end":return n.stop()}}),jn,null,[[0,8]])}var En=[Object(T.a)(Object(E.getType)(sn.h.request),On,!0),Object(T.a)(Object(E.getType)(sn.c.request),xn,!0),Object(T.b)(sn.d.request,vn),Object(T.a)(Object(E.getType)(sn.e.request),yn,!0),Object(T.a)(Object(E.getType)(sn.f.request),mn,!0),Object(T.a)(Object(E.getType)(sn.a.request),Cn,!0),Object(T.a)(Object(E.getType)(sn.i.request),Sn,!0),Object(T.a)(Object(E.getType)(sn.b.request),wn,!0),Object(T.a)(Object(E.getType)(sn.g.request),gn,!0),Object(T.a)([Object(E.getType)(sn.i.success),Object(E.getType)(sn.h.success)],ie.b)],kn=C.a.mark(Nn),Tn=C.a.mark(Un),An=C.a.mark(Bn),_n=C.a.mark(Mn),Dn=C.a.mark(Pn),Rn=C.a.mark(Hn),Fn=C.a.mark(qn),In=C.a.mark(Gn),Ln=C.a.mark(Wn);function Nn(e,t){var n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.delegateYield(Object(ze.b)(w.tb,e,"default",t),"t0",2);case 2:return n=r.t0,r.next=5,Object(ze.f)(se.g.success(n));case 5:r.next=13;break;case 7:return r.prev=7,r.t1=r.catch(0),r.next=11,Object(k.a)(r.t1);case 11:return r.next=13,Object(ze.f)(se.g.failure(r.t1));case 13:case"end":return r.stop()}}),kn,null,[[0,7]])}function Un(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.delegateYield(Object(ze.b)(w.o,e,"default",n),"t0",3);case 3:return r=a.t0,a.next=6,Object(ze.f)(se.b.success(r));case 6:a.next=14;break;case 8:return a.prev=8,a.t1=a.catch(1),a.next=12,Object(k.a)(a.t1);case 12:return a.next=14,Object(ze.f)(se.b.failure(a.t1));case 14:case"end":return a.stop()}}),Tn,null,[[1,8]])}function Bn(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.delegateYield(Object(ze.b)(w.Cc,e,"default",n),"t0",3);case 3:return r=a.t0,a.next=6,Object(ze.f)(se.i.success(r));case 6:a.next=14;break;case 8:return a.prev=8,a.t1=a.catch(1),a.next=12,Object(k.a)(a.t1);case 12:return a.next=14,Object(ze.f)(se.i.failure(a.t1));case 14:case"end":return a.stop()}}),An,null,[[1,8]])}function Mn(e,t){var n,r,a,o,c,i,s;return C.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return n=t.payload,r=n.offset,a=n.limit,o=0===a?[1,0]:[a,r],l.prev=2,l.delegateYield(ze.b.apply(void 0,[w.ub,e,"default"].concat(o)),"t0",4);case 4:return c=l.t0,i=c.regexes,s=c.total,l.next=9,Object(ze.f)(se.h.success({regexes:i,total:s,offset:r}));case 9:l.next=17;break;case 11:return l.prev=11,l.t1=l.catch(2),l.next=15,Object(k.a)(l.t1);case 15:return l.next=17,Object(ze.f)(se.h.failure(l.t1));case 17:case"end":return l.stop()}}),_n,null,[[2,11]])}function Pn(e,t){var n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=Array.isArray(t.payload)?t.payload:[t.payload],r.prev=1,r.next=4,Object(ze.a)(n.map((function(t){return Object(ze.b)(w.x,e,"default",t)})));case 4:return r.next=6,Object(ze.f)(se.d.success(n));case 6:r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(1),r.next=12,Object(k.a)(r.t0);case 12:return r.next=14,Object(ze.f)(se.d.failure(r.t0));case 14:case"end":return r.stop()}}),Dn,null,[[1,8]])}function Hn(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.delegateYield(Object(ze.b)(w.n,e,"default",n),"t0",3);case 3:return r=a.t0,a.next=6,Object(ze.f)(se.a.success(r));case 6:a.next=14;break;case 8:return a.prev=8,a.t1=a.catch(1),a.next=12,Object(k.a)(a.t1);case 12:return a.next=14,Object(ze.f)(se.a.failure(a.t1));case 14:case"end":return a.stop()}}),Rn,null,[[1,8]])}function qn(e){var t,n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.delegateYield(Object(ze.b)(w.pb,e,"default"),"t0",2);case 2:return t=a.t0,n=t.lookupTables,r=t.total,a.next=7,Object(ze.f)(se.f.success({lookupTables:n,total:r}));case 7:a.next=15;break;case 9:return a.prev=9,a.t1=a.catch(0),a.next=13,Object(k.a)(a.t1);case 13:return a.next=15,Object(ze.f)(se.f.failure(a.t1));case 15:case"end":return a.stop()}}),Fn,null,[[0,9]])}function Gn(e,t){var n,r,a,o,c;return C.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,n=t.payload,r=n.filename,a=n.lookupTableId,i.delegateYield(Object(ze.b)(w.ob,e,"default",a),"t0",3);case 3:o=i.t0,c=new Blob([o],{type:"text/*;charset=utf-8"}),Object(ne.saveAs)(c,r),i.next=14;break;case 8:return i.prev=8,i.t1=i.catch(0),i.next=12,Object(k.a)(i.t1);case 12:return i.next=14,Object(ze.f)(se.e.failure(i.t1));case 14:case"end":return i.stop()}}),In,null,[[0,8]])}function Wn(e,t){var n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=Array.isArray(t.payload)?t.payload:[t.payload],r.prev=1,r.next=4,Object(ze.a)(n.map((function(t){return Object(ze.b)(w.u,e,"default",t)})));case 4:return r.next=6,Object(ze.f)(se.c.success(n));case 6:r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(1),r.next=12,Object(k.a)(r.t0);case 12:return r.next=14,Object(ze.f)(se.c.failure(r.t0));case 14:case"end":return r.stop()}}),Ln,null,[[1,8]])}var Vn=[Object(T.a)(Object(E.getType)(se.a.request),Hn,!0,!0),Object(T.a)(Object(E.getType)(se.b.request),Un,!0),Object(T.a)(Object(E.getType)(se.c.request),Wn,!0,!0),Object(T.a)(Object(E.getType)(se.d.request),Pn,!0),Object(T.a)(Object(E.getType)(se.e.request),Gn,!0,!0),Object(T.a)(Object(E.getType)(se.f.request),qn,!0,!0),Object(T.a)(Object(E.getType)(se.g.request),Nn,!0),Object(T.a)(Object(E.getType)(se.h.request),Mn,!0,!0),Object(T.a)(Object(E.getType)(se.i.request),Bn,!0),Object(T.a)([Object(E.getType)(se.a.success),Object(E.getType)(se.b.success),Object(E.getType)(se.c.success),Object(E.getType)(se.d.success),Object(E.getType)(se.i.success)],ie.b)],Yn=n(45),zn=C.a.mark($n),Kn=C.a.mark(er),Qn=C.a.mark(tr),Xn=C.a.mark(nr),Jn=C.a.mark(rr),Zn=C.a.mark(ar);function $n(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload.search,a.prev=1,a.delegateYield(Object(ze.b)(w.kb,e,"",n,!0,!1),"t0",3);case 3:return r=a.t0,a.next=6,Object(ze.f)(Yn.b.success(r));case 6:a.next=14;break;case 8:return a.prev=8,a.t1=a.catch(1),a.next=12,Object(k.a)(a.t1);case 12:return a.next=14,Object(ze.f)(Yn.b.failure(a.t1));case 14:case"end":return a.stop()}}),zn,null,[[1,8]])}function er(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if((n=t.payload.search)&&""!==n){a.next=3;break}return a.abrupt("return");case 3:return a.prev=3,a.delegateYield(Object(ze.b)(w.kb,e,n,n,!1,!1,50,0),"t0",5);case 5:return r=a.t0,a.next=8,Object(ze.f)(Yn.c.success(Object(te.a)(Object(te.a)({},r),{},{search:n})));case 8:a.next=16;break;case 10:return a.prev=10,a.t1=a.catch(3),a.next=14,Object(k.a)(a.t1);case 14:return a.next=16,Object(ze.f)(Yn.c.failure(a.t1));case 16:case"end":return a.stop()}}),Kn,null,[[3,10]])}function tr(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=Object(te.a)(Object(te.a)({},t.payload),{},{isDirty:void 0}),a.prev=1,a.delegateYield(Object(ze.b)(w.Dc,e,n),"t0",3);case 3:return r=a.t0,a.next=6,Object(ze.f)(Yn.f.success(r));case 6:a.next=14;break;case 8:return a.prev=8,a.t1=a.catch(1),a.next=12,Object(k.a)(a.t1);case 12:return a.next=14,Object(ze.f)(Yn.f.failure(a.t1));case 14:case"end":return a.stop()}}),Qn,null,[[1,8]])}function nr(e,t){var n,r,a;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r=n.name,a=n.newName,o.prev=1,o.delegateYield(Object(ze.b)(w.Ec,e,r,a),"t0",3);case 3:return o.next=5,Object(ze.f)(Yn.g.success({name:r,newName:a}));case 5:o.next=13;break;case 7:return o.prev=7,o.t1=o.catch(1),o.next=11,Object(k.a)(o.t1);case 11:return o.next=13,Object(ze.f)(Yn.g.failure(o.t1));case 13:case"end":return o.stop()}}),Xn,null,[[1,7]])}function rr(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.delegateYield(Object(ze.b)(w.kc,e,n),"t0",3);case 3:return r=a.t0,a.next=6,Object(ze.f)(Yn.d.success(r));case 6:a.next=14;break;case 8:return a.prev=8,a.t1=a.catch(1),a.next=12,Object(k.a)(a.t1);case 12:return a.next=14,Object(ze.f)(Yn.d.failure(a.t1));case 14:case"end":return a.stop()}}),Jn,null,[[1,8]])}function ar(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,r=n.map((function(t){return Object(ze.b)(w.y,e,t)})),a.next=5,Object(ze.a)(r);case 5:return a.next=7,Object(ze.f)(Yn.a.success(n));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(k.a)(a.t0);case 13:return a.next=15,Object(ze.f)(Yn.a.failure(a.t0));case 15:case"end":return a.stop()}}),Zn,null,[[1,9]])}var or=[Object(T.a)(Object(E.getType)(Yn.b.request),$n,!0,!0),Object(T.a)(Object(E.getType)(Yn.c.request),er,!0,!0),Object(T.a)(Object(E.getType)(Yn.d.request),rr,!0),Object(T.a)(Object(E.getType)(Yn.f.request),tr,!0),Object(T.a)(Object(E.getType)(Yn.g.request),nr,!0),Object(T.a)(Object(E.getType)(Yn.a.request),ar,!0),Object(T.a)([Object(E.getType)(Yn.d.success),Object(E.getType)(Yn.f.success),Object(E.getType)(Yn.g.success),Object(E.getType)(Yn.a.success)],ie.b)],cr=n(72),ir=C.a.mark(fr),sr=C.a.mark(pr),lr=C.a.mark(hr),ur=C.a.mark(jr),dr=Object(cn.a)(w.xb,cr.d,(function(e,t){return{roles:e.roles,total:e.total,offset:t.offset}}),(function(e){var t=e.search,n=e.limit,r=e.offset;return Object(cn.b)(t,n,r)})),br=Object(cn.a)(w.vb,cr.b);function fr(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.delegateYield(Object(ze.b)(w.wb,e,n),"t0",3);case 3:return r=a.t0,a.next=6,Object(ze.f)(cr.c.success({role:n,users:r}));case 6:return a.next=8,Object(ze.f)(j.f(r));case 8:a.next=16;break;case 10:return a.prev=10,a.t1=a.catch(1),a.next=14,Object(k.a)(a.t1);case 14:return a.next=16,Object(ze.f)(cr.c.failure(a.t1));case 16:case"end":return a.stop()}}),ir,null,[[1,10]])}function pr(e,t){var n,r,a,o,c,i;return C.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.payload,r=n.role,a=n.users,o=n.onSaved,s.prev=1,s.delegateYield(Object(ze.b)(w.lc,e,r),"t0",3);case 3:if(c=s.t0,!a){s.next=9;break}return s.delegateYield(Object(ze.b)(w.mc,e,r,a),"t2",6);case 6:s.t1=s.t2,s.next=10;break;case 9:s.t1=void 0;case 10:return i=s.t1,s.next=13,Object(ze.f)(cr.f.success({role:c,users:i}));case 13:if(!i){s.next=16;break}return s.next=16,Object(ze.f)(j.f(i));case 16:null===o||void 0===o||o(),s.next=25;break;case 19:return s.prev=19,s.t3=s.catch(1),s.next=23,Object(k.a)(s.t3);case 23:return s.next=25,Object(ze.f)(cr.f.failure(s.t3));case 25:case"end":return s.stop()}}),sr,null,[[1,19]])}function hr(e,t){var n,r,a,o,c,i,s;return C.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return n=t.payload,r=n.currentId,a=n.role,o=n.users,c=n.onSaved,l.prev=1,l.delegateYield(Object(ze.b)(w.Gc,e,a,r),"t0",3);case 3:if(i=l.t0,!o){l.next=9;break}return l.delegateYield(Object(ze.b)(w.mc,e,a,o),"t2",6);case 6:l.t1=l.t2,l.next=10;break;case 9:l.t1=void 0;case 10:return s=l.t1,l.next=13,Object(ze.f)(cr.g.success({currentId:r,role:i,users:[]}));case 13:if(!s){l.next=16;break}return l.next=16,Object(ze.f)(j.f(s));case 16:null===c||void 0===c||c(),l.next=25;break;case 19:return l.prev=19,l.t3=l.catch(1),l.next=23,Object(k.a)(l.t3);case 23:return l.next=25,Object(ze.f)(cr.g.failure(l.t3));case 25:case"end":return l.stop()}}),lr,null,[[1,19]])}function jr(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,r=n.map((function(t){return Object(ze.b)(w.z,e,t)})),a.next=5,Object(ze.a)(r);case 5:return a.next=7,Object(ze.f)(cr.a.success(n));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(k.a)(a.t0);case 13:return a.next=15,Object(ze.f)(cr.a.failure(a.t0));case 15:case"end":return a.stop()}}),ur,null,[[1,9]])}var Or=[Object(T.a)(Object(E.getType)(cr.b.request),br,!0),Object(T.a)(Object(E.getType)(cr.d.request),dr,!0),Object(T.a)(Object(E.getType)(cr.c.request),fr,!0),Object(T.a)(Object(E.getType)(cr.f.request),pr,!0),Object(T.a)(Object(E.getType)(cr.g.request),hr,!0),Object(T.a)(Object(E.getType)(cr.a.request),jr,!0)],xr=n(48),vr=C.a.mark(wr),gr=C.a.mark(Ar),mr=C.a.mark(_r),yr=C.a.mark(Dr),Cr=Object(cn.a)(w.yb,xr.f,(function(e,t){var n=e.total;return{rules:e.rules,total:n,offset:t.offset}}),(function(e){var t=e.search,n=e.limit,r=e.offset;return Object(cn.b)(t,n,r)})),Sr=Object(cn.a)(w.zb,xr.g);function wr(e,t){return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==(Array.isArray(t.payload)?t.payload:[t.payload]).length){n.next=5;break}return n.next=4,Object(ze.f)(xr.g.success(""));case 4:return n.abrupt("return");case 5:return n.next=7,Sr(e,t);case 7:case"end":return n.stop()}}),vr)}var Er=Object(cn.a)(w.Hc,xr.j,void 0,(function(e){var t=e.story,n=e.isMarkdown;return Object(cn.b)(t,n)})),kr=Object(cn.a)(w.nc,xr.i,void 0,(function(e){var t=e.story;return Object(cn.b)(t,!1)})),Tr=Object(cn.a)(w.A,xr.d,(function(e,t){return t}));function Ar(e){var t,n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.delegateYield(Object(ze.b)(w.H,e),"t0",2);case 2:t=r.t0,n=new Blob([t],{type:"text/yaml;charset=utf-8"}),saveAs(n,"rules.yml"),r.next=13;break;case 7:return r.prev=7,r.t1=r.catch(0),r.next=11,Object(k.a)(r.t1);case 11:return r.next=13,Object(ze.f)(xr.f.failure(r.t1));case 13:case"end":return r.stop()}}),gr,null,[[0,7]])}function _r(e,t){var n,r,a;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload.stories,"text/yaml",o.prev=2,o.delegateYield(Object(ze.b)(w.Yb,e,n,"text/yaml"),"t0",4);case 4:return r=o.t0,o.next=7,Object(ze.f)(xr.h.success(r));case 7:return o.delegateYield(Object(ze.h)((function(e){return e.rules.searchQuery})),"t1",8);case 8:return a=o.t1,o.next=11,Object(ze.f)(xr.f.request({search:a,limit:0,offset:0}));case 11:o.next=19;break;case 13:return o.prev=13,o.t2=o.catch(2),o.next=17,Object(k.a)(o.t2);case 17:return o.next=19,Object(ze.f)(xr.h.failure(o.t2));case 19:case"end":return o.stop()}}),mr,null,[[2,13]])}function Dr(e,t){var n,r,a;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,"text/yaml",o.prev=2,o.delegateYield(Object(ze.b)(w.c,e,n,"text/yaml"),"t0",4);case 4:return r=o.t0,o.next=7,Object(ze.f)(xr.a.success(r));case 7:return o.delegateYield(Object(ze.h)((function(e){return e.rules.searchQuery})),"t1",8);case 8:return a=o.t1,o.next=11,Object(ze.f)(xr.f.request({search:a,limit:0,offset:0}));case 11:o.next=19;break;case 13:return o.prev=13,o.t2=o.catch(2),o.next=17,Object(k.a)(o.t2);case 17:return o.next=19,Object(ze.f)(xr.a.failure(o.t2));case 19:case"end":return o.stop()}}),yr,null,[[2,13]])}var Rr=[Object(T.b)(xr.f.request,Cr),Object(T.b)(xr.g.request,wr),Object(T.b)(xr.i.request,kr),Object(T.b)(xr.j.request,Er),Object(T.b)(xr.d.request,Tr),Object(T.b)(xr.a.request,Dr),Object(T.b)(xr.h.request,_r),Object(T.b)(xr.e,Ar)],Fr=n(39),Ir=C.a.mark(Pr),Lr=C.a.mark(Wr),Nr=C.a.mark(Vr),Ur=C.a.mark(Yr),Br=Object(cn.a)(w.Eb,Fr.f,(function(e,t){var n=e.total;return{stories:e.stories,total:n,offset:t.offset}}),(function(e){var t=e.search,n=e.limit,r=e.offset;return Object(cn.b)(t,n,r)})),Mr=Object(cn.a)(w.Nb,Fr.g);function Pr(e,t){return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==(Array.isArray(t.payload)?t.payload:[t.payload]).length){n.next=5;break}return n.next=4,Object(ze.f)(Fr.g.success(""));case 4:return n.abrupt("return");case 5:return n.next=7,Mr(e,t);case 7:case"end":return n.stop()}}),Ir)}var Hr=Object(cn.a)(w.Ic,Fr.m,void 0,(function(e){var t=e.story,n=e.isMarkdown;return Object(cn.b)(t,n)})),qr=Object(cn.a)(w.pc,Fr.i,void 0,(function(e){var t=e.story,n=e.isMarkdown;return Object(cn.b)(t,n)})),Gr=Object(cn.a)(w.B,Fr.d,(function(e,t){return t}));function Wr(e){var t,n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.delegateYield(Object(ze.b)(w.I,e),"t0",2);case 2:t=r.t0,n=new Blob([t],{type:"text/yaml;charset=utf-8"}),Object(ne.saveAs)(n,"stories.yml"),r.next=13;break;case 7:return r.prev=7,r.t1=r.catch(0),r.next=11,Object(k.a)(r.t1);case 11:return r.next=13,Object(ze.f)(Fr.f.failure(r.t1));case 13:case"end":return r.stop()}}),Lr,null,[[0,7]])}function Vr(e,t){var n,r,a,o;return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:n=t.payload,r="application/json";try{JSON.parse(n)}catch(i){r="text/yaml"}return c.prev=3,c.delegateYield(Object(ze.b)(w.d,e,n,r),"t0",5);case 5:return a=c.t0,c.next=8,Object(ze.f)(Fr.a.success(a));case 8:return c.delegateYield(Object(ze.h)((function(e){return e.stories.searchQuery})),"t1",9);case 9:return o=c.t1,c.next=12,Object(ze.f)(Fr.f.request({search:o,limit:0,offset:0}));case 12:c.next=20;break;case 14:return c.prev=14,c.t2=c.catch(3),c.next=18,Object(k.a)(c.t2);case 18:return c.next=20,Object(ze.f)(Fr.a.failure(c.t2));case 20:case"end":return c.stop()}}),Nr,null,[[3,14]])}function Yr(e,t){var n,r,a,o,c,i;return C.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.payload,r=n.stories,a=n.fileName,o=Object(ue.a)(a),s.prev=2,s.delegateYield(Object(ze.b)(w.Zb,e,r,o),"t0",4);case 4:return c=s.t0,s.next=7,Object(ze.f)(Fr.h.success(c));case 7:return s.delegateYield(Object(ze.h)((function(e){return e.stories.searchQuery})),"t1",8);case 8:return i=s.t1,s.next=11,Object(ze.f)(Fr.f.request({search:i,limit:0,offset:0}));case 11:s.next=19;break;case 13:return s.prev=13,s.t2=s.catch(2),s.next=17,Object(k.a)(s.t2);case 17:return s.next=19,Object(ze.f)(Fr.h.failure(s.t2));case 19:case"end":return s.stop()}}),Ur,null,[[2,13]])}var zr=[Object(T.b)(Fr.f.request,Br),Object(T.b)(Fr.g.request,Pr),Object(T.b)(Fr.i.request,qr),Object(T.b)(Fr.m.request,Hr),Object(T.b)(Fr.d.request,Gr),Object(T.b)(Fr.a.request,Vr),Object(T.b)(Fr.h.request,Yr),Object(T.b)(Fr.e,Wr)],Kr=n(98),Qr=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){var t=function(e){return e};return e.apply(void 0,n).then(t,t)}},Xr=n(27),Jr=C.a.mark(ia),Zr=C.a.mark(sa),$r=C.a.mark(da),ea=C.a.mark(ba),ta=C.a.mark(fa),na=C.a.mark(pa),ra=C.a.mark(ja),aa=C.a.mark(Oa),oa=C.a.mark(xa),ca=C.a.mark(va);function ia(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.delegateYield(Object(ze.b)(w.qc,e,"default",n),"t0",3);case 3:return r=a.t0,a.next=6,Object(ze.f)(Xr.l.success(r));case 6:a.next=14;break;case 8:return a.prev=8,a.t1=a.catch(1),a.next=12,Object(k.a)(a.t1);case 12:return a.next=14,Object(ze.f)(Xr.l.failure(a.t1));case 14:case"end":return a.stop()}}),Jr,null,[[1,8]])}function sa(e,t){var n,r,a,o,c,i;return C.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.payload,r=ae()(n),s.prev=2,s.next=5,Object(ze.a)({suggestion:Object(ze.b)(Qr(w.Fb,e,"default",r)),example:Object(ze.b)(Qr(w.fb,e,"default",r))});case 5:return a=s.sent,o=a.suggestion,c=a.example,i=[o,c].reduce((function(e,t){if("response"in t&&t.response){if(404!==t.response.status)throw t;return e}return!0}),!1),s.next=11,Object(ze.f)(Xr.b.success(i));case 11:s.next=19;break;case 13:return s.prev=13,s.t0=s.catch(2),s.next=17,Object(k.a)(s.t0);case 17:return s.next=19,Object(ze.f)(Xr.b.failure(s.t0));case 19:case"end":return s.stop()}}),Zr,null,[[2,13]])}function la(e,t){var n=e.payload,r=n.offset,a=n.limit;return 0===r||t<r+a}function ua(e,t){var n=e.payload,r=n.offset,a=r+n.limit,o=0===r,c=o?a:a-t;return{offset:o?0:t,limit:50*Math.ceil(c/50)}}function da(e,t){var n,r,a,o,c,i,s,l,u,d,b,f,p,h,j,O,x;return C.a.wrap((function(v){for(;;)switch(v.prev=v.next){case 0:return n=t.payload,r=n.offset,a=n.filter,o=n.search,c=n.sortBy,i=n.sortOrder,v.delegateYield(Object(ze.h)((function(e){return e.suggestions.totalFetched})),"t0",2);case 2:if(s=v.t0,la(t,s)){v.next=5;break}return v.abrupt("return");case 5:return l=ua(t,s),u=l.offset,d=l.limit,v.prev=6,b=ce.a.parse(o),f=b.getAllText(),v.delegateYield(Object(ze.b)(w.Gb,e,"default",f,a.intents,a.entities,a.tags.map((function(e){return e.id})),d,u,a.date.from&&Object(Kr.f)(a.date.from),a.date.to&&Object(Kr.f)(a.date.to,Kr.a),c,i),"t1",10);case 10:return p=v.t1,h=p.suggestions,j=p.total,O=0===r?j:void 0,x=u+d,v.next=17,Object(ze.f)(Xr.o(j>x?x:j));case 17:return v.next=19,Object(ze.f)(Xr.e.success({suggestions:h,total:O,limit:d,offset:u}));case 19:v.next=27;break;case 21:return v.prev=21,v.t2=v.catch(6),v.next=25,Object(k.a)(v.t2);case 25:return v.next=27,Object(ze.f)(Xr.e.failure(v.t2));case 27:case"end":return v.stop()}}),$r,null,[[6,21]])}function ba(e,t){var n,r,a,o,c,i,s;return C.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return n=t.payload,r=n.filter,a=n.search,l.prev=1,o=ce.a.parse(a),c=o.getAllText(),l.delegateYield(Object(ze.b)(w.Gb,e,"default",c,r.intents,r.entities,r.tags.map((function(e){return e.id})),1,0),"t0",5);case 5:return i=l.t0,s=i.total,l.next=9,Object(ze.f)(Xr.f.success(s));case 9:l.next=17;break;case 11:return l.prev=11,l.t1=l.catch(1),l.next=15,Object(k.a)(l.t1);case 15:return l.next=17,Object(ze.f)(Xr.f.failure(l.t1));case 17:case"end":return l.stop()}}),ea,null,[[1,11]])}function fa(e,t){var n,r,a,o;return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r=n.suggestions,a=n.workspace_id,o=r.map((function(e){return{id:e.id,workspace_id:a}})),c.prev=2,c.next=5,Object(ze.b)(w.Jc,e,"default",o);case 5:return c.next=7,Object(ze.f)(Xr.j.success(o));case 7:c.next=13;break;case 9:return c.prev=9,c.t0=c.catch(2),c.next=13,Object(ze.f)(Xr.j.failure(c.t0));case 13:case"end":return c.stop()}}),ta,null,[[2,9]])}function pa(e,t){var n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=Array.isArray(t.payload)?t.payload:[t.payload],r.prev=1,r.next=4,Object(ze.a)(n.map((function(t){return Object(ze.b)(w.C,e,"default",t)})));case 4:return r.next=6,Object(ze.f)(Xr.c.success(n));case 6:r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(1),r.next=12,Object(k.a)(r.t0);case 12:return r.next=14,Object(ze.f)(Xr.c.failure(r.t0));case 14:case"end":return r.stop()}}),na,null,[[1,8]])}var ha=Object(cn.a)(w.X,Xr.d);function ja(e,t){var n,r,a,o,c;return C.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.payload,r=n.suggestionId,a=n.entities,i.prev=1,i.next=4,Object(ze.a)(a.map((function(t){return Object(ze.b)(w.Hb,e,"default","","",t.value)})));case 4:return o=i.sent,c=o.map((function(e){return e.synonyms[0]})),i.next=8,Object(ze.f)(Xr.g.success({suggestionId:r,entities:a,synonyms:c}));case 8:i.next=16;break;case 10:return i.prev=10,i.t0=i.catch(1),i.next=14,Object(k.a)(i.t0);case 14:return i.next=16,Object(ze.f)(Xr.g.failure(i.t0));case 16:case"end":return i.stop()}}),ra,null,[[1,10]])}function Oa(e,t){var n,r,a,o;return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r=n.suggestionId,a=n.tags,c.prev=1,c.delegateYield(Object(ze.b)(w.rc,e,"default",a,r),"t0",3);case 3:return o=c.t0,c.next=6,Object(ze.f)(Xr.m.success({suggestionId:r,tags:o}));case 6:c.next=15;break;case 8:return c.prev=8,c.t1=c.catch(1),console.log({error:c.t1}),c.next=13,Object(k.a)(c.t1);case 13:return c.next=15,Object(ze.f)(Xr.m.failure(c.t1));case 15:case"end":return c.stop()}}),aa,null,[[1,8]])}function xa(e,t){var n,r,a;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r=n.suggestionId,a=n.tag,o.prev=1,o.delegateYield(Object(ze.b)(w.Xb,e,"default",a,r),"t0",3);case 3:return o.next=5,Object(ze.f)(Xr.k.success({suggestionId:r,tag:a}));case 5:o.next=13;break;case 7:return o.prev=7,o.t1=o.catch(1),o.next=11,Object(k.a)(o.t1);case 11:return o.next=13,Object(ze.f)(Xr.m.failure(o.t1));case 13:case"end":return o.stop()}}),oa,null,[[1,7]])}function va(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.delegateYield(Object(ze.b)(w.Jc,e,"default",n),"t0",3);case 3:return r=a.t0,a.next=6,Object(ze.f)(Xr.p.success(r));case 6:a.next=12;break;case 8:return a.prev=8,a.t1=a.catch(1),a.next=12,Object(ze.f)(Xr.p.failure(a.t1));case 12:case"end":return a.stop()}}),ca,null,[[1,8]])}var ga=[Object(T.a)(Object(E.getType)(Xr.l.request),ia,!0),Object(T.a)(Object(E.getType)(Xr.m.request),Oa,!0),Object(T.a)(Object(E.getType)(Xr.k.request),xa,!0),Object(T.a)(Object(E.getType)(Xr.b.request),sa,!0),Object(T.a)(Object(E.getType)(Xr.p.request),va,!0),Object(T.a)(Object(E.getType)(Xr.g.request),ja,!0,!0),Object(T.a)(Object(E.getType)(Xr.e.request),da,!0,!1),Object(T.a)(Object(E.getType)(Xr.f.request),ba,!0,!1),Object(T.b)(Xr.d.request,ha),Object(T.a)(Object(E.getType)(Xr.j.request),fa,!0),Object(T.a)(Object(E.getType)(Xr.c.request),pa,!0),Object(T.a)([Object(E.getType)(Xr.l.success),Object(E.getType)(Xr.c.success)],ie.b)],ma=C.a.mark(ka),ya=C.a.mark(Ta),Ca=C.a.mark(Aa),Sa=C.a.mark(_a),wa=C.a.mark(Da),Ea=C.a.mark(Ra);function ka(e,t){var n,r,a,o,c,i,s;return C.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return n=t.payload,r=n.search,a=n.mappedValue,l.prev=1,o=ce.a.parse(r),c=o.getAllText(),i=o.getConditionArray().filter((function(e){return"reference"===e.keyword})).map((function(e){return e.value})).join(","),l.delegateYield(Object(ze.b)(w.Hb,e,"default",c,i,a||""),"t0",6);case 6:return s=l.t0,l.next=9,Object(ze.f)(le.b.success(s));case 9:l.next=17;break;case 11:return l.prev=11,l.t1=l.catch(1),l.next=15,Object(k.a)(l.t1);case 15:return l.next=17,Object(ze.f)(le.b.failure(l.t1));case 17:case"end":return l.stop()}}),ma,null,[[1,11]])}function Ta(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.delegateYield(Object(ze.b)(w.sc,e,"default",n),"t0",3);case 3:return r=a.t0,a.next=6,Object(ze.f)(le.c.success(r));case 6:a.next=14;break;case 8:return a.prev=8,a.t1=a.catch(1),a.next=12,Object(k.a)(a.t1);case 12:return a.next=14,Object(ze.f)(le.c.failure(a.t1));case 14:case"end":return a.stop()}}),ya,null,[[1,8]])}function Aa(e,t){var n,r,a,o;return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r=n.synonymId,a=n.valueId,o=n.newValue,c.prev=1,c.delegateYield(Object(ze.b)(w.Lc,e,"default",r,a,o),"t0",3);case 3:return c.next=5,Object(ze.f)(le.f.success(n));case 5:c.next=13;break;case 7:return c.prev=7,c.t1=c.catch(1),c.next=11,Object(k.a)(c.t1);case 11:return c.next=13,Object(ze.f)(le.f.failure(c.t1));case 13:case"end":return c.stop()}}),Ca,null,[[1,7]])}function _a(e,t){var n,r,a;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r=n.synonymId,a=n.value,o.prev=1,o.delegateYield(Object(ze.b)(w.Kc,e,"default",r,a),"t0",3);case 3:return o.next=5,Object(ze.f)(le.e.success(n));case 5:o.next=13;break;case 7:return o.prev=7,o.t1=o.catch(1),o.next=11,Object(k.a)(o.t1);case 11:return o.next=13,Object(ze.f)(le.e.failure(o.t1));case 13:case"end":return o.stop()}}),Sa,null,[[1,7]])}function Da(e,t){var n,r,a,o;return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r=n.id,a=n.mapped_values,c.prev=1,c.delegateYield(Object(ze.b)(w.tc,e,"default",r,{mapped_values:a}),"t0",3);case 3:return o=c.t0,c.next=6,Object(ze.f)(le.d.success({id:r,mapped_values:o}));case 6:c.next=14;break;case 8:return c.prev=8,c.t1=c.catch(1),c.next=12,Object(k.a)(c.t1);case 12:return c.next=14,Object(ze.f)(le.d.failure(c.t1));case 14:case"end":return c.stop()}}),wa,null,[[1,8]])}function Ra(e,t){var n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.payload,r.prev=1,r.next=4,Object(ze.a)(n.map((function(t){var n=t.synonymId,r=t.valueId;return Object(ze.b)(w.D,e,"default",n,r)})));case 4:return r.next=6,Object(ze.a)(n.map((function(e){return Object(ze.f)(le.a.success(e))})));case 6:r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(1),r.next=12,Object(k.a)(r.t0);case 12:return r.next=14,Object(ze.f)(le.a.failure(r.t0));case 14:case"end":return r.stop()}}),Ea,null,[[1,8]])}var Fa=[Object(T.a)(Object(E.getType)(le.a.request),Ra,!0),Object(T.a)(Object(E.getType)(le.b.request),ka,!0,!0),Object(T.a)(Object(E.getType)(le.c.request),Ta,!0),Object(T.a)(Object(E.getType)(le.d.request),Da,!0),Object(T.a)(Object(E.getType)(le.e.request),_a,!0),Object(T.a)(Object(E.getType)(le.f.request),Aa,!0)],Ia=n(110),La=C.a.mark(Ba),Na=C.a.mark(Ma),Ua=C.a.mark(Pa);function Ba(e){var t;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.delegateYield(Object(ze.b)(w.Ib,e),"t0",2);case 2:return t=n.t0,n.next=5,Object(ze.f)(Ia.a.success(t));case 5:n.next=13;break;case 7:return n.prev=7,n.t1=n.catch(0),n.next=11,Object(k.a)(n.t1);case 11:return n.next=13,Object(ze.f)(Ia.a.failure(n.t1));case 13:case"end":return n.stop()}}),La,null,[[0,7]])}function Ma(e,t){var n,r,a,o,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.payload,r=n.userId,a=n.name,o=n.email,c=n.checkboxChecked,e.delegateYield(Object(ze.b)(w.jc,r,a,o,c),"t0",3);case 3:return e.next=5,Object(ze.f)(Ia.b.success({}));case 5:e.next=11;break;case 7:return e.prev=7,e.t1=e.catch(0),e.next=11,Object(ze.f)(Ia.b.failure(e.t1));case 11:case"end":return e.stop()}}),Na,null,[[0,7]])}function Pa(e,t){var n,r,a;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,n=t.payload,r=n.event,a=n.payload,o.delegateYield(Object(ze.b)(w.Tb,e,r,a),"t0",3);case 3:return o.next=5,Object(ze.f)(Ia.c.success({}));case 5:o.next=13;break;case 7:return o.prev=7,o.t1=o.catch(0),o.next=11,Object(k.a)(o.t1);case 11:return o.next=13,Object(ze.f)(Ia.c.failure(o.t1));case 13:case"end":return o.stop()}}),Ua,null,[[0,7]])}var Ha=[Object(T.a)(Object(E.getType)(Ia.a.request),Ba,!0),Object(T.a)(Object(E.getType)(Ia.b.request),Ma,!0),Object(T.a)(Object(E.getType)(Ia.c.request),Pa,!0)],qa=n(135),Ga=C.a.mark(Xa),Wa=C.a.mark(Ja),Va=C.a.mark(Za),Ya=C.a.mark($a),za=C.a.mark(eo),Ka=C.a.mark(to),Qa=Object(cn.a)(w.Kb,j.b);function Xa(e){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=3;break}return t.next=3,Object(ze.f)(Object(a.send)(w.e(e)));case 3:case"end":return t.stop()}}),Ga)}function Ja(e,t){var n,r,a,o,c,i,s,l,u,d;return C.a.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:return n=t.payload,r=n.search,a=n.limit,o=n.offset,b.prev=1,c=ce.a.parse(r),i=c.getAllText(),s=c.getConditionArray().filter((function(e){return"role"===e.keyword})).map((function(e){return e.value})).join(","),b.delegateYield(Object(ze.b)(w.Lb,e,i,s,a,o),"t0",6);case 6:return l=b.t0,u=l.users,d=l.total,b.next=11,Object(ze.f)(j.c.success({users:u,total:d,limit:a,offset:o,search:r}));case 11:b.next=23;break;case 13:return b.prev=13,b.t1=b.catch(1),b.next=17,Object(k.a)(b.t1);case 17:if(404!==b.t1.response.status){b.next=21;break}return b.next=20,Object(ze.f)(j.c.success({users:[],total:0,limit:a,offset:o,search:r}));case 20:return b.abrupt("return");case 21:return b.next=23,Object(ze.f)(j.c.failure(b.t1));case 23:case"end":return b.stop()}}),Wa,null,[[1,13]])}function Za(e,t){var n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.payload,r.prev=1,r.delegateYield(Object(ze.b)(w.Mc,e,n),"t0",3);case 3:return r.next=5,Object(ze.f)(j.h.success(n));case 5:r.next=13;break;case 7:return r.prev=7,r.t1=r.catch(1),r.next=11,Object(k.a)(r.t1);case 11:return r.next=13,Object(ze.f)(j.h.failure(r.t1));case 13:case"end":return r.stop()}}),Va,null,[[1,7]])}function $a(e,t){var n,r,a,o;return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r=n.userIndex,a=n.user,o=n.roles,c.prev=1,c.delegateYield(C.a.mark((function t(){var n,c,i,s,l,u,d;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(Object(ze.b)(w.uc,e,a,o),"t0",1);case 1:return n=t.t0,t.next=4,Object(ze.f)(j.e.success({userIndex:r,user:n}));case 4:c=Object(qa.a)(a.roles.filter((function(e){return!n.roles.includes(e)}))),t.prev=5,c.s();case 7:if((i=c.n()).done){t.next=13;break}return s=i.value,t.next=11,Object(ze.f)(cr.e({role:s,updateFn:function(e){return e.users_count=(e.users_count||1)-1,e}}));case 11:t.next=7;break;case 13:t.next=18;break;case 15:t.prev=15,t.t1=t.catch(5),c.e(t.t1);case 18:return t.prev=18,c.f(),t.finish(18);case 21:l=Object(qa.a)(n.roles.filter((function(e){return!a.roles.includes(e)}))),t.prev=22,l.s();case 24:if((u=l.n()).done){t.next=30;break}return d=u.value,t.next=28,Object(ze.f)(cr.e({role:d,updateFn:function(e){return e.users_count=(e.users_count||0)+1,e}}));case 28:t.next=24;break;case 30:t.next=35;break;case 32:t.prev=32,t.t2=t.catch(22),l.e(t.t2);case 35:return t.prev=35,l.f(),t.finish(35);case 38:case"end":return t.stop()}}),t,null,[[5,15,18,21],[22,32,35,38]])}))(),"t0",3);case 3:c.next=11;break;case 5:return c.prev=5,c.t1=c.catch(1),c.next=9,Object(k.a)(c.t1);case 9:return c.next=11,Object(ze.f)(j.e.failure(c.t1));case 11:case"end":return c.stop()}}),Ya,null,[[1,5]])}function eo(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,r=n.map((function(t){return Object(ze.b)(w.E,e,t)})),a.next=5,Object(ze.a)(r);case 5:return a.next=7,Object(ze.f)(j.a.success(n));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(k.a)(a.t0);case 13:return a.next=15,Object(ze.f)(j.a.failure(a.t0));case 15:case"end":return a.stop()}}),za,null,[[1,9]])}function to(e){var t,n,r,a,o,c,i,s,l;return C.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return n=function(e){return e.users.currentUser},u.delegateYield(Object(ze.h)(n),"t0",2);case 2:if(r=u.t0){u.next=5;break}return u.abrupt("return");case 5:if(a=(null===(t=r.data)||void 0===t?void 0:t.viewed_hints)||[],o=e.payload,c=o.topic,i=o.name,s="".concat(c,"_").concat(i),!a.includes(s)){u.next=10;break}return u.abrupt("return");case 10:return l=Object(te.a)(Object(te.a)({},r),{},{data:Object(te.a)(Object(te.a)({},r.data),{},{viewed_hints:[].concat(Object(m.a)(a),[s])})}),u.next=13,Object(ze.f)(j.h.request(l));case 13:case"end":return u.stop()}}),Ka)}var no=[Object(T.a)(Object(E.getType)(j.b.request),Qa,!0),Object(T.a)(Object(E.getType)(j.c.request),Ja,!0),Object(T.a)(Object(E.getType)(j.h.request),Za,!0),Object(T.a)(Object(E.getType)(j.e.request),$a,!0),Object(T.a)(Object(E.getType)(j.a.request),eo,!0),Object(T.a)(Object(E.getType)(j.b.success),Xa,!0),Object(T.a)(Object(E.getType)(j.d),to)],ro=C.a.mark(so),ao=C.a.mark(lo),oo=C.a.mark(uo),co=C.a.mark(bo);function io(e,t){var n=e.payload,r=n.offset,a=n.limit;return 0===r||t<r+a}function so(e,t){var n,r,a,o,c,i,s,l,u,d,b,f,p,h,j,x,v,g,m;return C.a.wrap((function(y){for(;;)switch(y.prev=y.next){case 0:return n=t.payload,r=n.search,a=n.offset,o=n.workspace_id,c=n.sortBy,i=n.sortOrder,y.next=3,Object(S.r)((function(e){return e.workspaces.totalFetched}));case 3:if(s=y.sent,io(t,s)){y.next=6;break}return y.abrupt("return");case 6:return l=ua(t,s),u=l.offset,d=l.limit,y.prev=7,b=ce.a.parse(r),f=b.getAllText(),p=b.getConditionArray().filter((function(e){return"intent"===e.keyword})).map((function(e){return e.value})),y.next=13,Object(S.d)(w.Gb,e,"default",f,p,[],[],d,u,void 0,void 0,c,i,o);case 13:return h=y.sent,j=h.suggestions,x=h.total,v=0===a?x:void 0,g=u+d,y.next=20,Object(S.n)(O.i(x>g?g:x));case 20:return m=j.map((function(e){return{id:e.id,intent:{selected:e.user_input.intent.name,predicted:e.user_input.intent_ranking},text:e.user_input.text,entities:e.user_input.entities,context:{conversation:e.conversation_id,event:e.event_id},tags:e.tags}})),y.next=23,Object(S.n)(O.d.success({drafts:m,total:v,offset:u}));case 23:y.next=31;break;case 25:return y.prev=25,y.t0=y.catch(7),y.next=29,Object(k.a)(y.t0);case 29:return y.next=31,Object(S.n)(O.d.failure(y.t0));case 31:case"end":return y.stop()}}),ro,null,[[7,25]])}function lo(e){var t;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(S.d)(w.Pb,e);case 3:return t=n.sent,n.next=6,Object(S.n)(O.e.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(k.a)(n.t0);case 12:return n.next=14,Object(S.n)(O.e.failure(n.t0));case 14:case"end":return n.stop()}}),ao,null,[[0,8]])}function uo(e){var t,n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(S.d)(lo,e);case 3:return t=r.sent,r.next=6,Object(S.n)(O.e.success(t));case 6:return r.next=8,Object(S.r)((function(e){var t,n;return null===(t=e.workspaces)||void 0===t||null===(n=t.activeWorkspace)||void 0===n?void 0:n.id}));case 8:return n=r.sent,r.next=11,Object(S.n)(O.g(t.filter((function(e){return e.id===n}))[0]));case 11:r.next=19;break;case 13:return r.prev=13,r.t0=r.catch(0),r.next=17,Object(k.a)(r.t0);case 17:return r.next=19,Object(S.n)(O.e.failure(r.t0));case 19:case"end":return r.stop()}}),oo,null,[[0,13]])}function bo(e,t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(S.d)(w.p,e,n);case 4:return r=a.sent,a.next=7,Object(S.n)(O.a.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(k.a)(a.t0);case 13:return a.next=15,Object(S.n)(O.a.failure(a.t0));case 15:case"end":return a.stop()}}),co,null,[[1,9]])}var fo=[Object(T.a)(Object(E.getType)(O.d.request),so,!0,!0),Object(T.a)(Object(E.getType)(O.e.request),lo,!0),Object(T.a)(Object(E.getType)(O.k),uo,!0),Object(T.a)(Object(E.getType)(O.n),uo,!0),Object(T.a)(Object(E.getType)(O.f),uo,!0),Object(T.a)(Object(E.getType)(O.m),uo,!0),Object(T.a)(Object(E.getType)(O.b),uo,!0),Object(T.a)(Object(E.getType)(O.l),uo,!0),Object(T.a)(Object(E.getType)(O.a.request),bo,!0)],po=[].concat(Object(m.a)(R),Object(m.a)(N),Object(m.a)(ee),Object(m.a)(Ye),Object(m.a)(ie.a),Object(m.a)(At),Object(m.a)(_t.b),Object(m.a)(on),Object(m.a)(En),Object(m.a)(Vn),Object(m.a)(or),Object(m.a)(Or),Object(m.a)(Rr),Object(m.a)(zr),Object(m.a)(ga),Object(m.a)(Fa),Object(m.a)(Ha),Object(m.a)(no),Object(m.a)(st),Object(m.a)(fo)),ho=n(509),jo=n.n(ho);function Oo(e,t){var n=function(e,n){return jo()(e,t)};return Object(i.b)(n,n,{whitelist:[e]})}var xo=n(978),vo=n.n(xo),go=function(e,t){return e.length>0?"".concat(t,":")+e.join(","):""},mo=function(e,t){var n=new RegExp("".concat(t,":([^& ]*)"),"i"),r=e.match(n);return r&&r[1]||null},yo=function(e,t){var n=mo(e,t);return n?n.split(","):[]},Co=function(e){return vo.a.enhancer({params:{q:{selector:function(t){if(!e.location)return"";switch(e.location.pathname){case"/nlu-inbox":return t.suggestions.searchQuery;case"/data/training-data":return t.examples.searchQuery;case"/responses":return t.responses.searchQuery;case"/users":return t.users.searchQuery;default:return""}},action:function(t){switch(e.location.pathname){case"/nlu-inbox":return Object(Xr.n)(t);case"/data/training-data":return Object(p.n)(t);case"/responses":return Object(Yn.e)(t);case"/users":return Object(j.g)(t);default:return null}},defaultValue:""},filter:{selector:function(t){if(!e.location)return"";switch(e.location.pathname){case"/nlu-inbox":return function(e){var t=[go(e.intents,"intents"),go(e.entities,"entities"),go(e.tags.map((function(e){return e.id})),"tags"),function(e){var t="";return e.from&&e.from.length>0&&(t="from:"+e.from+(e.to?"&to:"+e.to:"")),t}(e.date)],n="";return t.forEach((function(e,r){var a=t[r];n+=a.length>0?(n.length>0?" ":"")+a:""})),n}(t.suggestions.filter);default:return""}},action:function(t){switch(e.location.pathname){case"/nlu-inbox":var n={from:mo(t,"from"),to:mo(t,"to")},r=yo(t,"intents")||[],a=yo(t,"entities")||[],o=yo(t,"tags")||[];return Object(Xr.h)({intents:r,tagIds:o,date:n,entities:a});default:return null}},defaultValue:""}},initialTruth:"location",replaceState:!0,history:e})},So=n(667),wo={version:null};var Eo=n(12),ko=n(108),To=n(510),Ao=n.n(To),_o={draftExampleExists:!1,examples:[],correction:null,intents:[],error:{},loading:{},searchQuery:"",warnings:[],entityTypes:[]},Do=Object(ko.a)((function(e,t){switch(t.type){case Object(E.getType)(U.h):return _o;case Object(E.getType)(p.h.request):e.loading.fetchExamples=!0,e.error.fetchExamples=null,e.searchQuery=t.payload.search;break;case Object(E.getType)(p.h.success):var n,r=t.payload,a=r.examples,o=r.total,c=r.offset,i=a.map((function(e){return Object(te.a)(Object(te.a)({},e),{},{entities:e.entities.map((function(e){return Object(te.a)(Object(te.a)({},e),{},{id:Ao()()})}))})}));(n=e.examples).splice.apply(n,[c||0,a.length].concat(Object(m.a)(i))),e.examples.length=o,e.loading.fetchExamples=!1;break;case Object(E.getType)(p.h.failure):e.loading.fetchExamples=!1,e.error.fetchExamples=t.payload;break;case Object(E.getType)(p.g.request):e.loading.fetchExample=!0,e.error.fetchExample=null;break;case Object(E.getType)(p.g.success):case Object(E.getType)(p.k.success):e.correction=Array.isArray(t.payload)?t.payload[0]:t.payload,e.loading.fetchExample=!1;break;case Object(E.getType)(p.g.failure):e.correction=null,e.loading.fetchExample=!1;break;case Object(E.getType)(p.i.request):e.loading.fetchIntents=!0,e.error.fetchIntents=null;break;case Object(E.getType)(p.i.success):e.intents=t.payload.sort(),e.loading.fetchIntents=!1;break;case Object(E.getType)(p.i.failure):e.loading.fetchIntents=!1,e.error.fetchIntents=t.payload;break;case Object(E.getType)(p.l.success):case Object(E.getType)(p.m.success):var s,l=t.payload;e.intents=Object(m.a)(new Set([].concat(Object(m.a)(e.intents),Object(m.a)(l.map((function(e){return e.intent})))))),(s=e.examples).splice.apply(s,[0,0].concat(Object(m.a)(l)));break;case Object(E.getType)(p.b):var u=t.payload;u.isDirty=!0;var d=e.examples.findIndex((function(e){return e&&e.id===u.id}));e.examples[d]=u;break;case Object(E.getType)(p.o.success):t.payload.forEach((function(t){var n=e.examples.findIndex((function(e){return e&&e.id===t.id}));e.examples[n]=t}));break;case Object(E.getType)(p.d.success):var b=t.payload,f=e.examples.findIndex((function(e){return e&&e.id===b.id}));e.examples.splice(f,1);break;case Object(E.getType)(p.a):e.correction=t.payload,e.correction&&(e.correction.isDirty=!0);break;case Object(E.getType)(p.p.request):e.loading.uploadExamples=!0,e.error.uploadExamples=null;break;case Object(E.getType)(p.p.success):e.loading.uploadExamples=!1,e.examples=[];break;case Object(E.getType)(p.p.failure):e.loading.uploadExamples=!1,e.error.uploadExamples=t.payload;break;case Object(E.getType)(p.j.success):e.warnings=t.payload;break;case Object(E.getType)(p.f.success):e.entityTypes=t.payload;break;case Object(E.getType)(p.n):e.searchQuery=t.payload;break;case Object(E.getType)(p.c.success):e.draftExampleExists=t.payload;break;case Object(E.getType)(p.r):case Object(E.getType)(p.s):t.payload.forEach((function(t){var n=e.examples.map((function(e){return e.id})).indexOf(t.id),r=e.examples.filter((function(e){return e.id!==t.id})),a=Object(ko.a)(e.examples,(function(e){e[n]=t})),o=[].concat(Object(m.a)(e.examples),[t]);t.workspace_id?e.examples=r:e.examples=n>-1?a:o}));break;case Object(E.getType)(p.q):var h=t.payload;e.examples=e.examples.filter((function(e){return e.hash!==h}))}}),_o),Ro=n(32),Fo={total:0,error:{},loading:{},gitRepositories:[],activeGitRepository:null,activeRepositoryStatus:null,generatedSshKey:null},Io=Object(ko.a)((function(e,t){switch(t.type){case Object(E.getType)(Ro.e.request):e.loading.fetchGitRepositories=!0,e.error.fetchGitRepositories=null;break;case Object(E.getType)(Ro.e.success):var n=t.payload,r=n.gitRepositories,a=n.total;e.gitRepositories=r,e.activeGitRepository=r.slice(-1)[0],e.total=a,e.loading.fetchGitRepositories=!1;break;case Object(E.getType)(Ro.e.failure):e.loading.fetchGitRepositories=!1,e.error.fetchGitRepositories=t.payload;break;case Object(E.getType)(Ro.g.request):e.loading.fetchSshKey=!0,e.error.fetchSshKey=null;break;case Object(E.getType)(Ro.g.success):var o=t.payload.public_ssh_key;e.generatedSshKey=o,e.loading.fetchSshKey=!1;break;case Object(E.getType)(Ro.g.failure):e.loading.fetchSshKey=!1,e.error.fetchSshKey=t.payload;break;case Object(E.getType)(Ro.d.request):e.loading.deleteGitRepository=!0,e.error.deleteGitRepository=null;break;case Object(E.getType)(Ro.d.success):var c,i=t.payload.repositoryId;e.gitRepositories=e.gitRepositories.filter((function(e){return e.id!==i})),(null===(c=e.activeGitRepository)||void 0===c?void 0:c.id)===i&&(e.activeGitRepository=null),e.loading.deleteGitRepository=!1;break;case Object(E.getType)(Ro.d.failure):e.loading.deleteGitRepository=!1,e.error.deleteGitRepository=t.payload;break;case Object(E.getType)(Ro.c.request):e.loading.connectGitRepository=!0,e.error.connectGitRepository=null;break;case Object(E.getType)(Ro.c.success):e.activeGitRepository=t.payload,e.loading.connectGitRepository=!1;break;case Object(E.getType)(Ro.c.failure):e.loading.connectGitRepository=!1,e.error.connectGitRepository=t.payload;break;case Object(E.getType)(Ro.j.request):e.loading.updateGitRepository=!0,e.error.updateGitRepository=null;break;case Object(E.getType)(Ro.j.success):e.activeGitRepository=t.payload,e.loading.updateGitRepository=!1;break;case Object(E.getType)(Ro.j.failure):e.loading.updateGitRepository=!1,e.error.updateGitRepository=t.payload;break;case Object(E.getType)(Ro.f.request):e.loading.fetchGitRepositoryStatus=!0,e.error.fetchGitRepositoryStatus=null;break;case Object(E.getType)(Ro.f.success):e.activeRepositoryStatus=t.payload,e.loading.fetchGitRepositoryStatus=!1;break;case Object(E.getType)(Ro.f.failure):e.loading.fetchGitRepositoryStatus=!1,e.error.fetchGitRepositoryStatus=t.payload;break;case Object(E.getType)(Ro.b.request):e.loading.commitGitChanges=!0,e.error.commitGitChanges=null;break;case Object(E.getType)(Ro.b.success):e.loading.commitGitChanges=!1;break;case Object(E.getType)(Ro.b.failure):e.loading.commitGitChanges=!1,e.error.commitGitChanges=t.payload}}),Fo),Lo={error:{},loading:{},reports:{latestSuccessful:void 0,latestNonSuccessful:void 0,active:void 0},results:void 0,config:void 0,total:0,searchQuery:"",sortBy:"recall"},No=Object(ko.a)((function(e,t){switch(t.type){case Object(E.getType)(h.d.request):e.loading.getInsightCalculationConfig=!0,e.error.getInsightCalculationConfig=null;break;case Object(E.getType)(h.d.success):e.config=t.payload,e.loading.getInsightCalculationConfig=!1;break;case Object(E.getType)(h.d.failure):e.loading.getInsightCalculationConfig=!1,e.error.getInsightCalculationConfig=t.payload;break;case Object(E.getType)(h.f.request):e.loading.putInsightCalculationConfig=!0,e.error.putInsightCalculationConfig=null;break;case Object(E.getType)(h.f.success):e.config=t.payload,e.loading.putInsightCalculationConfig=!1;break;case Object(E.getType)(h.f.failure):e.loading.putInsightCalculationConfig=!1,e.error.putInsightCalculationConfig=t.payload;break;case Object(E.getType)(h.g.request):e.loading.runInsightCalculation=!0,e.error.runInsightCalculation=null,e.reports.active={started_at:Date.now()/1e3,finished_at:null};break;case Object(E.getType)(h.g.success):e.loading.runInsightCalculation=!1;break;case Object(E.getType)(h.g.failure):e.loading.runInsightCalculation=!1,e.error.runInsightCalculation=t.payload,e.reports.active=void 0;break;case Object(E.getType)(h.b.request):var n=t.payload.status;switch(e.loading["fetchLatestNLUInsightReports_"+n]=!0,e.error["fetchLatestNLUInsightReports_"+n]=null,n){case w.b.IN_PROGRESS:e.reports.active=void 0;break;case w.b.SUCCESS:e.reports.latestSuccessful=void 0;break;case w.b.FAILURE:e.reports.latestNonSuccessful=void 0}break;case Object(E.getType)(h.b.success):var r=t.payload,a=r.reports,o=r.status;if(e.loading["fetchLatestNLUInsightReports_"+o]=!1,!a||1!==a.length)break;switch(o){case w.b.IN_PROGRESS:e.reports.active=a[0];break;case w.b.SUCCESS:e.reports.latestSuccessful=a[0];break;case w.b.FAILURE:e.reports.latestNonSuccessful=a[0]}break;case Object(E.getType)(h.b.failure):var c=t.payload,i=c.status,s=c.error;e.loading["fetchLatestNLUInsightReports_"+i]=!1,e.error["fetchLatestNLUInsightReports_"+i]=s;break;case Object(E.getType)(h.c.request):e.loading.fetchNLUEvaluationResults=!0,e.error.fetchNLUEvaluationResults=null;break;case Object(E.getType)(h.c.success):var l=t.payload,u=l.report,d=l.total;0===l.offset?e.results=u.intent_evaluation_results:u.intent_evaluation_results&&(e.results=[].concat(Object(m.a)(e.results||[]),Object(m.a)(u.intent_evaluation_results))),e.total=d,e.loading.fetchNLUEvaluationResults=!1;break;case Object(E.getType)(h.c.failure):e.loading.fetchNLUEvaluationResults=!1,e.error.fetchNLUEvaluationResults=t.payload;break;case Object(E.getType)(h.h):e.searchQuery=t.payload;break;case Object(E.getType)(h.i):e.sortBy=t.payload;break;case Object(E.getType)(h.e):e.loading.runInsightCalculation=!1,e.error.runInsightCalculation=null}}),Lo),Uo=n(130),Bo=n(101),Mo=n(106),Po=n.n(Mo),Ho=n(97),qo=n.n(Ho),Go=n(281),Wo=n.n(Go),Vo=n(151),Yo={error:{evaluation:null,uploadModel:null,training:null},currentTrainingProcesses:0,models:{},latestModelIsNew:!1,modelIsTraining:!1,modelExists:!1,total:0,confusionValues:[],cleanState:{training:!0,uploading:!0},evaluation:null,evaluationFilter:null,environments:[],environmentsHealth:{},loading:{evaluation:!1,models:!1,uploadModel:!1},f1Score:0,accuracy:0,filter:"all"};var zo=n(25),Ko={config:"",domain:"",domainWarnings:[],domainFiles:[],error:null,tags:[]};var Qo={error:{},loading:{},lookupTables:{},lookupTablesTotal:0,regexes:{},regexesTotal:0,selectedRegex:null};var Xo,Jo={error:{},loading:{},responseNames:[],groupedResponses:[],searchQuery:"",suggestionsQuery:"",suggestions:[],total:0},Zo=Object(ko.a)((function(e,t){switch(t.type){case Object(E.getType)(Yn.b.request):e.loading.fetchGroupedResponses=!0,e.error.fetchGroupedResponses=null,e.searchQuery=t.payload.search;break;case Object(E.getType)(Yn.b.success):var n=t.payload,r=n.responses,a=n.total;e.responseNames=r.map((function(e){return e.response_name})),e.groupedResponses=r,e.total=a,e.loading.fetchGroupedResponses=!1;break;case Object(E.getType)(Yn.b.failure):e.loading.fetchGroupedResponses=!1,e.error.fetchGroupedResponses=t.payload;break;case Object(E.getType)(Yn.c.request):var o=t.payload.search;e.loading.fetchResponsesSuggestions=!0,e.error.fetchResponsesSuggestions=null,""===o&&(e.suggestions=[]),e.suggestionsQuery=t.payload.search;break;case Object(E.getType)(Yn.c.success):var c=t.payload,i=c.search,s=c.responses,l=function(e,t){var n=e.toLowerCase().indexOf(t.toLowerCase()),r=t.length;return n>-1?[e.substr(0,n),e.substr(n,r),e.substr(n+r)]:[e]};e.suggestions=s.flatMap((function(e){e.response_name;return e.responses.map((function(e){var t=e.response_name,n=e.text;return{key:t,text:l(t,i),description:l(n,i)}}))})),e.loading.fetchResponsesSuggestions=!1;break;case Object(E.getType)(Yn.c.failure):e.loading.fetchResponsesSuggestions=!1,e.error.fetchResponsesSuggestions=t.payload;break;case Object(E.getType)(Yn.f.success):var u=t.payload,d=u.response_name,b=e.groupedResponses.findIndex((function(e){return e.response_name===d})),f=e.groupedResponses[b].responses.findIndex((function(e){return e.id===u.id}));e.groupedResponses[b].responses[f]=u;break;case Object(E.getType)(Yn.g.success):var p=t.payload,h=p.name,j=p.newName,O=e.groupedResponses.findIndex((function(e){return e.response_name===h}));e.groupedResponses[O].response_name=j,e.responseNames.splice(O,1,j);break;case Object(E.getType)(Yn.a.success):var x=Array.isArray(t.payload)?t.payload[0]:t.payload,v=e.groupedResponses.findIndex((function(e){return e.response_name===x.response_name})),g=e.groupedResponses[v].responses.findIndex((function(e){return e.id===x.id}));1===e.groupedResponses[v].responses.length?(e.groupedResponses.splice(v,1),e.responseNames=e.responseNames.filter((function(e){return e!==x.response_name}))):e.groupedResponses[v].responses.splice(g,1),e.total--;break;case Object(E.getType)(Yn.d.success):var y=t.payload,C=y.response_name,S=e.groupedResponses.findIndex((function(e){return e.response_name===C}));S>=0?e.groupedResponses[S].responses.unshift(y):(e.responseNames=[C].concat(Object(m.a)(e.responseNames)),e.groupedResponses.unshift({response_name:C,responses:[y]})),e.total++;break;case Object(E.getType)(Yn.e):e.searchQuery=t.payload}}),Jo);!function(e){e.Analytics="analytics_dashboard",e.Conversation="conversations",e.DeploymentEnvironment="deployment_environment",e.Model="models",e.Response="responses",e.Rule="rules",e.Story="stories",e.TestConversation="test_conversation",e.TrainingData="nlu_training_data",e.Git="git",e.Domain="domain"}(Xo||(Xo={}));var $o={total:0,roles:{},roleUsers:{},permissions:[{label:"Talk to your bot",resource:Xo.TestConversation,cannotModify:!0},{label:"Conversations",resource:Xo.Conversation},{label:"NLU Training Data",resource:Xo.TrainingData},{label:"Rules",resource:Xo.Rule},{label:"Stories",resource:Xo.Story},{label:"Responses",resource:Xo.Response},{label:"Models",resource:Xo.Model},{label:"Analytics",resource:Xo.Analytics,cannotModify:!0},{label:"Deployment",resource:Xo.DeploymentEnvironment,cannotView:!0},{label:"Git status & commands",resource:Xo.Git},{label:"Domain",resource:Xo.Domain}]};var ec={rules:{},loading:!1,error:null,searchQuery:"",selectedRules:[],total:0,visualization:""};var tc={stories:{},loading:!1,error:null,searchQuery:"",selectedStories:[],shouldReplaceStories:!1,storiesToConfirm:"",total:0,visualization:""};var nc=n(165),rc={error:{},loading:{},references:[],searchQuery:"",synonyms:[],total:0},ac=Object(ko.a)((function(e,t){switch(t.type){case Object(E.getType)(le.b.request):e.loading.fetchSynonyms=!0,e.error.fetchSynonyms=null,e.searchQuery=t.payload.search;break;case Object(E.getType)(le.b.success):var n=t.payload,r=n.synonyms,a=n.total;e.synonyms=r,e.references=r.map((function(e){return{id:e.id,synonym_reference:e.synonym_reference}})),e.total=a,e.loading.fetchSynonyms=!1;break;case Object(E.getType)(le.b.failure):e.loading.fetchSynonyms=!1,e.error.fetchSynonyms=t.payload;break;case Object(E.getType)(le.f.success):var o=t.payload,c=o.synonymId,i=o.valueId,s=o.newValue,l=e.synonyms.findIndex((function(e){return e.id===c})),u=e.synonyms[l].mapped_values.findIndex((function(e){return e.id===i}));e.synonyms[l].mapped_values[u].value=s;break;case Object(E.getType)(le.e.success):var d=t.payload,b=d.synonymId,f=d.value,p=e.synonyms.findIndex((function(e){return e.id===b})),h=e.references.findIndex((function(e){return e.id===b}));e.synonyms[p].synonym_reference=f,e.references[h].synonym_reference=f;break;case Object(E.getType)(le.a.success):var j=t.payload,O=e.synonyms.findIndex((function(e){return e.id===j.synonymId})),x=e.synonyms[O].mapped_values.findIndex((function(e){return e.id===j.valueId}));1===e.synonyms[O].mapped_values.length?(e.synonyms.splice(O,1),e.references=e.references.filter((function(e){return e.id!==j.synonymId})),e.total--):e.synonyms[O].mapped_values.splice(x,1);break;case Object(E.getType)(le.d.success):var v,g=t.payload,y=g.id,C=g.mapped_values,S=e.synonyms.findIndex((function(e){return e.id===y}));(v=e.synonyms[S].mapped_values).push.apply(v,Object(m.a)(C)),e.total=e.synonyms.length;break;case Object(E.getType)(le.c.success):var w=t.payload,k=w.id,T=w.synonym_reference;e.references=[].concat(Object(m.a)(e.references),[{id:k,synonym_reference:T}]),e.synonyms.push(w),e.total++}}),rc),oc={telemetry_enabled:!1,user_groups:[],user_id:""};var cc={error:null,loading:!1,searchQuery:"",total:0,unfilteredTotal:0,users:{},currentUser:void 0};var ic=n(276),sc=n.n(ic),lc={searchQuery:"",workspaces:[],searchParams:null,loading:{},error:{},examples:[],drafts:[],total:0,totalFetched:0,searchQueryChanged:!1},uc=Object(ko.a)((function(e,t){switch(t.type){case Object(E.getType)(U.h):return lc;case Object(E.getType)(O.i):e.totalFetched=t.payload;break;case Object(E.getType)(O.d.success):var n,r=t.payload,a=r.drafts,o=r.total,c=r.offset;if(e.searchQueryChanged&&(e.drafts=[],e.searchQueryChanged=!1),e.drafts.length&&a.length&&e.drafts[0].id===a[0].id&&e.drafts.length===a.length)break;if(0===c)e.drafts=a;else(n=e.drafts).splice.apply(n,[c||0,a.length].concat(Object(m.a)(a)));o&&(0===e.total&&(e.total=o),e.drafts.length=o);break;case Object(E.getType)(Xr.m.success):var i=t.payload,s=i.suggestionId,l=i.tags.map((function(e){return e.id})),u=e.drafts.findIndex((function(e){return e.id===s}));if(-1===u)return;e.drafts[u].tags=[].concat(Object(m.a)(e.drafts[u].tags),Object(m.a)(l.filter((function(t){return!e.drafts[u].tags.includes(t)}))));break;case Object(E.getType)(Xr.k.success):var d=t.payload,b=d.tag,f=d.suggestionId;e.drafts=e.drafts.map((function(e){return e.id!==f?e:Object(te.a)(Object(te.a)({},e),{},{tags:e.tags.filter((function(e){return e!==b.id}))})}));break;case Object(E.getType)(O.g):e.activeWorkspace=t.payload;break;case Object(E.getType)(O.e.request):e.loading.fetchWorkspaces=!0,e.error.fetchWorkspaces=null;break;case Object(E.getType)(O.e.success):var p;e.workspaces=t.payload;var h=null===(p=e.activeWorkspace)||void 0===p?void 0:p.id,j=e.workspaces.find((function(e){return e.id===h}));e.activeWorkspace=j||e.workspaces[0];break;case Object(E.getType)(O.e.failure):e.loading.fetchWorkspaces=!1,e.error.fetchWorkspaceExamples=t.payload;break;case Object(E.getType)(O.a.request):e.loading.createWorkspace=!0,e.error.createWorkspace=null;break;case Object(E.getType)(O.a.success):e.activeWorkspace=t.payload,e.workspaces.push(t.payload);break;case Object(E.getType)(O.a.failure):e.loading.createWorkspace=!1,e.error.createWorkspace=t.payload;break;case Object(E.getType)(Xr.p.success):var x=t.payload,v=new Set(x.filter((function(t){var n;return t.workspace_id&&t.workspace_id!==(null===(n=e.activeWorkspace)||void 0===n?void 0:n.id)})).map((function(e){return e.id})));v.size>0&&(e.drafts=e.drafts.filter((function(e){return!v.has(e.id)}))),x.forEach((function(t){var n=e.drafts.findIndex((function(e){return e.id===t.id}));if(-1!==n){var r=e.drafts[n],a=sc()(t,["id","intent"]);e.drafts[n]=Object(te.a)(Object(te.a)(Object(te.a)({},r),a),{intent:{selected:t.intent||r.intent.selected,predicted:r.intent.predicted}})}}));break;case Object(E.getType)(O.j):var g=t.payload;(Array.isArray(g)?g:[g]).forEach((function(t){var n,r=e.drafts.map((function(e){return e.id})).indexOf(t.id),a=e.drafts.filter((function(e){return e.id!==t.id})),o=Object(ko.a)(e.examples,(function(e){e[r]=t})),c=[].concat(Object(m.a)(e.drafts),[t]);t.workspace_id&&t.workspace_id===(null===(n=e.activeWorkspace)||void 0===n?void 0:n.id)?e.drafts=r>-1?o:c:e.drafts=a}));break;case Object(E.getType)(Xr.j.success):break;case Object(E.getType)(O.k):case Object(E.getType)(O.n):var y=t.payload;(Array.isArray(y)?y:[y]).forEach((function(t){var n,r=e.examples.map((function(e){return e.id})).indexOf(t.id),a=e.examples.filter((function(e){return e.id!==t.id})),o=Object(ko.a)(e.examples,(function(e){e[r]=t})),c=[].concat(Object(m.a)(e.examples),[t]);t.workspace_id&&t.workspace_id===(null===(n=e.activeWorkspace)||void 0===n?void 0:n.id)?e.examples=r>-1?o:c:e.examples=a}));break;case Object(E.getType)(O.b):var C=t.payload,S=e.examples.filter((function(e){return e.id!==C.id}));e.examples=S;break;case Object(E.getType)(O.l):var w=t.payload,k=e.examples.filter((function(e){return e.hash!==w}));e.examples=k;break;case Object(E.getType)(O.h):e.searchQuery=t.payload;break;case Object(E.getType)(O.c):console.log({payloadShape:t.payload})}}),lc),dc={analytics:So.b,application:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(E.getType)(F.a.success):return{version:t.payload};default:return e}},auth:Eo.e,examples:Do,gitRepositories:Io,interactiveLearning:Uo.c,intentInsights:No,login:Eo.e,messages:Bo.d,models:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(E.getType)(Rt.c.success):var n=Po.a.load(t.payload),r=n.rasa;return Object(te.a)(Object(te.a)({},e),{},{environments:Object.keys(r).filter((function(e){return"worker"!==e}))});case Object(E.getType)(Rt.e.success):return Object(te.a)(Object(te.a)({},e),{},{environmentsHealth:t.payload});case Object(E.getType)(Rt.k.request):return Object(te.a)(Object(te.a)({},e),{},{modelIsTraining:!0,cleanState:Object(te.a)(Object(te.a)({},e.cleanState),{},{training:!1}),error:Object(te.a)(Object(te.a)({},e.error),{},{training:null})});case Object(E.getType)(Rt.k.success):var a=201!==t.payload.status;return Object(te.a)(Object(te.a)({},e),{},{modelIsTraining:!1,latestModelIsNew:a,error:Object(te.a)(Object(te.a)({},e.error),{},{training:null})});case Object(E.getType)(Rt.k.failure):return Object(te.a)(Object(te.a)({},e),{},{modelIsTraining:!1,error:Object(te.a)(Object(te.a)({},e.error),{},{training:t.payload})});case Object(E.getType)(Rt.l.request):return Object(te.a)(Object(te.a)({},e),{},{cleanState:Object(te.a)(Object(te.a)({},e.cleanState),{},{uploading:!1}),loading:Object(te.a)(Object(te.a)({},e.loading),{},{uploadModel:!0}),error:Object(te.a)(Object(te.a)({},e.error),{},{uploadModel:null})});case Object(E.getType)(Rt.l.success):return Object(te.a)(Object(te.a)({},e),{},{loading:Object(te.a)(Object(te.a)({},e.loading),{},{uploadModel:!1})});case Object(E.getType)(Rt.l.failure):var o=!!t.payload.response&&409===t.payload.response.status;return Object(te.a)(Object(te.a)({},e),{},{modelExists:o,loading:Object(te.a)(Object(te.a)({},e.loading),{},{uploadModel:!1}),error:Object(te.a)(Object(te.a)({},e.error),{},{uploadModel:t.payload})});case Object(E.getType)(Rt.f.request):return Object(te.a)(Object(te.a)({},e),{},{loading:Object(te.a)(Object(te.a)({},e.loading),{},{models:!0})});case Object(E.getType)(Rt.f.success):var c=t.payload,i=c.models,s=c.total,l=c.offset,u=Object(Vo.a)(e.models,i,l||0,(function(e,t){return e.model===t.model}),(function(e){return Object(te.a)(Object(te.a)({},e),{},{tags:e.tags.sort()})}));return Object(te.a)(Object(te.a)({},e),{},{models:u,total:s,loading:Object(te.a)(Object(te.a)({},e.loading),{},{models:!1})});case Object(E.getType)(Rt.b.success):var d=t.payload,b=function(e,t){return t.some((function(t){return t.model===e.model}))},f=Object.entries(e.models).reduce((function(e,t){var n=Object(Dt.a)(e,2),r=n[0],a=n[1],o=Object(Dt.a)(t,2),c=o[0],i=o[1];if(a<d.length&&b(i,d))return[Object(te.a)({},r),a+1];var s=String(Number(c)-a);return[Object(te.a)(Object(te.a)({},r),{},{[s]:i}),a]}),[{},0]),p=Object(Dt.a)(f,2),h=p[0],j=p[1];return Object(te.a)(Object(te.a)({},e),{},{models:h,total:e.total-j});case Object(E.getType)(Rt.d.request):return Object(te.a)(Object(te.a)({},e),{},{loading:Object(te.a)(Object(te.a)({},e.loading),{},{evaluation:!0}),error:Object(te.a)(Object(te.a)({},e.error),{},{evaluation:null})});case Object(E.getType)(Rt.d.failure):return Object(te.a)(Object(te.a)({},e),{},{loading:Object(te.a)(Object(te.a)({},e.loading),{},{evaluation:!1}),error:Object(te.a)(Object(te.a)({},e.error),{},{evaluation:t.payload})});case Object(E.getType)(Rt.a.success):var O=t.payload,x=O.model,v=O.environment,g=Array.isArray(v)?v[0]:v;if(!g)return Object(te.a)({},e);var m=Wo()(e.models,(function(e){var t=e.tags.indexOf(g);return t>-1&&e.tags.splice(t,1),qo()(e,x)&&!e.tags.includes(g)&&Object.assign(e,x.tags.push(g)),e}));return Object(te.a)(Object(te.a)({},e),{},{models:m});case Object(E.getType)(Rt.g):return Object(te.a)(Object(te.a)({},e),{},{evaluationFilter:t.payload});default:return e}},projects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ko,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(E.getType)(sn.c.success):case Object(E.getType)(sn.h.success):return Object(te.a)(Object(te.a)({},e),{},{error:null,config:Po.a.dump(Po.a.load(t.payload))});case Object(E.getType)(sn.d.success):return Object(te.a)(Object(te.a)({},e),{},{tags:t.payload});case Object(E.getType)(lt.u.success):var n=t.payload.tags;return Object(te.a)(Object(te.a)({},e),{},{tags:[].concat(Object(m.a)(e.tags.filter((function(e){return void 0===n.find((function(t){return t.id===e.id}))}))),Object(m.a)(n))});case Object(E.getType)(sn.h.failure):return Object(te.a)(Object(te.a)({},e),{},{error:t.payload});case Object(E.getType)(sn.a.success):var r=t.payload;return Object(te.a)(Object(te.a)({},e),{},{error:null,domainFiles:[].concat(Object(m.a)(e.domainFiles),[r])});case Object(E.getType)(sn.b.success):var a=t.payload.id,o=e.domainFiles.filter((function(e){return e.id!==a}));return Object(te.a)(Object(te.a)({},e),{},{error:null,domainFiles:o});case Object(E.getType)(sn.i.request):case Object(E.getType)(sn.i.success):var c=t.payload.id,i=e.domainFiles.map((function(e){return e.id===c?t.payload:e}));return Object(te.a)(Object(te.a)({},e),{},{error:null,domainFiles:i});case Object(E.getType)(sn.f.success):return Object(te.a)(Object(te.a)({},e),{},{error:null,domainFiles:t.payload});case Object(E.getType)(sn.g.success):var s=t.payload,l=s.total,u=Object(zo.a)(s,["total"]),d=Object.entries(u).flatMap((function(e){var t=Object(Dt.a)(e,2),n=t[0],r=t[1];return Object.entries(r).flatMap((function(e){var t=Object(Dt.a)(e,2),r=t[0];return t[1].map((function(e){return{element:n.replace("_warnings",""),location:r,value:e}}))}))}));return d.length!==l&&console.error("Something went wrong with flattening warnings"),Object(te.a)(Object(te.a)({},e),{},{domainWarnings:d});default:return e}},regexes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(E.getType)(se.h.success):var n=t.payload,r=n.regexes,a=n.total,o=n.offset,c=Object(Vo.a)(e.regexes,r,o||0,(function(e,t){return e.id===t.id}));return Object(te.a)(Object(te.a)({},e),{},{regexes:c,regexesTotal:a});case Object(E.getType)(se.b.success):var i=t.payload,s=Object(te.a)({0:i},Object.entries(e.regexes).reduce((function(e,t){var n=Object(Dt.a)(t,2),r=n[0],a=n[1];return Object(te.a)(Object(te.a)({},e),{},{[(Number(r)+1).toString()]:a})}),{}));return Object(te.a)(Object(te.a)({},e),{},{regexes:s,regexesTotal:e.regexesTotal+1});case Object(E.getType)(se.d.success):var l=Array.isArray(t.payload)?t.payload:[t.payload],u=function(e,t){return t.some((function(t){return e.id===t.id}))},d=Object.entries(e.regexes).reduce((function(e,t){var n=Object(Dt.a)(e,2),r=n[0],a=n[1],o=Object(Dt.a)(t,2),c=o[0],i=o[1];if(a<l.length&&u(i,l))return[Object(te.a)({},r),a+1];var s=String(Number(c)-a);return[Object(te.a)(Object(te.a)({},r),{},{[s]:i}),a]}),[{},0]),b=Object(Dt.a)(d,2),f=b[0],p=b[1];return Object(te.a)(Object(te.a)({},e),{},{regexes:f,regexesTotal:e.regexesTotal-p});case Object(E.getType)(se.i.success):var h,j=t.payload,O=null===(h=Object.entries(e.regexes).find((function(e){var t=Object(Dt.a)(e,2);t[0];return t[1].id===j.id})))||void 0===h?void 0:h[0];return Object(te.a)(Object(te.a)({},e),{},{regexes:O?Object(te.a)(Object(te.a)({},e.regexes),{},{[O]:j}):e.regexes});case Object(E.getType)(se.f.success):var x=t.payload,v=x.lookupTables,g=x.total,m=v.reduce((function(e,t,n){return Object(te.a)(Object(te.a)({},e),{},{[n]:Object(te.a)({},t)})}),e.lookupTables);return Object(te.a)(Object(te.a)({},e),{},{lookupTables:m,lookupTablesTotal:g});case Object(E.getType)(se.a.request):return Object(te.a)(Object(te.a)({},e),{},{loading:Object(te.a)(Object(te.a)({},e.loading),{},{createLookupTable:!0}),error:Object(te.a)(Object(te.a)({},e.error),{},{createLookupTable:null})});case Object(E.getType)(se.a.success):var y=t.payload,C=Object(te.a)({0:y},Object.entries(e.lookupTables).reduce((function(e,t){var n=Object(Dt.a)(t,2),r=n[0],a=n[1];return Object(te.a)(Object(te.a)({},e),{},{[(Number(r)+1).toString()]:a})}),{}));return Object(te.a)(Object(te.a)({},e),{},{lookupTables:C,loading:Object(te.a)(Object(te.a)({},e.loading),{},{createLookupTable:!1}),lookupTablesTotal:e.lookupTablesTotal+1});case Object(E.getType)(se.a.failure):return Object(te.a)(Object(te.a)({},e),{},{loading:Object(te.a)(Object(te.a)({},e.loading),{},{createLookupTable:!1}),error:Object(te.a)(Object(te.a)({},e.error),{},{createLookupTable:t.payload})});case Object(E.getType)(se.c.success):var S=Array.isArray(t.payload)?t.payload:[t.payload],w=function(e,t){return t.some((function(t){return e.id===t.id}))},k=Object.entries(e.lookupTables).reduce((function(e,t){var n=Object(Dt.a)(e,2),r=n[0],a=n[1],o=Object(Dt.a)(t,2),c=o[0],i=o[1];if(a<S.length&&w(i,S))return[Object(te.a)({},r),a+1];var s=String(Number(c)-a);return[Object(te.a)(Object(te.a)({},r),{},{[s]:i}),a]}),[{},0]),T=Object(Dt.a)(k,2),A=T[0],_=T[1];return Object(te.a)(Object(te.a)({},e),{},{lookupTables:A,lookupTablesTotal:e.lookupTablesTotal-_});case Object(E.getType)(se.g.success):return Object(te.a)(Object(te.a)({},e),{},{selectedRegex:t.payload});default:return e}},responses:Zo,roles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(E.getType)(cr.d.success):var n=t.payload,r=n.total,a=n.roles;return Object(te.a)(Object(te.a)({},e),{},{roles:a.reduce((function(e,t,n){return Object(te.a)(Object(te.a)({},e),{},{[n.toString()]:t})}),{}),total:r});case Object(E.getType)(cr.c.success):var o=t.payload,c=o.role,i=o.users;return Object(te.a)(Object(te.a)({},e),{},{roles:Object(te.a)(Object(te.a)({},e.roles),{},{[c]:Object(te.a)(Object(te.a)({},e.roles[c]),{},{users_count:i.length})})});case Object(E.getType)(cr.b.success):var s=t.payload;return Object(te.a)(Object(te.a)({},e),{},{roles:Object(te.a)(Object(te.a)({},e.roles),{},{[s.role]:s})});case Object(E.getType)(cr.f.success):return e;case Object(E.getType)(cr.g.success):var l=t.payload,u=l.currentId,d=l.role,b=Object.entries(e.roles).find((function(e){var t=Object(Dt.a)(e,2);t[0];return t[1].role===u})),f=b?Object(te.a)(Object(te.a)({},e.roles),{},{[b[0]]:d}):Object.entries(e.roles).reduce((function(e,t){var n=Object(Dt.a)(t,2),r=n[0],a=n[1];return Object(te.a)(Object(te.a)({},e),{},{[Number(r)+1]:a})}),{0:d});return Object(te.a)(Object(te.a)({},e),{},{roles:f,total:b?e.total:e.total+1});case Object(E.getType)(cr.a.success):var p=t.payload,h=function(e,t){return t.some((function(t){return t.role===e.role}))},j=Object.entries(e.roles).reduce((function(e,t){var n=Object(Dt.a)(e,2),r=n[0],a=n[1],o=Object(Dt.a)(t,2),c=o[0],i=o[1];if(a<p.length&&h(i,p))return[Object(te.a)({},r),a+1];var s=String(Number(c)-a);return[Object(te.a)(Object(te.a)({},r),{},{[s]:i}),a]}),[{},0]),O=Object(Dt.a)(j,2),x=O[0],v=O[1];return Object(te.a)(Object(te.a)({},e),{},{roles:x,total:e.total-v});case Object(E.getType)(cr.e):var g=t.payload,m=g.role,y=g.updateFn,C=Object.values(e.roles).findIndex((function(e){return e.role===m}));return-1!==C?Object(te.a)(Object(te.a)({},e),{},{roles:Object(te.a)(Object(te.a)({},e.roles),{},{[C]:y(e.roles[C])})}):e;default:return e}},rules:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ec,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(E.getType)(xr.f.request):return Object(te.a)(Object(te.a)({},e),{},{loading:!0,searchQuery:t.payload.search});case Object(E.getType)(xr.f.success):var n=t.payload,r=n.rules,a=n.total,o=n.offset,c=a>=e.total?e.rules:{},i=Object(Vo.a)(c,r,o||0,(function(e,t){return e.id===t.id}));return Object(te.a)(Object(te.a)({},e),{},{rules:i,total:a,loading:!1});case Object(E.getType)(xr.f.failure):return Object(te.a)(Object(te.a)({},e),{},{loading:!1,error:t.payload});case Object(E.getType)(xr.g.success):return Object(te.a)(Object(te.a)({},e),{},{visualization:t.payload});case Object(E.getType)(xr.j.success):var s=t.payload;return Object(te.a)(Object(te.a)({},e),{},{rules:Object.entries(e.rules).map((function(e){var t=Object(Dt.a)(e,2),n=t[0],r=t[1];return[n,r.id!==s.id?r:s]})).reduce((function(e,t){var n=Object(Dt.a)(t,2),r=n[0],a=n[1];return Object(te.a)(Object(te.a)({},e),{},{[r]:a})}),{})});case Object(E.getType)(xr.i.success):var l=Array.isArray(t.payload)?t.payload:[t.payload],u=Object(te.a)(Object(te.a)({},l.reduce((function(e,t,n){return Object(te.a)(Object(te.a)({},e),{},{[n.toString()]:t})}),{})),Object.entries(e.rules).reduce((function(e,t){var n=Object(Dt.a)(t,2),r=n[0],a=n[1];return Object(te.a)(Object(te.a)({},e),{},{[(Number(r)+l.length).toString()]:a})}),{}));return Object(te.a)(Object(te.a)({},e),{},{rules:u,total:Object.keys(u).length});case Object(E.getType)(xr.d.success):var d=t.payload,b=Object.entries(e.rules).reduce((function(e,t){var n=Object(Dt.a)(e,2),r=n[0],a=n[1],o=Object(Dt.a)(t,2),c=o[0],i=o[1];if(i.id===d.id)return[Object(te.a)({},r),!0];var s=String(a?Number(c)-1:c);return[Object(te.a)(Object(te.a)({},r),{},{[s]:i}),a]}),[{},!1]),f=Object(Dt.a)(b,1),p=f[0];return Object(te.a)(Object(te.a)({},e),{},{rules:p,total:e.total-1});case Object(E.getType)(xr.c):return Object(te.a)(Object(te.a)({},e),{},{selectedRules:t.payload});default:return e}},stories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(E.getType)(Fr.f.request):return Object(te.a)(Object(te.a)({},e),{},{loading:!0,searchQuery:t.payload.search});case Object(E.getType)(Fr.f.success):var n=t.payload,r=n.stories,a=n.total,o=n.offset,c=a>=e.total?e.stories:{},i=Object(Vo.a)(c,r,o||0,(function(e,t){return e.id===t.id}));return Object(te.a)(Object(te.a)({},e),{},{stories:i,total:a,loading:!1});case Object(E.getType)(Fr.f.failure):return Object(te.a)(Object(te.a)({},e),{},{loading:!1,error:t.payload});case Object(E.getType)(Fr.g.success):return Object(te.a)(Object(te.a)({},e),{},{visualization:t.payload});case Object(E.getType)(Fr.m.success):var s=t.payload;return Object(te.a)(Object(te.a)({},e),{},{stories:Object.entries(e.stories).map((function(e){var t=Object(Dt.a)(e,2),n=t[0],r=t[1];return[n,r.id!==s.id?r:s]})).reduce((function(e,t){var n=Object(Dt.a)(t,2),r=n[0],a=n[1];return Object(te.a)(Object(te.a)({},e),{},{[r]:a})}),{})});case Object(E.getType)(Fr.i.success):var l=Array.isArray(t.payload)?t.payload:[t.payload],u=Object.entries(e.stories),d=Object.fromEntries([].concat(Object(m.a)(l.map((function(e,t){return[t.toString(),e]}))),Object(m.a)(u.map((function(e){var t=Object(Dt.a)(e,2),n=t[0],r=t[1];return[(Number(n)+l.length).toString(),r]})))));return Object(te.a)(Object(te.a)({},e),{},{stories:d,total:Object.keys(d).length});case Object(E.getType)(Fr.d.success):var b=t.payload,f=Object.fromEntries(Object.entries(e.stories).filter((function(e){var t=Object(Dt.a)(e,2);t[0];return t[1].id!==b.id})).map((function(e,t){var n=Object(Dt.a)(e,2),r=(n[0],n[1]);return[String(t),r]})));return Object(te.a)(Object(te.a)({},e),{},{stories:f,total:e.total-1});case Object(E.getType)(Fr.c):return Object(te.a)(Object(te.a)({},e),{},{selectedStories:t.payload});case Object(E.getType)(Fr.j):return Object(te.a)(Object(te.a)({},e),{},{searchQuery:t.payload});case Object(E.getType)(Fr.k):return Object(te.a)(Object(te.a)({},e),{},{shouldReplaceStories:t.payload});case Object(E.getType)(Fr.l):return Object(te.a)(Object(te.a)({},e),{},{storiesToConfirm:t.payload});default:return e}},suggestions:nc.b,synonyms:ac,telemetry:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(E.getType)(Ia.a.success):return t.payload;default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(E.getType)(U.h):return cc;case Object(E.getType)(j.c.request):return Object(te.a)(Object(te.a)({},e),{},{loading:!0,searchQuery:t.payload.search});case Object(E.getType)(j.b.success):return Object(te.a)(Object(te.a)({},e),{},{currentUser:t.payload});case Object(E.getType)(j.c.success):var n=t.payload,r=n.users,a=n.total,o=n.offset,c=n.search,i=e.total<Object.values(e.users).length,s=a>=e.total&&!i?e.users:{},l=Object(Vo.a)(s,r,o||0,(function(e,t){return e.username===t.username}));return Object(te.a)(Object(te.a)({},e),{},{users:l,unfilteredTotal:""===c?a:e.unfilteredTotal,total:r.length,loading:!1});case Object(E.getType)(j.h.success):return Object(te.a)(Object(te.a)({},e),{},{currentUser:t.payload});case Object(E.getType)(j.e.success):var u=t.payload,d=u.user,b=u.userIndex;return Object(te.a)(Object(te.a)({},e),{},{users:Object(te.a)(Object(te.a)({},e.users),{},{[b]:d})});case Object(E.getType)(j.a.success):var f=t.payload,p=function(e,t){return t.some((function(t){return t.username===e.username}))},h=Object.entries(e.users).reduce((function(e,t){var n=Object(Dt.a)(e,2),r=n[0],a=n[1],o=Object(Dt.a)(t,2),c=o[0],i=o[1];if(a<f.length&&p(i,f))return[Object(te.a)({},r),a+1];var s=String(Number(c)-a);return[Object(te.a)(Object(te.a)({},r),{},{[s]:i}),a]}),[{},0]),O=Object(Dt.a)(h,2),x=O[0],v=O[1];return Object(te.a)(Object(te.a)({},e),{},{users:x,unfilteredTotal:e.unfilteredTotal-v,total:e.total-v});case Object(E.getType)(j.f):var g=t.payload,m=e.users,y=g.reduce((function(e,t){var n=Object.values(e),r=n.findIndex((function(e){return e.username===t.username}));return-1!==r?e[r]=t:e[n.length]=t,e}),m);return Object(te.a)(Object(te.a)({},e),{},{users:y});case Object(E.getType)(j.g):return Object(te.a)(Object(te.a)({},e),{},{searchQuery:t.payload});default:return e}},workspaces:uc},bc=Object(c.c)(dc),fc=(So.a,Eo.b,Uo.b,Bo.c,nc.a,window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d),pc=Object(b.a)();t.a=function(e){var t=Object(f.a)({context:{history:e}}),n=o()(),r=[g,pc.middleware,t,n],a=fc(Co(e),c.a.apply(void 0,r)),s=Object(i.c)({key:"root",storage:d.a,stateReconciler:l.a,whitelist:["auth","application","workspaces"],transforms:[Oo("workspaces",["activeWorkspace"])]},bc),u=Object(c.e)(s,a);return po.forEach((function(e){return t.run(e)})),{persistor:Object(i.d)(u),store:u}}},150:function(e,t,n){"use strict";function r(e){window.open(e,"_blank","noopener,noreferrer")}function a(e){var t=/\.[0-9a-z]+$/i.exec(e);if(t)return t[0]}function o(e){var t="application/json";switch(a(e)){case".md":t="text/markdown";break;case".yml":case".yaml":t="text/yaml";break;case".json":t="application/json"}return t}n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}))},151:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),a=n(15);function o(e,t,n,o,c){var i=t.reduce((function(e,t,r){var c=e.added,i=e.updated,s=e.items,l=s.length>n+r+c&&o(s[n+r+c],t);return{added:c+(l?0:1),updated:i+(l?1:0),items:[].concat(Object(a.a)(s.slice(0,n+r+c)),[t],Object(a.a)(s.slice(n+r+c+(l?1:0))))}}),{added:0,updated:0,items:Object.entries(e).map((function(e){var t=Object(r.a)(e,2);t[0];return t[1]}))}),s=i.items,l=i.added,u=i.updated;return 0===l&&0===u?e:s.reduce((function(e,t,n){return e[n]=c?c(t):t,e}),{})}},165:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(15),a=n(2),o=n(108),c=n(97),i=n.n(c),s=n(977),l=n.n(s),u=n(4),d=n(19),b=n(27),f={draftSuggestionExists:!1,error:null,filter:Object(a.a)({},{intents:[],tags:[],entities:[],type:"Suggestion",date:{from:null,to:null}}),filterPresentOnLoad:!1,initialFetchComplete:!1,loading:!1,searchQuery:"",searchQueryChanged:!1,sortBy:"time",sortOrder:"desc",suggestions:[],tags:[],total:0,totalFetched:0},p=Object(o.a)((function(e,t){switch(t.type){case Object(u.getType)(b.j.success):var n=t.payload,o=new Set(n.map((function(e){return e.id}))),c=e.suggestions.length;e.suggestions=e.suggestions.filter((function(e){return!o.has(e.id)}));var s=e.suggestions.length;e.total=e.total-(c-s);break;case Object(u.getType)(b.e.request):e.loading=!0;var f=t.payload,p=f.filter,h=f.offset,j=f.search,O=f.sortBy,x=f.sortOrder,v=!i()(p,e.filter),g=O&&O!==e.sortBy,m=x&&x!==e.sortOrder,y=j!==e.searchQuery;!e.filterPresentOnLoad&&v?e.filter=p:0===h&&(e.filterPresentOnLoad=!1),(y||g||m||v)&&(e.searchQuery=t.payload.search,g&&(e.sortBy=O),m&&(e.sortOrder=x),e.searchQueryChanged=!0,e.totalFetched=0);break;case Object(u.getType)(b.e.success):e.loading=!1,e.initialFetchComplete=!0;var C,S=t.payload,w=S.suggestions,E=S.total,k=S.offset;if(w.map((function(e){return e.user_input.intent_ranking=[e.user_input.intent].concat(Object(r.a)(e.user_input.intent_ranking.splice(1)))})),e.searchQueryChanged&&(e.suggestions=[],e.searchQueryChanged=!1),e.suggestions.length&&w.length&&e.suggestions[0].id===w[0].id&&e.suggestions.length===w.length)break;if(0===k)e.suggestions=w;else(C=e.suggestions).splice.apply(C,[k||0,w.length].concat(Object(r.a)(w)));E&&(0===e.total&&(e.total=E),e.suggestions.length=E);break;case Object(u.getType)(b.e.failure):e.error=t.payload,e.loading=!1,e.initialFetchComplete=!0;break;case Object(u.getType)(b.f.request):e.loading=!0;break;case Object(u.getType)(b.f.success):e.loading=!1,e.total=t.payload;break;case Object(u.getType)(b.f.failure):e.error=t.payload,e.loading=!1;break;case Object(u.getType)(b.o):if(t.payload<=e.totalFetched)break;e.totalFetched=t.payload;break;case Object(u.getType)(b.g.success):var T=t.payload,A=T.suggestionId,_=T.entities,D=T.synonyms;_.forEach((function(t,n){var r=e.suggestions.find((function(e){return e.id===A})).user_input.entities.findIndex((function(e){return e.id===t.id||e.start===t.start&&e.end===t.end}));e.suggestions.find((function(e){return e.id===A})).user_input.entities.splice(r,1,Object(a.a)(Object(a.a)({},t),{},{entity_synonym_id:D[n].id}))}));break;case Object(u.getType)(b.l.success):e.suggestions.splice(0,0,t.payload);break;case Object(u.getType)(b.m.success):var R=t.payload,F=R.tags,I=R.suggestionId,L=F.map((function(e){return e.id})),N=e.suggestions.findIndex((function(e){return e.id===I}));if(-1===N)return;e.tags=l()(F,e.tags,"id"),e.suggestions[N].tags=[].concat(Object(r.a)(e.suggestions[N].tags),Object(r.a)(L.filter((function(t){return!e.suggestions[N].tags.includes(t)}))));break;case Object(u.getType)(b.k.success):var U=t.payload,B=U.tag,M=U.suggestionId;e.suggestions=e.suggestions.map((function(e){return e.id!==M?e:Object(a.a)(Object(a.a)({},e),{},{tags:e.tags.filter((function(e){return e!==B.id}))})}));break;case Object(u.getType)(d.m.success):t.payload.forEach((function(t){var n=e.suggestions.findIndex((function(e){return e.user_input.text===t.text}));n>=0&&e.suggestions.splice(n,1)})),e.total--,e.totalFetched--;break;case Object(u.getType)(b.c.success):(Array.isArray(t.payload)?t.payload:[t.payload]).forEach((function(t){var n=e.suggestions.findIndex((function(e){return e.id===t.id}));n>=0&&e.suggestions.splice(n,1)})),e.total--,e.totalFetched--;break;case Object(u.getType)(b.a):var P=e.suggestions.findIndex((function(e){return(null===e||void 0===e?void 0:e.id)===t.payload.id}));if(P<0)break;e.suggestions[P]=Object(a.a)(Object(a.a)({},t.payload),{},{isDirty:!0});break;case Object(u.getType)(b.b.success):e.draftSuggestionExists=t.payload;break;case Object(u.getType)(b.n):e.searchQuery=t.payload;break;case Object(u.getType)(b.h):var H=t.payload.tagIds.map((function(e){return{id:parseInt(e),color:"",value:""}}));e.filterPresentOnLoad=!0,e.filter={date:t.payload.date,type:"Suggestion",intents:t.payload.intents,tags:H,entities:t.payload.entities};break;case Object(u.getType)(b.d.success):e.tags=t.payload;break;case Object(u.getType)(b.i):var q=e.filter.tags.map((function(t){if(e.tags.length&&(0===t.value.length||0===t.color.length)){var n=e.tags.find((function(e){return e.id===t.id}));if(n)return{id:t.id,value:n.value,color:n.color}}return t}));e.filterPresentOnLoad=!0,e.filter={date:e.filter.date,type:"Suggestion",intents:e.filter.intents,tags:q,entities:e.filter.entities}}}),f);t.b=p},169:function(e,t,n){"use strict";var r=n(21),a=n(3),o=n(22),c=Object(r.default)(a.Flex).withConfig({displayName:"Menu",componentId:"hqn2o1-0"})([""," list-style:none;"],o.height);c.defaultProps={as:"ul",m:0,pl:0,flexDirection:"row"},t.a=c},17:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"q",(function(){return o})),n.d(t,"x",(function(){return c})),n.d(t,"w",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"z",(function(){return l})),n.d(t,"A",(function(){return u})),n.d(t,"p",(function(){return d})),n.d(t,"r",(function(){return b})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"k",(function(){return h})),n.d(t,"j",(function(){return j})),n.d(t,"h",(function(){return O})),n.d(t,"l",(function(){return x})),n.d(t,"i",(function(){return v})),n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return m})),n.d(t,"b",(function(){return y})),n.d(t,"s",(function(){return C})),n.d(t,"B",(function(){return S})),n.d(t,"m",(function(){return w})),n.d(t,"n",(function(){return E})),n.d(t,"o",(function(){return k})),n.d(t,"y",(function(){return T})),n.d(t,"C",(function(){return A})),n.d(t,"u",(function(){return _})),n.d(t,"t",(function(){return D})),n.d(t,"v",(function(){return R}));var r=n(4),a=Object(r.createAsyncAction)("FETCH CONVERSATION","FETCH CONVERSATION SUCCESS","FETCH CONVERSATION FAILURE")(),o=Object(r.createStandardAction)("FETCH CONVERSATION (GUEST)")(),c=Object(r.createAsyncAction)("SAVE MESSAGE","SAVE MESSAGE SUCCESS","SAVE MESSAGE FAILURE")(),i=Object(r.createStandardAction)("SAVE MESSAGE (GUEST)")(),s=Object(r.createStandardAction)("CHANGE CONVERSATION ENVIRONMENT")(),l=Object(r.createStandardAction)("START POLLING MESSAGES")(),u=Object(r.createStandardAction)("STOP POLLING MESSAGES")(),d=Object(r.createAsyncAction)("FETCH CONVERSATIONS","FETCH CONVERSATIONS SUCCESS","FETCH CONVERSATIONS FAILURE")(),b=Object(r.createAsyncAction)("FETCH STATISTICS","FETCH STATISTICS SUCCESS","FETCH STATISTICS FAILURE")(),f=Object(r.createStandardAction)("DOWNLOAD CONVERSATION")(),p=Object(r.createAsyncAction)("DELETE CONVERSATION","DELETE CONVERSATION SUCCESS","DELETE CONVERSATION FAILURE")(),h=Object(r.createAsyncAction)("FETCH CONVERSATION INTENTS","FETCH CONVERSATION INTENTS SUCCESS","FETCH CONVERSATION INTENTS FAILURE")(),j=Object(r.createAsyncAction)("FETCH CONVERSATION ENTITIES","FETCH CONVERSATION ENTITIES SUCCESS","FETCH CONVERSATION ENTITIES FAILURE")(),O=Object(r.createAsyncAction)("FETCH CONVERSATION ACTIONS","FETCH CONVERSATION ACTIONS SUCCESS","FETCH CONVERSATION ACTIONS FAILURE")(),x=Object(r.createAsyncAction)("FETCH CONVERSATION POLICIES","FETCH CONVERSATION POLICIES SUCCESS","FETCH CONVERSATION POLICIES FAILURE")(),v=Object(r.createAsyncAction)("FETCH CONVERSATION CHANNELS","FETCH CONVERSATION CHANNELS SUCCESS","FETCH CONVERSATION CHANNELS FAILURE")(),g=Object(r.createAsyncAction)("FETCH CHAT TOKEN","FETCH CHAT TOKEN SUCCESS","FETCH CHAT TOKEN FAILURE")(),m=Object(r.createAsyncAction)("FETCH BOT DETAILS","FETCH BOT DETAILS SUCCESS","FETCH BOT DETAILS FAILURE")(),y=Object(r.createStandardAction)("CHANGE FILTER")(),C=Object(r.createAsyncAction)("FLAG MESSAGE","FLAG MESSAGE SUCCESS","FLAG MESSAGE FAILURE")(),S=Object(r.createAsyncAction)("UNFLAG MESSAGE","UNFLAG MESSAGE SUCCESS","UNFLAG MESSAGE FAILURE")(),w=Object(r.createAsyncAction)("FETCH CONVERSATION SLOT NAMES","FETCH CONVERSATION SLOT NAMES SUCCESS","FETCH CONVERSATION SLOT NAMES FAILURE")(),E=Object(r.createAsyncAction)("FETCH CONVERSATION SLOT VALUES","FETCH CONVERSATION SLOT VALUES SUCCESS","FETCH CONVERSATION SLOT VALUES FAILURE")(),k=Object(r.createAsyncAction)("FETCH CONVERSATION STORY","FETCH CONVERSATION STORY SUCCESS","FETCH CONVERSATION STORY FAILURE")(),T=Object(r.createStandardAction)("SELECT INTENT")(),A=Object(r.createAsyncAction)("UPDATE REVIEW STATUS","UPDATE REVIEW STATUS SUCCESS","UPDATE REVIEW STATUS FAILURE")(),_=Object(r.createAsyncAction)("SAVE CONVERSATION TAGS","SAVE CONVERSATION TAGS SUCCESS","SAVE CONVERSATION TAGS FAILURE")(),D=Object(r.createAsyncAction)("DELETE CONVERSATION TAG","DELETE CONVERSATION TAG SUCCESS","DELETE CONVERSATION TAG FAILURE")(),R=Object(r.createAsyncAction)("SAVE E2E TEST","SAVE E2E TEST SUCCESS","SAVE E2E TEST FAILURE")()},18:function(e,t,n){"use strict";n.d(t,"m",(function(){return O})),n.d(t,"a",(function(){return x})),n.d(t,"e",(function(){return v})),n.d(t,"g",(function(){return g})),n.d(t,"l",(function(){return m})),n.d(t,"k",(function(){return y})),n.d(t,"h",(function(){return C})),n.d(t,"o",(function(){return S})),n.d(t,"p",(function(){return w})),n.d(t,"b",(function(){return E})),n.d(t,"j",(function(){return k})),n.d(t,"c",(function(){return T})),n.d(t,"n",(function(){return A})),n.d(t,"f",(function(){return _})),n.d(t,"d",(function(){return D})),n.d(t,"i",(function(){return R}));var r=n(6),a=n(15),o=n(2052),c=n(1),i=n(14),s=n(2051),l=n(4),u=n(192),d=n(972),b=n(105),f=n(12),p=Object(b.b)(b.c,(function(e,t){return e.length===t.length}))((function(e){return e.permissions}),(function(e){var t=new d.AccessControl(e);return t.grant(f.f),t})),h=n(149),j=n(110),O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=c.useRef(0),a=c.useRef(null),o=c.useCallback((function(){e.apply(null,n),r.current=Date.now()}),[r,e,n]);c.useEffect((function(){a.current&&clearTimeout(a.current);var e=Date.now()-r.current;return e>=t?o():a.current=setTimeout(o,t-e),function(){a.current&&clearTimeout(a.current)}}),[t,o])},x=function(e,t,n){var r=c.useRef(null),o=c.useRef(e),i=c.useRef(t);c.useEffect((function(){o.current=e}),[e]),c.useEffect((function(){i.current=t}),[t]),c.useEffect((function(){var e;return r.current&&clearTimeout(r.current),r.current=setTimeout((e=o.current).bind.apply(e,[null].concat(Object(a.a)(n))),i.current),function(){r.current&&clearTimeout(r.current)}}),n)};function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=Object(i.d)((function(e){return p(e.auth)}));return c.useMemo((function(){return!e&&!t||(Array.isArray(e)?e:[e]).some((function(e){var a=r.permission({role:"current",action:t,resource:e}),o=a.attributes.includes("*")||n.every((function(e){return a.attributes.includes(e)}));return a.granted&&o}))}),[r,e,t,n])}function g(e){var t=c.useMemo((function(){return h.b.createAsyncFunction({start:Object(l.getType)(e.request),resolve:Object(l.getType)(e.success),reject:Object(l.getType)(e.failure)})}),[e.request,e.success,e.failure]),n=t.asyncFunction,r=t.unsubscribe;return c.useEffect((function(){return function(){return r()}}),[r]),n}function m(){var e=Object(i.c)();c.useEffect((function(){e(j.a.request())}),[e]);var t=Object(i.d)((function(e){return e.telemetry}));return{userGroups:t.user_groups,userId:t.user_id}}function y(){var e=Object(i.c)();return c.useCallback((function(t,n){return e(j.c.request({event:t,payload:n}))}),[e])}function C(e,t){var n=Object(s.h)(),r=c.useMemo((function(){return new URLSearchParams(n.search).get(e)}),[n.search,e]);c.useEffect((function(){t(r)}),[t,r])}function S(e){var t=c.useState(e),n=Object(r.a)(t,2),a=n[0],o=n[1],i=c.useCallback((function(){return o((function(e){return!e}))}),[o]);return c.useMemo((function(){return[a,i]}),[a,i])}function w(){var e=Object(i.c)();c.useEffect((function(){e(u.a.request({skipExternal:!1}))}),[e]);var t=Object(i.d)((function(e){return e.application.version}));if(!t)return{};var n=t["rasa-x"],r=t.updates?t.updates["rasa-x"].version:n;return{currentVersion:n,latestVersion:r,changelog:t.updates?t.updates["rasa-x"].changelog_url:void 0,updateAvailable:n!==r}}function E(){return Object(i.d)((function(e){var t,n;return null!==(t=null===(n=e.application.version)||void 0===n?void 0:n.enterprise)&&void 0!==t&&t}))}function k(){return Object(i.d)((function(e){var t;return!1===(null===(t=e.application.version)||void 0===t?void 0:t.local_mode)}))}function T(){return Object(i.d)((function(e){var t=e.application.version;return!!t&&(!t.local_mode||t.development_mode)}))}function A(e){var t=c.useState(!1),n=Object(r.a)(t,2),a=n[0],o=n[1];return[a,c.useCallback((function(t){o(!0),setTimeout((function(){t(),o(!1)}),e)}),[o,e])]}function _(e){var t=c.useRef();return c.useEffect((function(){t.current=e}),[e]),t.current}function D(){var e=c.useRef(null),t=c.useState(new DOMRect),n=Object(r.a)(t,2),a=n[0],i=n[1],s=c.useCallback((function(e){return e.forEach((function(e){return i(e.target.getBoundingClientRect())}))}),[i]);return Object(o.a)(s,e.current),[e,a]}function R(e){var t=c.useState(new Set),n=Object(r.a)(t,2),a=n[0],o=n[1],i=c.useState(null),s=Object(r.a)(i,2),l=s[0],u=s[1],d=c.useCallback((function(t,n){o((function(r){var a=new Set(r);if(n&&null!==l&&l!==t){var o=Math.min(l,t),c=Math.max(l,t)+1;Array(c-o).fill(0).forEach((function(t,n){return a.add(e[n+o].id)}))}else a.has(e[t].id)?a.delete(e[t].id):(u(t),a.add(e[t].id));return a}))}),[o,l,e]),b=c.useRef();c.useEffect((function(){var t=new Set;if(b.current!==e){b.current=e;for(var n=0;n<e.length&&(void 0!==e[n]&&a.has(e[n].id));n++)t.add(e[n].id);o(t)}}),[o,e,a]);var f=c.useCallback((function(){o(new Set),u(null)}),[o]),p=c.useMemo((function(){var t=[];if(0!==e.length)for(var n=0;n<e.length&&void 0!==e[n];n++)t.push(e[n].id);return t}),[e]),h=c.useMemo((function(){return Array.from(a).map((function(e){return p.indexOf(e)}))}),[a,p]),j=c.useCallback((function(t){t(h.map((function(t){return e[t]}))),f()}),[f,e,h]);return{updateItemSelection:d,clearItemSelection:f,idArray:p,selectedItems:a,selectedItemsIndices:h,mapOverSelectedItemsWithCallback:j}}},19:function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"i",(function(){return c})),n.d(t,"l",(function(){return i})),n.d(t,"m",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"o",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"p",(function(){return b})),n.d(t,"j",(function(){return f})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return j})),n.d(t,"n",(function(){return O})),n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return v})),n.d(t,"r",(function(){return g})),n.d(t,"s",(function(){return m})),n.d(t,"q",(function(){return y}));var r=n(4),a=Object(r.createAsyncAction)("FETCH EXAMPLES","FETCH EXAMPLES SUCCESS","FETCH EXAMPLES FAILURE")(),o=Object(r.createAsyncAction)("FETCH EXAMPLE","FETCH EXAMPLE SUCCESS","FETCH EXAMPLE FAILURE")(),c=Object(r.createAsyncAction)("FETCH INTENTS","FETCH INTENTS SUCCESS","FETCH INTENTS FAILURE")(),i=Object(r.createAsyncAction)("SAVE EXAMPLES","SAVE EXAMPLES SUCCESS","SAVE EXAMPLES FAILURE")(),s=Object(r.createAsyncAction)("SAVE EXAMPLES FROM SUGGESTIONS","SAVE EXAMPLES FROM SUGGESTIONS SUCCESS","SAVE EXAMPLES FROM SUGGESTIONS FAILURE")(),l=Object(r.createAsyncAction)("SAVE EXAMPLE FROM CORRECTION","SAVE EXAMPLE FROM CORRECTION SUCCESS","SAVE EXAMPLE FROM CORRECTION FAILURE")(),u=Object(r.createAsyncAction)("UPDATE EXAMPLES","UPDATE EXAMPLES SUCCESS","UPDATE EXAMPLES FAILURE")(),d=Object(r.createAsyncAction)("DELETE EXAMPLE","DELETE EXAMPLE SUCCESS","DELETE EXAMPLE FAILURE")(),b=Object(r.createAsyncAction)("UPLOAD EXAMPLES","UPLOAD EXAMPLES SUCCESS","UPLOAD EXAMPLES FAILURE")(),f=Object(r.createAsyncAction)("FETCH WARNINGS","FETCH WARNINGS SUCCESS","FETCH WARNINGS FAILURE")(),p=Object(r.createAsyncAction)("FETCH ENTITY TYPES","FETCH ENTITY TYPES SUCCESS","FETCH ENTITY TYPES FAILURE")(),h=Object(r.createAsyncAction)("CHECK DRAFT EXAMPLE","CHECK DRAFT EXAMPLE SUCCESS","CHECK DRAFT EXAMPLE FAILURE")(),j=Object(r.createStandardAction)("DOWNLOAD EXAMPLES")(),O=Object(r.createStandardAction)("SEARCH EXAMPLES")(),x=Object(r.createStandardAction)("CHANGE EXAMPLE")(),v=Object(r.createStandardAction)("CHANGE CORRECTION")(),g=Object(r.createStandardAction)("WEBSOCKET NEW EXAMPLES CREATED")(),m=Object(r.createStandardAction)("WEBSOCKET EXAMPLES UPDATED")(),y=Object(r.createStandardAction)("WEBSOCKET EXAMPLES DELETED")()},192:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(4),a=Object(r.createAsyncAction)("FETCH VERSION","FETCH VERSION SUCCESS","FETCH VERSION FAILURE")()},20:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(5),a=n(28);function o(e){var t=e.response;if(!t)return Object(r.c)();if(401===t.status&&t.data.reasons){var n=t.data.reasons;if(n.includes("Signature has expired."))return Object(r.f)(Object(a.h)("Authentication token expired"));if(n.includes("Auth required."))return Object(r.f)(Object(a.h)("Authentication token invalid"))}return Object(r.c)()}},2021:function(e,t,n){"use strict";n.r(t);var r=n(8),a=n(1),o=n.n(a),c=(n(1093),n(69)),i=n.n(c),s=n(0),l=n(21),u=n(541),d=n(342),b=n(521),f=n.n(b),p=n(2030),h=n(2065),j=n(2056),O=n(24),x=n(543),v=function(){return(v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},g=function(e){switch(null===e||void 0===e?void 0:e.split("-")[0]){case"top":return{bottom:0};case"bottom":return{top:"-5px"};case"left":return{right:"-5px"};case"right":return{left:"-5px"}}return{}},m="normal",y=a.forwardRef((function(e,t){var n=e.children,r=e.style,o=void 0===r?{}:r,c=e.disableArrow,i=e.arrowStyle,l=void 0===i?{}:i,u=e.arrowRef,d=e.id,b=e["data-popper-placement"],f=Object(h.a)();return a.useEffect((function(){b&&(f.set(v({opacity:0},function(e){switch(null===e||void 0===e?void 0:e.split("-")[0]){case"top":return{y:-10};case"bottom":return{y:10};case"left":return{x:-10};case"right":return{x:10};default:return{}}}(b))),f.start({opacity:1,x:0,y:0}))}),[f,b]),Object(s.jsx)("div",v({"data-popper-placement":b,style:v({display:"inline-block",zIndex:99},o),id:d,ref:t},{children:Object(s.jsx)(j.a.div,v({animate:f},{children:Object(s.jsxs)(O.a,v({sx:{display:"inline-block",bg:"neutral_8",color:"neutral_0",borderRadius:m,offset:.1}},{children:[Object(s.jsx)(x.a,v({variant:"bodySecondary",sx:{py:2,px:4},inheritColor:!0},{children:n}),void 0),!c&&Object(s.jsx)(O.a,{ref:u,sx:v(v({"&, &::before":{width:"10px",height:"10px",position:"absolute",zIndex:-1},"&::before":{content:'""',transform:"rotate(45deg)",bg:"neutral_8",top:0,left:0}},l),g(b))},void 0)]}),void 0)}),void 0)}),void 0)})),C=function(){return(C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},S=a.createContext((function(){}));function w(e){var t=e.children,n=a.useState(null),r=n[0],o=n[1],c=i.a.createPortal(r,document.body);return Object(s.jsxs)(S.Provider,C({value:o},{children:[c,t]}),void 0)}var E=0;function k(e,t){void 0===t&&(t={});var n=a.useMemo((function(){return"tooltip-"+E++}),[]),r=a.useState(!1),o=r[0],c=r[1],i=a.useState(null),l=i[0],u=i[1],d=a.useState(null),b=d[0],f=d[1],h=a.useState(null),j=h[0],O=h[1],x=a.useContext(S),v=de(),g=Object(p.a)(l,b,{placement:t.placement||"auto",modifiers:[{name:"arrow",options:{element:j,padding:v.radii.normal}},{name:"offset",options:{offset:[0,8]}}]}),m=g.styles,w=g.attributes;return a.useEffect((function(){if(l&&e&&!t.disabled)return l.addEventListener("mouseenter",n),l.addEventListener("mouseleave",r),l.addEventListener("focus",n),l.addEventListener("blur",r),function(){l.removeEventListener("mouseenter",n),l.removeEventListener("mouseleave",r),l.removeEventListener("focus",n),l.removeEventListener("blur",r)};function n(){c(!0)}function r(){c(!1)}}),[l,e,t.disabled]),a.useEffect((function(){l&&l.setAttribute("aria-describedby",n)}),[l,n]),a.useEffect((function(){if(o&&!t.disabled){var r=Object(s.jsx)(y,C({id:n,ref:f,style:w.popper?m.popper:{position:"absolute",left:0,transform:"translateX(-100%)"}},w.popper,{disableArrow:t.disableArrow,arrowStyle:m.arrow,arrowRef:O},{children:e}),void 0);x(r)}else x(null)}),[w.popper,e,n,t.disableArrow,O,x,f,o,m.arrow,m.popper,t.disabled]),u}var T=n(2061),A=n(57),_=n(2022),D=n(2027),R=n(1050),F=n(542);function I(e){var t=e.onClick,n=a.useCallback((function(e){t&&e.target===e.currentTarget&&t()}),[t]);return Object(s.jsx)(O.a,{bg:"neutral_8",style:{bottom:0,left:0,position:"fixed",right:0,top:0},onClick:n},void 0)}var L=function(){return(L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function N(e){var t=e.children,n=e.closeOnClickOutside,r=e.closeOnEscape,o=e.footer,c=e.header,i=e.noSeparator,l=e.onClose,u=e.p,d=e.px,b=void 0===d?5:d,f=e.py,p=void 0===f?4:f,h=e.showCloseButton,x=e.variant,v=Object(s.jsxs)(D.a,L({boxShadow:"none",sx:{borderRadius:"large",bg:"neutral_0",p:0},variant:"modal."+x},{children:[(c||h)&&Object(s.jsxs)(D.a,L({boxShadow:"none",sx:{p:4,borderBottom:i?"0px none":"1px solid",borderColor:"neutral_2",display:"flex"}},{children:[c&&Object(s.jsx)(R.a,L({variant:"h2"},{children:c}),void 0),Object(s.jsx)(O.a,{flex:"1"},void 0),h&&Object(s.jsx)(O.a,L({onClick:function(){return l()}},{children:Object(s.jsx)(_.a,L({onClick:function(){return l()},variant:"plainIcon",p:0},{children:Object(s.jsx)(F.a,{icon:A.faTimes,fontSize:"24px"},void 0)}),void 0)}),void 0)]}),void 0),Object(s.jsx)(O.d,L({p:u,px:b,py:p},{children:t}),void 0),o&&Object(s.jsx)(D.a,L({boxShadow:"none",sx:{p:4,borderTop:i?"0px none":"1px solid",borderColor:"neutral_2"}},{children:Object(s.jsx)(O.d,L({sx:{flexDirection:"row-reverse"}},{children:o}),void 0)}),void 0)]}),void 0);return a.useEffect((function(){function e(e){r&&"Escape"===e.key&&l()}return document.addEventListener("keyup",e),function(){return document.removeEventListener("keyup",e)}}),[r,l]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(j.a.div,L({initial:{opacity:0},animate:"transparentBg"===x?void 0:{opacity:.7,position:"fixed",zIndex:112},exit:{opacity:0}},{children:Object(s.jsx)(I,{onClick:n?l:void 0},void 0)}),void 0),Object(s.jsx)(j.a.div,L({initial:{zIndex:113,position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)",opacity:0,marginTop:100},animate:{opacity:1,marginTop:0},exit:{opacity:0,marginTop:100}},{children:v}),void 0)]},void 0)}var U=function(){return(U=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},B=a.createContext((function(){}));function M(e){var t=e.children,n=a.useState(null),r=n[0],o=n[1],c=i.a.createPortal(Object(s.jsx)(T.a,{children:r},void 0),document.body);return Object(s.jsxs)(B.Provider,U({value:o},{children:[c,t]}),void 0)}var P={header:null,footer:null,closeOnEscape:!0,closeOnClickOutside:!0,showCloseButton:!0},H=function(e,t){void 0===t&&(t={});var n=a.useMemo((function(){return U(U({},P),t)}),[t]),r=a.useContext(B),o=a.useState(!1),c=o[0],i=o[1],l=a.useMemo((function(){return Object(s.jsx)(N,U({onClose:function(){return i(!1)}},n,{children:e}),void 0)}),[e,n,i]);return a.useEffect((function(){r(c?l:null)}),[r,c,l]),o},q={primary:{bg:"primary_2",color:"neutral_0"},error:{bg:"secondary_2",color:"neutral_0"},warning:{bg:"yellow_3",color:"yellow_1",borderColor:"yellow_2",border:"solid 1px"},success:{bg:"cyan_3",color:"#56bdba",borderColor:"cyan_2",border:"solid 1px"},alertThatUsesColoursThatArentInTheStyleguide:{bg:"#e8fff7",color:"#56bdba",border:"solid 1px",borderColor:"#88deca"}},G={small:{width:"28px",height:"28px"},medium:{width:"32px",height:"32px"},large:{width:"40px",height:"40px"},xl:{width:"56px",height:"56px"}},W=function(){return(W=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},V={bg:"primary_2",border:"none",borderRadius:"normal",boxShadow:"button",color:"neutral_0",fontSize:1,fontWeight:1,lineHeight:"normal",px:3,py:"6px","&.large":{fontSize:2,py:"10px"},"&:hover":{bg:"primary_1"},"&:disabled, &.disabled":{color:"neutral_6",bg:"neutral_3",boxShadow:"none"}},Y={borderRadius:"normal",fontSize:1,fontWeight:1,lineHeight:"normal",px:3,py:"5px","&.large":{fontSize:2,py:"9px"},"&:hover, &.hover":{borderColor:"primary_1",color:"primary_1"},"&:disabled, &.disabled":{borderColor:"neutral_5",color:"neutral_6"}},z=W(W({},Y),{bg:"neutral_0",border:"1px solid",borderColor:"primary_2",color:"primary_2"}),K={bg:"transparent",border:"none",color:"neutral_0",fontSize:1,fontWeight:1,lineHeight:"small",p:0,"&.large":{fontSize:2}},Q={bg:"transparent",border:"none",borderRadius:"normal",color:"neutral_6",fontSize:"10px",lineHeight:0,p:2,"&:hover":{color:"neutral_7"},"&.active":{color:"primary_1"}},X={bg:"transparent",border:"none",borderRadius:"normal",color:"neutral_6",fontSize:"16px",lineHeight:0,p:"12px","&.active":{bg:"transparent",color:"primary_2"},"&:hover, &.hover":{bg:"primary_2",color:"neutral_0"}},J={primary:V,primaryDark:W(W({},V),{boxShadow:"none"}),login:W(W({},V),{letterSpacing:"1.1px !important",lineHeight:"28px"}),secondary:z,secondaryDashed:W(W({},Y),{bg:"neutral_1",border:"1px dashed",borderColor:"neutral_5",color:"neutral_6"}),dark:{bg:"neutral_8",borderRadius:"normal",color:"neutral_0",fontSize:1,fontWeight:1,lineHeight:"normal",px:3,py:"6px","&.large":{fontSize:2,py:"10px"}},inverse:{bg:"transparent",border:"1px solid",borderColor:"neutral_0",borderRadius:"normal",color:"neutral_0",fontSize:1,fontWeight:1,lineHeight:"normal",px:3,py:"6px","&.large":{fontSize:2,py:"10px"}},plain:K,plainDropdown:W(W({},K),{color:"neutral_8","&:disabled, &.disabled":{color:"neutral_6"}}),icon:X,iconInverse:W(W({},X),{color:"neutral_0","&:hover, &.hover":W(W({},X["&:hover, &.hover"]),{color:"primary_1",bg:"neutral_0"})}),headerIcon:{bg:"neutral_0",border:"none",borderRadius:0,color:"neutral_6",fontSize:"16px",lineHeight:0,p:"28px","&.active":{bg:"primary_2",color:"neutral_0"},"&:hover, &.hover":{"&.active":{bg:"primary_1",color:"neutral_0"},bg:"neutral_1",color:"neutral_6"}},secondaryHeaderIcon:{bg:"neutral_0",border:"none",borderRadius:0,width:"56px",height:"56px",color:"neutral_6",fontSize:"12px",lineHeight:0,"&:hover, &.hover":{color:"primary_2"},"&.active":{bg:"primary_1",color:"neutral_0"}},plainIcon:Q,plainIconDark:W(W({},Q),{"&:hover, &.hover":W(W({},Q["&:hover"]),{color:"neutral_1"})}),barIcon:{bg:"transparent",border:"none",borderRadius:0,color:"primary_2",fontSize:"16px",lineHeight:0,p:"24px","&.active":{bg:"primary_2",color:"neutral_0"},"&:hover, &.hover":{"&.active":{bg:"primary_1",color:"neutral_0"},bg:"neutral_1",color:"primary_1"}},onboardingIcon:W(W({},V),{bg:"neutral_0",color:"primary_2",padding:0,border:"1px solid",borderColor:"primary_4",borderRadius:50,fontSize:"20px",width:"48px",height:"48px","&:hover, &.hover":{bg:"neutral_1",color:"neutral_7"},"&.active":{color:"primary_1"}}),link:W(W({},K),{color:"primary_2",fontSize:"13px",lineHeight:"20px",fontWeight:400,"&:hover":{textDecoration:"underline"}}),smallLink:W(W({},K),{color:"primary_2",fontSize:"11px",lineHeight:"12px",fontWeight:400}),circle:W(W({},V),{width:65,height:65,borderRadius:65,lineHeight:0}),secondaryFill:W(W({},z),{"&:hover, &.hover":{bg:"primary_1",color:"neutral_0"}})},Z=function(){return(Z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},$={content:'""',borderRadius:"1000px",position:"absolute",top:"-4px",bottom:"-4px",left:"-4px",right:"-4px",zIndex:-1},ee={alert:q,avatar:G,checkbox:{default:{color:"neutral_0",borderRadius:"4px","input:checked + &":{bg:"primary_2",border:"none",borderColor:"transparent"},"input:focus + &::before":Z(Z({},$),{bg:"primary_4"})},primary:{color:"primary_2",borderRadius:"4px","input:checked + &":{bg:"neutral_0"},"input:focus + &::before":Z(Z({},$),{bg:"primary_3"})},radio:{color:"primary_2",borderRadius:"20px","input:checked + &":{bg:"neutral_0",border:"1px solid",borderColor:"primary_2"}}},modal:{default:{},transparentBg:{}},separator:{left:{"& > :first-of-type":{pr:"12px"},"&:before":{display:"none"}},center:{"& > :first-of-type":{px:"12px"}},right:{"& > :first-of-type":{pl:"12px"},"&:after":{display:"none"}}},table:{default:{borderRadius:"large","& .table-row:last-of-type":{border:"none",borderBottomLeftRadius:"large",borderBottomRightRadius:"large"}},flattened:{borderTopRightRadius:0,borderTopLeftRadius:0,borderBottomLeftRadius:"large",borderBottomRightRadius:"large"}}},te={button:J,option:{default:{color:"neutral_8","&:hover":{bg:"neutral_1"}},primary:{color:"primary_2","&:hover":{bg:"neutral_1",color:"primary_1","&.active":{bg:"primary_1",color:"neutral_0"}}}}},ne={heading:{h1:{fontSize:6},h2:{fontSize:4},h3:{fontSize:3},h4:{fontSize:2},h5:{fontSize:1}},text:{bodyPrimary:{fontFamily:"sansSerif",color:"neutral_8",fontSize:3,lineHeight:"normal"},bodySecondary:{fontFamily:"sansSerif",color:"neutral_8",fontSize:2,lineHeight:"normal"},captionPrimary:{fontFamily:"sansSerif",color:"neutral_6",fontSize:2,lineHeight:"small"},captionSecondary:{fontFamily:"sansSerif",color:"neutral_6",fontSize:0,lineHeight:"tight"},metadata:{fontFamily:"sansSerif",color:"neutral_7",fontSize:0,lineHeight:"tight"},code:{color:"neutral_8",fontFamily:"mono",fontSize:1,lineHeight:"normal"},inverse:{fontFamily:"sansSerif",color:"neutral_0",fontSize:3,lineHeight:"normal"}}},re=[11,12,13,14,16,20,24,32,48,64,72],ae={large:"36px",big:"24px",normal:"20px",small:"16px",tight:"12px"},oe=[400,700],ce={primary_1:"#4A3DD4",primary_2:"#574AE2",primary_3:"#6C5EF9",primary_4:"#DDDCF6",neutral_0:"#FFFFFF",neutral_1:"#F6F7FB",neutral_2:"#F2F4FA",neutral_3:"#ECEFF7",neutral_4:"#DDE2EF",neutral_5:"#CED5E7",neutral_6:"#979FB4",neutral_7:"#2C3951",neutral_8:"#252D40",secondary_1:"#972422",secondary_2:"#C6423F",secondary_3:"#E85653",secondary_4:"#F8CBCA",orange_1:"#EB9015",orange_2:"#FF9F1C",orange_3:"#F8DEBB",yellow_1:"#E4B912",yellow_2:"#FFD121",yellow_3:"#FBF2D1",green_1:"#48A9A6",green_2:"#4DD6D2",green_3:"#D6EBEA",blue_1:"#3158D6",blue_2:"#446FF8",blue_3:"#D0E3FC",cyan_1:"#4DD6D2",cyan_2:"#87E5E2",cyan_3:"#DEFBFA",dark_1:"#2C3951",dark_2:"#263146",grey:"#dde2ef",black:"#333333",white:"#ffffff",active:"#e6f7ff",dark_grey_temp:"#6B7694"},ie=["#bae25b","#94c6ff","#ff5a5a","#50c4ab","#ffd036","#98fdff","#f9946a","#ad96f0","#5c8eff","#fbb6ff","#546c82","#c3c3c3"].map((function(e){return e.slice(1)})),se={color:ce.neutral_8,lineHeight:parseFloat(ae.big),fontSize:re[2],canvasFontConfig:oe[0]+" "+re[2]+"px Lato"},le={breakpoints:["0","500px","800px","1200px","1900px"],colors:ce,colours:ce,fontSizes:re,fontWeights:oe,gradients:{primary_1:"linear-gradient(56deg, rgba(113, 22, 208, 0.95), #4e61e1)",secondary_1:"linear-gradient(90deg, rgba(236,239,247,0.2) 0%, rgba(236,239,247,1) 50%, rgba(236,239,247,0.2) 100%)"},heights:[32,40,48,56,64],letterSpacings:[.6,.7,.9,1.4],lineHeights:ae,space:[0,4,8,16,24,32,40,48,56,64,72,80,128,256,512],fonts:{mono:'"IBM Plex Mono", "Courier New", Courier, monospace',sansSerif:'"Lato", -apple-system, BlinkMacSystemFont, "avenir next", avenir, "helvetica neue", helvetica, ubuntu, roboto, noto, "segoe ui", arial, sans-serif'},active:{background:ce.active},radii:{tiny:2,small:4,normal:8,large:16},actions:{default:{color:"dark_grey_temp"},incorrect:{color:"dark_grey_temp",textDecoration:"line-through"},correct:{color:ce.primary_2,fontWeight:oe[1]}},shadows:{sm:"0 6px 21px 0 rgba(152, 152, 152, 0.06)",md:"0 3px 6px 0 rgba(96,97,149,0.20)",lg:"0 11px 43px 0 rgba(120, 119, 150, 0.1)",selectBox:"0 2px 8px 0 "+ce.neutral_5,card:"0 2px 4px 0 rgba(207, 207, 207, 0.21)",button:"0 2px 4px 0 rgba(207, 207, 207, 0.67)",pageTitle:"0 2px 6px 0 "+ce.neutral_3},menuItem:{default:{color:ce.neutral_6,backgroundColor:"transparent","&:hover":{color:ce.neutral_0,backgroundColor:ce.dark_2}}},text:ne,buttons:te,variants:ee,sentenceEditor:se},ue=function(){return(ue=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},de=function(){return Object(d.b)()},be=function(e){var t=e.children,n=e.theme,r=void 0===n?{}:n,o=a.useMemo((function(){return f()(le,r)}),[r]);return Object(s.jsx)(d.a,ue({theme:o},{children:Object(s.jsx)(w,{children:Object(s.jsx)(M,{children:t},void 0)},void 0)}),void 0)},fe=n(170),pe=n(14),he=n(2051),je=n(970),Oe=n(275),xe=n.n(Oe),ve=n(40);n(1251);function ge(){var e=Object(ve.a)(["    \n  *, *:hover, *:focus {\n    outline: none;\n  }\n  \n  *::-moz-focus-inner {\n    border: none;\n  }\n  \n  html, body, #root {\n    height: 100%;\n    margin: 0;\n    padding: 0;\n  }\n\n  body {\n    background-color: #fff !important;\n  }\n\n  .defaultEditorStyles {\n    color: ",";\n    font-size: ","px;\n    line-height: ","px;\n  }\n\n  .DraftEditor-root {\n    width: 100%;\n  }\n"]);return ge=function(){return e},e}var me=Object(l.createGlobalStyle)(ge(),le.sentenceEditor.color,le.sentenceEditor.fontSize,le.sentenceEditor.lineHeight),ye=n(15),Ce=n(2),Se=n(6),we=n(18),Ee=o.a.createContext({});function ke(e){var t=o.a.useState(!1),n=Object(Se.a)(t,2),r=n[0],a=n[1],c=o.a.useState(null),i=Object(Se.a)(c,2),l=i[0],u=i[1],d=o.a.useState(null),b=Object(Se.a)(d,2),f=b[0],p=b[1],h=o.a.useState({}),j=Object(Se.a)(h,2),O=j[0],x=j[1],v=o.a.useCallback((function(e){x((function(t){return Object(Ce.a)(Object(Ce.a)({},t),{},{[e.source]:e})}))}),[]),g=o.a.useCallback((function(e){return function e(t,n){if(!t)return n;var r=O[t];return r?e(r.nextSource,r.canBeShown?[].concat(Object(ye.a)(n),[t]):n):n}(e,[])}),[O]),m=o.a.useCallback((function(e){var t=g(f);!e&&t.length>0?p(t[0]):t.length>=2?p(t[1]):p(null)}),[f,p,g]),y=Object(we.k)();o.a.useEffect((function(){r&&y("conversation:hints:enable")}),[y,r]);var C=o.a.useMemo((function(){return g(l)}),[l,g]),S=o.a.useMemo((function(){return g(f)}),[f,g]);return Object(s.jsx)(Ee.Provider,{value:{hintsEnabled:r,initialHint:l,currentHint:f,allHints:C,nextHints:S,getNextHints:g,setHintsEnabled:a,setInitialHint:u,setCurrentHint:p,addHint:v,updateCurrentHint:m},children:e.children})}var Te=function(){return o.a.useContext(Ee)},Ae=function(e,t,n,r,a,o){return[{name:"ivc_connected",title:"Welcome to Rasa X!",showBadge:!0,icon:"\ud83d\udc4b",content:"Rasa X will help you develop and improve your assistant. To help get you started we can show you the most important parts.",showDarkBackground:!0,onClose:function(){a("Prompt Clicked",{prompt:"Onboarding Welcome",action:"Dismiss"})},action:function(){a("Prompt Clicked",{prompt:"Onboarding Welcome",action:"Start"}),e("connect_repo")}},{name:"models_model_added",title:"You have a repo connected",content:"Now it\u2019s time to add a model.",showBadge:!0,action:function(){e("upload_model")}},{name:"models_model_promoted",title:"You have a model! Time to activate it",content:"Make the model available by activating it from the \u201cmodels\u201d screen.",showBadge:!0,action:function(){r("/models"),e("activate_model")}},{name:"messages_message_sent",title:"Your assistant is up and running",content:"Now you can get your assistant talking to test users.",showBadge:!0,action:function(){r("/conversations"),e("share_bot")}},{name:"nlu_message_annotated",title:"Your assistant is talking to users",content:"Now let\u2019s use those conversations to improve your assistant\u2019s NLU classification.",showBadge:!0,action:function(){r("/nlu-inbox"),t({name:"annotate_data",title:"Improve your assistant with data from real conversations",content:"The NLU Inbox collects messages your assistant has received that are not in your training data. Ensure that the intent and any entities are correctly labelled and then add them to your training data.",showDarkBackground:!1,showBadge:!0,links:[{title:"Learn more about annotating NLU examples",href:"//rasa.com/docs/rasa-x/user-guide/annotate-nlu-examples/"}]})}},{name:"ivc_changes_pushed",title:"You\u2019ve added improvements to your training data",content:"Now it\u2019s time to push your updates to Git",showBadge:!0,action:function(){e("push_changes")}},{name:"onboarding_end",icon:"\ud83c\udf89",title:"Nice work! Now you can continue building and improving your assistant.",content:"You\u2019ll see the most benefit when you repeat these steps: a continuous loop of improvement, based on conversation with real users. Next you may want to learn more about:",onClose:function(){a("Prompt Clicked",{prompt:"Onboarding Complete",action:"Dismiss"})},customActions:[{content:"Okay",action:function(){n(!1),a("Prompt Clicked",{prompt:"Onboarding Complete",action:"Dismiss"}),o("onboarding_end")}}],links:[{title:"CI/CD for your assistant",href:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#set-up-initial-cicd",action:function(){a("Prompt Clicked",{prompt:"Onboarding Complete",action:"CI/CD Link",link:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#set-up-initial-cicd"})}},{title:"Adding a custom action server",href:"//rasa.com/docs/rasa/user-guide/how-to-deploy/#using-your-custom-action-server-image",action:function(){a("Prompt Clicked",{prompt:"Onboarding Complete",action:"Action Server Link",link:"//rasa.com/docs/rasa/user-guide/how-to-deploy/#using-your-custom-action-server-image"})}},{title:"Connecting to a messaging channel",href:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#connect-external-channels",action:function(){a("Prompt Clicked",{prompt:"Onboarding Complete",action:"Message Channel Link",link:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#connect-external-channels"})}}],showBadge:!1}]},_e=function(){return(_e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},De=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function Re(e){var t=e.sx,n=De(e,["sx"]);return Object(s.jsx)(O.g,_e({as:"span"},n,{sx:_e({display:"flex",justifyContent:"center",alignItems:"center",width:"16px",height:"16px",borderRadius:"8px",fontSize:"11px",lineHeight:"normal",textAlign:"center",bg:"primary_1",color:"neutral_0"},t||{})}),void 0)}var Fe=n(3);function Ie(e){var t=e.currentUser,n=We(),r=n.onboardingShown,a=n.currentDetachedStep,o=n.setOnboardingShown,c=n.nextSteps;if(t&&(null!=a||c.length>0)){var i=a||c[0];return Object(s.jsxs)(Fe.Flex,{as:"div",p:0,m:0,sx:{position:"fixed",right:5,bottom:5,zIndex:130},children:[Object(s.jsx)(_.a,{variant:"onboardingIcon","data-qa":"onboarding-button_btn",onClick:function(){o((function(e){return!e}))},children:i.icon||"?"}),Object(s.jsx)(Re,{sx:{position:"absolute",right:"-4px",top:"2px",width:"16px",height:"16px",border:"2px solid",borderColor:"neutral_0",transition:"transform 0.2s cubic-bezier(0.51, 0.92, 0.24, 1.15)",transform:"scale(".concat(i.showBadge&&!r?1:0,")")}})]})}return null}var Le=n(25),Ne=n(104);function Ue(e){var t=e.link;return Object(s.jsx)(x.a,{variant:"bodySecondary",fontWeight:400,as:"a",target:"_blank",href:t.href,color:"neutral_0",onClick:function(){var e;null===(e=t.action)||void 0===e||e.call(t)},children:t.title})}var Be=Object(l.default)(Oe.BaseModalBackground).attrs((function(){return{"data-e2e":"ModalBackground"}})).withConfig({displayName:"OnboardingStep__StyledDimmable",componentId:"mj904u-0"})(["z-index:110;opacity:1;transition:all cubic-bezier(0.46,0.1,0.52,0.98) 250ms;"]);function Me(e){var t=e.setActiveStepInstance,n=Object(Le.a)(e,["setActiveStepInstance"]),r=We(),a=r.currentDetachedStep,o=r.currentOnboardingHint,c=r.nextSteps,i=r.onboardingShown,l=r.setCurrentDetachedStep,u=r.setOnboardingShown,d=a||c[0];return d?Object(s.jsxs)(Fe.Flex,{flexDirection:"column-reverse","data-qa":"onboarding-step-box_div",as:"div",p:0,mr:32,mb:92,sx:{position:"fixed",right:0,bottom:0,zIndex:99991},children:[i&&d.showDarkBackground&&!o&&Object(s.jsx)(Be,{}),Object(s.jsx)(Ne.a,Object(Ce.a)({borderRadius:"large",animation:"shift-away",boxShadow:"8px 9px 21px 0 rgba(0, 0, 0, 0.25)",bg:"primary_2",arrow:!1,p:4,offset:[-40,-20],mx:0,onCreate:function(e){return t(e)},textAlign:"left",heading:Object(s.jsx)(R.a,{flex:1,variant:"h2",inheritColor:!0,mb:"12px","data-qa":"onboarding-step-title_h2",children:d.title}),visible:!o&&i&&(null!=a||c.length>0),sticky:!0,disabled:!1,interactive:!0,placement:"bottom-end",onCloseClick:function(){var e;u(!1),l(null),null===(e=d.onClose)||void 0===e||e.call(d)},content:Object(s.jsxs)(Fe.Box,{sx:{width:"352px"},children:[Object(s.jsxs)(Fe.Box,{sx:{width:"320px"},children:[Object(s.jsx)(x.a,{color:"neutral_0",as:"div",variant:"bodySecondary","data-qa":"onboarding-step-content_div",children:d.content}),d.links&&Object(s.jsx)(Fe.Flex,{flexDirection:"column",mt:2,"data-qa":"onboarding-step-link_div",children:d.links.map((function(e,t){return Object(s.jsx)(Ue,{link:e},d.name+"_"+e.title)}))})]}),(d.action||d.customActions)&&Object(s.jsx)(Fe.Flex,{mt:4,children:Object(s.jsxs)(Fe.Flex,{sx:{marginLeft:"auto"},children:[d.action&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(_.a,{ml:3,variant:"plain","data-qa":"onboarding-step-dismiss_btn",onClick:function(){var e;u(!1),l(null),null===(e=d.onClose)||void 0===e||e.call(d)},children:"Not right now"}),Object(s.jsx)(_.a,{ml:3,variant:"inverse","data-qa":"onboarding-step-proceed_btn",onClick:function(){var e;null===(e=d.action)||void 0===e||e.call(d)},children:"Let's do it"})]}),d.customActions&&d.customActions.map((function(e){var t=e.variant,n=e.content,r=e.action;return Object(s.jsx)(_.a,{ml:3,variant:t||"inverse",onClick:r,children:n},n)}))]})})]})},n))]}):null}var Pe=n(50),He=function(){var e=Object(pe.c)(),t=Object(pe.d)((function(e){return e.users.currentUser}));return o.a.useCallback((function(n){var r;if(t){var a=(null===(r=t.data)||void 0===r?void 0:r.viewed_hints)?t.data.viewed_hints:[];if(!a.includes(n)){var o=Object(Ce.a)(Object(Ce.a)({},t),{},{data:{viewed_hints:[].concat(Object(ye.a)(a),[n])}});return e(Pe.h.request(o))}}}),[e,t])},qe=o.a.createContext({});function Ge(e){var t=Object(pe.d)((function(e){return e.users.currentUser})),n=Object(we.b)(),r=Object(we.c)(),a=o.a.useMemo((function(){var e;return null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.viewed_hints}),[t]),c=o.a.useState(null),i=Object(Se.a)(c,2),l=i[0],u=i[1],d=o.a.useState(!1),b=Object(Se.a)(d,2),f=b[0],p=b[1],h=o.a.useState(null),j=Object(Se.a)(h,2),O=j[0],x=j[1],v=o.a.useState(null),g=Object(Se.a)(v,2),m=g[0],y=g[1],C=o.a.useState(null),S=Object(Se.a)(C,2),w=S[0],E=S[1],k=He(),T=Object(he.g)().push,A=Object(we.k)(),_=o.a.useMemo((function(){return Ae(x,y,p,T,A,k)}),[x,y,T,A,k]),D=o.a.useMemo((function(){if(!a)return _;return _.filter((function(e){return!a.includes(e.name)}))}),[_,a]);return o.a.useEffect((function(){D.length>0&&(E(D[0].name),y(null),p(!0))}),[D]),Object(s.jsxs)(qe.Provider,{value:{activeStepInstance:l,currentDetachedStep:m,currentOnboardingHint:O,currentOnboardingStep:w,nextSteps:D,onboardingShown:f,onboardingSteps:_,setCurrentDetachedStep:y,setCurrentOnboardingHint:x,setCurrentOnboardingStep:E,setOnboardingShown:p},children:[e.children,!!t&&!n&&r&&Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(Me,{setActiveStepInstance:u,children:Object(s.jsx)(Ie,{currentUser:t})})})]})}var We=function(){return o.a.useContext(qe)},Ve=n(2052),Ye=n(2063),ze=n(322),Ke=n.n(ze),Qe=n(22),Xe=Object(l.default)(Fe.Flex).attrs((function(e){switch(e.variant){case"primary":return Object(Ce.a)({bg:"primary_2",color:"neutral_0"},e);case"error":return Object(Ce.a)({bg:"secondary_2",color:"neutral_0"},e)}})).withConfig({displayName:"Toast__Container",componentId:"q5tpyn-0"})([""," "," "," "," box-shadow:-3px 5px 20px 0 rgba(43,58,172,0.22);width:400px;text-align:left;transition:all ease 0.5s;"],Qe.maxWidth,Qe.letterSpacing,Qe.lineHeight,Qe.borderRadius);function Je(e){var t=e.actions,n=e.head,r=e.children,o=(e.ref,e.onUnmount),c=e.icon,i=e.timeout,l=void 0===i?5e3:i,u=Object(Le.a)(e,["actions","head","children","ref","onUnmount","icon","timeout"]);a.useEffect((function(){if(-1!==l){var e=setTimeout((function(){null===o||void 0===o||o()}),l);return function(){clearInterval(e)}}}),[o,l]);var d=Object(s.jsx)(s.Fragment,{children:n&&(c?Object(s.jsxs)(Fe.Flex,{flexDirection:"row",alignItems:"center",children:[c,Object(s.jsx)(R.a,{variant:"h2",inheritColor:!0,children:n})]}):Object(s.jsx)(R.a,{variant:"h2",inheritColor:!0,children:n}))}),b=r&&Object(s.jsx)(x.a,{inheritColor:!0,variant:"bodySecondary",children:r});return Object(s.jsxs)(Xe,Object(Ce.a)(Object(Ce.a)({},u),{},{children:[Object(s.jsxs)(Fe.Flex,{justifyContent:"space-between",mb:r?"12px":0,children:[n?d:b,o&&Object(s.jsx)(_.a,{onClick:o,variant:"plainIconDark",p:0,pt:"2px",alignSelf:"flex-start",color:"inherit",children:Object(s.jsx)(F.a,{icon:A.faTimes,fontSize:"16px"})})]}),n&&b,t&&Object(s.jsx)(Fe.Flex,{flexDirection:"row-reverse",mt:4,children:t})]}))}Xe.defaultProps={variant:"primary",m:4,mt:-2,px:5,py:4,fontSize:2,letterSpacing:0,lineHeight:"normal",borderRadius:"16px",flexDirection:"column"};var Ze=n(2058);function $e(){var e=Object(ve.a)(["\n  from {\n    transform: translate3d(0, 0, 0);\n  }\n\n  to {\n    visibility: hidden;\n    transform: translate3d(-100%, 0, 0);\n  }\n"]);return $e=function(){return e},e}function et(){var e=Object(ve.a)(["\n  from {\n    transform: translate3d(-100%, 0, 0);\n    visibility: visible;\n  }\n\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n"]);return et=function(){return e},e}function tt(){var e=Object(ve.a)(["\n  from {\n    transform: translate3d(0, 0, 0);\n  }\n\n  to {\n    visibility: hidden;\n    transform: translate3d(100%, 0, 0);\n  }\n"]);return tt=function(){return e},e}function nt(){var e=Object(ve.a)(["\n  from {\n    transform: translate3d(100%, 0, 0);\n    visibility: visible;\n  }\n\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n"]);return nt=function(){return e},e}var rt=Object(l.keyframes)(nt()),at=Object(l.keyframes)(tt()),ot=(Object(l.keyframes)(et()),Object(l.keyframes)($e()),Object(l.default)(Ze.a).attrs({classNames:"slide-right"}).withConfig({displayName:"Transition__SlideRight",componentId:"sc-1f1b9kx-0"})(["&.slide-right-enter{animation:"," ","ms linear both;}&.slide-right-exit{animation:"," ","ms linear both;}"],rt,(function(e){return e.duration}),at,(function(e){return e.duration}))),ct=o.a.createContext({});function it(e){var t=o.a.useState({right:0,bottom:0}),n=Object(Se.a)(t,2),r=n[0],a=n[1],c=We().activeStepInstance,i=o.a.useState([]),l=Object(Se.a)(i,2),u=l[0],d=l[1],b=o.a.useCallback((function(e){d((function(t){return[].concat(Object(ye.a)(t),[Object(Ce.a)(Object(Ce.a)({},e),{},{key:e.key||Ke()()})])}))}),[]),f=o.a.useCallback((function(e){d((function(t){return t.filter((function(t){return t.key!==e}))}))}),[]),p=o.a.useCallback((function(e){return e.forEach((function(e){var t=e.target.getBoundingClientRect();a(t.height>0?{right:"48px",bottom:"".concat(window.innerHeight-t.top,"px"),marginBottom:"-8px"}:{right:0,bottom:0})}))}),[a]);return Object(Ve.a)(p,(null===c||void 0===c?void 0:c.popper)||null),Object(s.jsxs)(ct.Provider,{value:{toasts:u,addToast:b,removeToast:f},children:[e.children,Object(s.jsx)(Fe.Flex,{flexDirection:"column-reverse",as:"ul",p:0,sx:Object(Ce.a)({position:"fixed",zIndex:99992},r),children:Object(s.jsx)(Ye.a,{component:null,children:u.map((function(e){var t=e.content,n=e.key,r=e.onUnmount,a=Object(Le.a)(e,["content","key","onUnmount"]);return Object(s.jsx)(ot,{timeout:500,duration:200,children:Object(s.jsx)(Je,Object(Ce.a)(Object(Ce.a)({as:"li",onUnmount:function(){n&&f(n),r&&r()}},a),{},{children:t}),n)},n)}))})})]})}var st=function(){return o.a.useContext(ct)},lt=n(154),ut=n(128);function dt(e){var t=e.children,n=Object(pe.c)(),o=a.useMemo((function(){return Object(r.Sb)(ut.a)}),[]);return a.useEffect((function(){return n(Object(lt.connect)(o)),function(){n(Object(lt.disconnect)())}}),[n,o]),Object(s.jsx)(s.Fragment,{children:t})}var bt=n(514);function ft(e){var t=e.children,n=e.delay,r=void 0===n?200:n,o=Object(Le.a)(e,["children","delay"]),c=a.useState(!0),i=Object(Se.a)(c,2),l=i[0],u=i[1];return a.useEffect((function(){setTimeout((function(){return u(!1)}),r)}),[r]),l?null:Object(s.jsxs)(Fe.Flex,Object(Ce.a)(Object(Ce.a)({justifyContent:"center",alignItems:"center",flexDirection:"column",color:"neutral_6",style:{textAlign:"center",height:"100%",width:"100%"}},o),{},{children:[Object(s.jsx)(F.a,{icon:bt.faCircleNotch,spin:!0,mb:2,fontSize:5}),Object(s.jsx)(x.a,{variant:"bodySecondary",inheritColor:!0,children:t})]}))}var pt=n(2031),ht=n(2024),jt=function(){return(jt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ot=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function xt(e){var t=e.block,n=e.variant,r=void 0===n?"primary":n,a=e.fullBleed,o=void 0!==a&&a,c=Ot(e,["block","variant","fullBleed"]);return Object(s.jsx)(O.d,jt({sx:{m:o?0:3,px:3,py:"12px",fontSize:2,letterSpacing:0,lineHeight:"normal",borderRadius:t?0:"normal"}},c,{variant:"alert."+r}),void 0)}var vt=function(){return(vt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},gt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function mt(e){e.ref;var t=e.src,n=e.placeholder,r=gt(e,["ref","src","placeholder"]),o=a.useState(!1),c=o[0],i=o[1];return a.useEffect((function(){var e,n=new Image;t&&(e=[t,function(){return i(!0)},function(){return i(!1)}],n.src=e[0],n.onerror=e[1],n.onload=e[2])}),[t]),Object(s.jsx)(s.Fragment,{children:c&&n?n:Object(s.jsx)(O.f,vt({src:t},r),void 0)},void 0)}var yt=n(509),Ct=n.n(yt),St=n(192),wt=n(28),Et=n(12),kt=n.p+"static/media/rasa_horizontal_logo_white.1b703445.svg";function Tt(e){var t=e.match,n=e.location,r=Object(he.g)().push,o=Object(pe.c)(),c=Object(pe.d)((function(e){return Ct()(e.auth,"error","username","newEnterpriseUser","enterpriseUser","role","permissions","enterprise")})),i=c.error,u=c.username,d=c.newEnterpriseUser,b=c.enterpriseUser,f=c.role,p=c.permissions,h=Object(we.b)();a.useEffect((function(){o(St.a.request({skipExternal:!0}))}),[o]);var j=t.params.singleUseToken,O=a.useState(h?"":"me"),v=Object(Se.a)(O,2),g=v[0],m=v[1],y=a.useState(""),C=Object(Se.a)(y,2),S=C[0],w=C[1];a.useEffect((function(){var e=new URLSearchParams(n.search),t=e.get("username"),r=e.get("password");t&&m(t),r&&w(r),t&&r&&o(wt.g.request({username:t,password:r}))}),[o,n.search]);var E=a.useContext(l.ThemeContext);a.useEffect((function(){j&&o(wt.c.request({singleUseToken:j}))}),[j,o]);var k=Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(R.a,{fontSize:5,variant:"h3",mb:2,letterSpacing:2,color:"neutral_8",children:"Welcome !"}),Object(s.jsx)(x.a,{variant:"bodySecondary",mb:3,sx:{display:"block"},children:"Sign in to continue perfecting your bot!"}),Object(s.jsx)(Fe.Box,{children:Object(s.jsx)(pt.a,{fullWidth:!0,type:h?"text":"hidden",name:"username","data-qa":"login-username-field_input",placeholder:"Username",onChangeValue:function(e){return m(e)},value:g,mb:2,px:4,onReturn:function(){return o(wt.g.request({username:g,password:S}))},py:"13px"})}),Object(s.jsx)(Fe.Box,{children:Object(s.jsx)(pt.a,{fullWidth:!0,placeholder:"Password",name:"password","data-qa":"login-password-field_input",type:"password",onChangeValue:function(e){return w(e)},value:S,mb:3,onReturn:function(){return o(wt.g.request({username:g,password:S}))},px:4,py:"13px"})}),Object(s.jsx)(_.a,{variant:"login","data-qa":"login-sign-in_button",width:"100%",onClick:function(){return o(wt.g.request({username:g,password:S}))},large:!0,children:"Sign in"}),h&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(ht.a,{my:3,children:Object(s.jsx)(x.a,{variant:"bodySecondary",children:"OR"})}),Object(s.jsx)(_.a,{variant:"login",width:"100%",onClick:function(){return o(wt.e.request())},large:!0,children:"I have an enterprise ID"})]})]}),T=Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(R.a,{fontSize:5,variant:"h3",mb:3,letterSpacing:2,color:"neutral_8",children:"It seems like it's your first time!"}),Object(s.jsx)(x.a,{variant:"bodySecondary",mb:2,sx:{display:"block"},children:"Set a new username for yourself"}),Object(s.jsx)(pt.a,{fullWidth:!0,name:"username",placeholder:"Username",onChangeValue:function(e){return m(e)},value:g,mb:3,px:4,onReturn:function(){return o(wt.b.request({username:g}))},py:"13px"})]}),A=Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(x.a,{variant:"bodySecondary",mb:4,sx:{display:"block"},children:["Your current role is ",Object(s.jsxs)("strong",{children:["\u201c",f,"\u201d"]}),". For any further permissions, please contact your Admin."]}),Object(s.jsx)(_.a,{variant:"primary",width:"100%",onClick:function(){return r("/conversations")},large:!0,children:"Go to platform"})]}),D=Object(s.jsx)(x.a,{variant:"bodySecondary",sx:{display:"block"},children:"You have not been assigned permissions. Please contact your Admin to continue."}),F=Object(s.jsx)(_.a,{variant:"login",width:"100%",onClick:function(){return o(wt.b.request({username:g}))},large:!0,children:"CONTINUE"}),I=a.useMemo((function(){return p&&-1!==p.findIndex((function(e){var t=e.resource,n=e.action;return t===Et.d.Metadata&&n===Et.a.Read}))?"/conversations":"/interactive"}),[p]);return Object(s.jsxs)(Fe.Flex,{bg:"neutral_3",alignItems:"center",justifyContent:"center",style:{height:"100%"},children:[i&&i.message&&Object(s.jsx)(Fe.Box,{sx:{position:"absolute",top:0,left:0,width:"100%"},children:Object(s.jsx)(xt,{variant:"error",p:0,m:0,block:!0,py:"14px",children:Object(s.jsx)(x.a,{variant:"bodySecondary",inheritColor:!0,textAlign:"center",width:1,children:i.message})})}),Object(s.jsx)(Fe.Card,{flex:"0 1 1000px",sx:{borderRadius:"large",boxShadow:"0 11px 43px 0 rgba(120, 119, 150, 0.1)",overflow:"hidden",height:"472px"},children:Object(s.jsxs)(Fe.Flex,{style:{height:"100%"},children:[Object(s.jsx)(Fe.Card,{sx:{backgroundImage:Object(Qe.get)(E,"gradients.primary_1")},width:.5,p:11,pt:9,children:Object(s.jsxs)(Fe.Flex,{flexDirection:"column",style:{maxWidth:"300px",height:"100%"},children:[Object(s.jsx)(mt,{width:"77px",src:kt,alt:"Rasa Logo",mb:5}),Object(s.jsx)(Fe.Box,{flex:"1"}),Object(s.jsxs)(R.a,{variant:"h1",sx:{color:"neutral_0",fontSize:30,lineHeight:"large",letterSpacing:3,mb:4},children:["Rasa ",h?"Enterprise":"X"]}),Object(s.jsx)(x.a,{sx:{color:"neutral_0",lineHeight:"big"},children:"Build, improve, and deploy assistants powered by Rasa Open Source."})]})}),Object(s.jsx)(Fe.Flex,{bg:"neutral_0",width:.5,px:11,py:9,justifyContent:"center",flexDirection:"column",children:!j&&f&&f.length>0&&f[0]!==Et.c?Object(s.jsx)(he.b,{to:I}):(b||d)&&j?Object(s.jsxs)(s.Fragment,{children:[d&&T,u?Object(s.jsx)(s.Fragment,{children:f&&f.length>0&&f[0]!==Et.c?b?Object(s.jsx)(he.b,{to:I}):A:D}):F]}):k})]})})]})}var At=n(2064),_t=n(135),Dt=n(243),Rt=n(242),Ft=n(332),It=function(){return(It=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};var Lt=a.memo((function(e){var t=e.buttons,n=e.count,r=e.filterTablets,o=e.query,c=e.label,i=e.loading,l=e.onChange,u=e.onFocus,d=e.onBlur,b=e.onReturn,f=e.children,p=a.useMemo((function(){return c(n)}),[c,n]),h=a.useCallback((function(e){return l(e.target.value)}),[l]),j=a.useCallback((function(){return null===u||void 0===u?void 0:u()}),[u]),x=a.useCallback((function(){return null===d||void 0===d?void 0:d()}),[d]),v=a.useCallback((function(e){return null===b||void 0===b?void 0:b(e)}),[b]);return Object(s.jsxs)(O.d,It({alignItems:"center",justifyContent:"space-between",sx:{width:"100%",height:"56px",borderTopLeftRadius:"large",borderTopRightRadius:"large",borderStyle:"solid",borderWidth:"1px",borderColor:"transparent",borderBottomColor:"neutral_2",backgroundColor:"neutral_0",overflow:"hidden","&:focus-within":{borderColor:"primary_2"}}},{children:[r,Object(s.jsxs)(O.d,It({alignItems:"center",justifyContent:"space-between",width:"100%",height:"100%",sx:{paddingLeft:"24px"}},{children:[Object(s.jsx)(F.a,{icon:i?Ft.faSpinnerThird:Rt.faSearch,spin:i,color:"neutral_6"},void 0),!f&&Object(s.jsx)(pt.a,{fullWidth:!0,fullHeight:!0,variant:"search",placeholder:p,width:"100%",value:o,onChange:h,onFocus:j,onBlur:x,onReturn:v},void 0),f]}),void 0),t&&t.map((function(e,t){return Object(s.jsx)(D.a,It({p:0,sx:{borderColor:"neutral_4",borderLeftStyle:"solid",borderLeftWidth:"1px",minWidth:"auto"}},{children:e}),t)}))]}),void 0)})),Nt=n(97),Ut=n.n(Nt),Bt=n(19),Mt=n(98),Pt=n(27),Ht=n(105),qt=n(137),Gt=function(e){return Array.from(new Set(e))},Wt=Object(Ht.a)((function(e){return e.suggestions}),(function(e){var t=e.flatMap((function(e){return e.user_input.entities.map((function(e){return e.role}))})).filter(qt.a);return Gt(t)})),Vt=Object(Ht.a)((function(e){return e.suggestions}),(function(e){var t=e.flatMap((function(e){return e.user_input.entities.map((function(e){return e.group}))})).filter(qt.a);return Gt(t)})),Yt=Object(Ht.a)((function(e){return e.suggestions}),(function(e){var t=e.flatMap((function(e){return e.user_input.entities.map((function(e){return e.entity}))})).filter(qt.a);return Gt(t)})),zt=n(47),Kt="You've got unsaved changes.\xa0Are you sure you want to leave the page?",Qt=function(e){var t=e.hasChanges,n=Object(he.g)(),r=Object(he.h)();Object(a.useEffect)((function(){var e=n.block((function(n){var a=n.pathname===r.pathname;if(t&&!a)return Kt;e()}));return function(){return e()}}),[n,r,t]),Object(a.useEffect)((function(){function e(e){t&&(e.preventDefault(),e.returnValue=Kt)}return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),[t])},Xt=n(2054),Jt=n(324),Zt=n(493),$t={lineHeight:"inherit",marginLeft:"12px",maxWidth:"calc(100% - 48px)",overflowWrap:"break-word"};function en(e){var t=e.text,n=e.query,r=e.icon;if(""===n)return Object(s.jsxs)(s.Fragment,{children:[r&&r(t),Object(s.jsx)(x.a,{variant:"bodySecondary",sx:$t,children:t})]});var o=t.split(n);return Object(s.jsxs)(s.Fragment,{children:[r&&r(t),Object(s.jsxs)(x.a,{variant:"bodySecondary",sx:$t,children:[" ",o.map((function(e,t){return t===o.length-1?Object(s.jsx)(a.Fragment,{children:e},t):Object(s.jsxs)(a.Fragment,{children:[e,Object(s.jsx)("strong",{children:n})]},t)}))," "]})]})}function tn(e){var t=e.items,n=e.icon,r=e.selected,o=e.searchBoxPlaceholder,c=e.emptyListPlaceholder,i=e.noResultsPlaceholder,l=e.onChange,u=a.useState(""),d=Object(Se.a)(u,2),b=d[0],f=d[1],p=a.useMemo((function(){var e=new RegExp((b||"").replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"i");return t.filter((function(t){return t.match(e)}))}),[t,b]);return Object(s.jsx)(Zt.a,{name:"Intents",items:p,checkedItems:r,onChange:function(e){return l(e)},placeholder:Object(s.jsxs)(Fe.Flex,{color:"neutral_6",justifyContent:"center",alignItems:"center",flexDirection:"column",style:{height:"100%"},children:[Object(s.jsx)(F.a,{icon:Jt.faExclamationCircle,mb:2,mt:-52,fontSize:4}),Object(s.jsx)(x.a,{variant:"bodySecondary",inheritColor:!0,px:"25%",textAlign:"center",children:0===t.length?c:i})]}),header:function(){return Object(s.jsx)(pt.a,{active:!0,disabled:0===t.length,fullWidth:!0,onChangeValue:f,placeholder:o,value:b,variant:"search"})},item:function(e){var t=e.item;return Object(s.jsx)(en,{text:t,query:b,icon:n})},stickyHeader:!0})}function nn(e){var t=e.filter,n=e.onChange,r=Object(pe.d)((function(e){return e.messages.actions}));return Object(s.jsx)(tn,{items:r,selected:t.actions,onChange:function(e){return n(Object(Ce.a)(Object(Ce.a)({},t),{},{actions:e}))},searchBoxPlaceholder:"Search actions...",emptyListPlaceholder:"There are no actions to filter by.",noResultsPlaceholder:"There are no actions matching your search."})}nn.title="Actions",nn.count=function(e){return e.actions.length};var rn=n(101);function an(e){var t=e.filter,n=e.onChange,r=Object(pe.d)((function(e){return e.messages.channels})),o=function(e){return rn.a[e]||e},c=a.useMemo((function(){return r.map(o)}),[r]),i=a.useMemo((function(){return t.channels.map(o)}),[t]),l=a.useCallback((function(e){var t=c.indexOf(e);return-1===t?e:r[t]}),[c,r]);return Object(s.jsx)(tn,{items:c,selected:i,onChange:function(e){return n(Object(Ce.a)(Object(Ce.a)({},t),{},{channels:e.map(l)}))},searchBoxPlaceholder:"Search channels...",emptyListPlaceholder:"There are no channels to filter by.",noResultsPlaceholder:"There are no channels matching your search."})}an.title="Channels",an.count=function(e){return e.channels.length};var on=n(2025),cn=n(2026);function sn(e){var t=e.disabled,n=e.value,r=e.onChange,o=a.useMemo((function(){return[{label:"At most",value:"max"},{label:"At least",value:"min"}]}),[]),c=a.useMemo((function(){return"min"===n.operator?o[1]:o[0]}),[n,o]),i=n.value,l=a.useCallback((function(e){r({operator:e.value,value:i})}),[i,r]),u=a.useCallback((function(e){var t=e.target.value;r({operator:c.value,value:t})}),[c.value,r]);return Object(s.jsxs)(Fe.Flex,{width:"100%",justifyContent:"space-between",mt:2,pl:"28px",children:[Object(s.jsx)(cn.a,{value:c,disabled:t,items:o,onChange:l}),Object(s.jsx)(pt.a,{min:0,max:1,step:.01,type:"number",disabled:t,noValidate:!0,width:"146px",value:i,onChange:u,px:2,ml:2})]})}var ln={operator:"max",value:.5};function un(e){var t=e.filter,n=e.onChange,r=a.useMemo((function(){return{fontWeight:"bold"}}),[]),o=t.nluConfidence,c=t.coreConfidence,i=Object(we.o)(null!==o),l=Object(Se.a)(i,2),u=l[0],d=l[1],b=Object(we.o)(null!==c),f=Object(Se.a)(b,2),p=f[0],h=f[1],j=a.useCallback((function(e){return n(Object(Ce.a)(Object(Ce.a)({},t),{},{nluConfidence:e}))}),[t,n]),O=a.useCallback((function(e){return n(Object(Ce.a)(Object(Ce.a)({},t),{},{coreConfidence:e}))}),[t,n]);return a.useEffect((function(){!o&&u&&j(ln)}),[o,u,j]),a.useEffect((function(){!c&&p&&O(ln)}),[c,p,O]),Object(s.jsxs)("div",{children:[Object(s.jsx)(xt,{variant:"alertThatUsesColoursThatArentInTheStyleguide",m:0,py:"12px",mb:4,children:Object(s.jsx)(x.a,{as:"i",variant:"bodySecondary",lineHeight:"1.54",inheritColor:!0,children:"Use this filter to view conversations that include predictions with specific confidences."})}),Object(s.jsxs)(Fe.Flex,{as:"label",mt:2,children:[Object(s.jsx)(on.a,{onChange:d,checked:u}),Object(s.jsx)(x.a,{ml:"12px",variant:"bodySecondary",lineHeight:"inherit",sx:r,children:"Intent Confidence"})]}),Object(s.jsx)(sn,{disabled:!u,onChange:j,value:o||ln}),Object(s.jsxs)(Fe.Flex,{as:"label",mt:4,alignItems:"flex-start",children:[Object(s.jsx)(on.a,{onChange:h,checked:p}),Object(s.jsx)(x.a,{ml:"12px",variant:"bodySecondary",lineHeight:"inherit",sx:r,children:"Action Confidence"})]}),Object(s.jsx)(sn,{disabled:!p,onChange:O,value:c||ln})]})}un.title="Confidence",un.count=function(e){return 0+(e.nluConfidence?1:0)+(e.coreConfidence?1:0)};var dn=n(326),bn=n(44),fn=n.n(bn),pn=n(59);function hn(e){var t=e.filter,n=e.onChange,r=e.onValidation,o=Object(Mt.g)(t.date),c=a.useState("Custom"===o.label&&t.date.from?Object(Mt.c)(fn()(t.date.from,"YYYY-MM-DD")):""),i=Object(Se.a)(c,2),l=i[0],u=i[1],d=a.useState("Custom"===o.label&&t.date.to?Object(Mt.c)(fn()(t.date.to,"YYYY-MM-DD")):""),b=Object(Se.a)(d,2),f=b[0],p=b[1],h=function(e){return Object(Mt.b)(fn()(e,["DD/MM/YYYY","D/M/YYYY"],!0))},j=function(e){return fn()(e,["DD/MM/YYYY","D/M/YYYY"],!0).isValid()},O=a.useMemo((function(){return j(l)}),[l]),v=a.useMemo((function(){return 0===f.length||j(f)&&(!O||fn()(h(l)).isBefore(h(f),"day"))}),[l,O,f]);return a.useEffect((function(){O&&v||"Custom"!==o.label?r(!1):r(!0)}),[o.label,O,v,r]),Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(Fe.Flex,{flexDirection:"column",children:[Mt.e.map((function(e){return Object(s.jsxs)(Fe.Flex,{as:"label",alignItems:"center",mb:4,sx:{color:"neutral_8"},children:[Object(s.jsx)(on.a,{variant:"radio",checked:e.label===o.label,onChange:function(){return n(Object(Ce.a)(Object(Ce.a)({},t),{},{date:{from:e.from,to:e.to||null}}))}}),Object(s.jsx)(x.a,{ml:3,variant:"bodySecondary",inheritColor:!0,children:e.label})]},e.label)})),Object(s.jsx)(Fe.Flex,{as:"label",alignItems:"center",mb:4,sx:{color:"neutral_8"},children:Object(s.jsx)(pn.a,{text:"Custom",pt:3,sx:{borderTop:"1px solid;",borderColor:"neutral_1"},children:Object(s.jsxs)(Fe.Flex,{alignItems:"center",children:[Object(s.jsx)(on.a,{variant:"radio",checked:"Custom"===o.label,onChange:function(){var e={from:h(l),to:h(f)||null};n(Object(Ce.a)(Object(Ce.a)({},t),{},{date:e}))}}),Object(s.jsx)(pt.a,{ml:4,width:"140px",invalid:!O&&"Custom"===o.label,placeholder:"dd/mm/yyyy",value:l,onChangeValue:function(e){u(e),n(Object(Ce.a)(Object(Ce.a)({},t),{},{date:{from:h(e),to:t.date.to}}))},maxLength:10}),Object(s.jsx)(F.a,{icon:dn.faMinus,ml:2,mr:2,style:{width:"4px",color:"neutral_8"}}),Object(s.jsx)(pt.a,{width:"140px",invalid:!v&&"Custom"===o.label,placeholder:"dd/mm/yyyy",value:f,onChangeValue:function(e){p(e),n(Object(Ce.a)(Object(Ce.a)({},t),{},{date:{from:t.date.from,to:e.length>0?h(e):null}}))},maxLength:10})]})})},"custom")]})})}function jn(e){var t=e.filter,n=e.onChange,r=Object(pe.d)((function(e){return e.examples.entityTypes}));return Object(s.jsx)(tn,{items:r,selected:t.entities,onChange:function(e){return n(Object(Ce.a)(Object(Ce.a)({},t),{},{entities:e}))},searchBoxPlaceholder:"Search entities...",emptyListPlaceholder:"There are no entities to filter by.",noResultsPlaceholder:"There are no entities matching your search."})}function On(e){var t=e.selected,n=e.count,r=e.children,a=e.onClick;return Object(s.jsxs)(Fe.Flex,{pl:4,pr:2,sx:{backgroundColor:t?"neutral_1":"neutral_0","&:hover":{backgroundColor:"neutral_1"},height:"40px",width:"100%",alignItems:"center",justifyContent:"space-between",cursor:"pointer",userSelect:"none"},onClick:a,children:[Object(s.jsx)(x.a,{variant:"bodySecondary",sx:{flexGrow:1},children:r}),0!==n&&Object(s.jsx)(Fe.Flex,{sx:{borderRadius:"4px",backgroundColor:t?"neutral_0":"neutral_1",minWidth:"20px",height:"20px",alignItems:"center",justifyContent:"center"},children:Object(s.jsx)(x.a,{variant:"captionSecondary",children:n})}),Object(s.jsx)(Fe.Box,{ml:2,sx:{backgroundColor:"primary_2",height:"100%",width:"4px",marginRight:"-8px",borderRadius:"2px",visibility:t?"normal":"hidden"}})]})}function xn(e){var t=e.filter,n=e.onChange,r=Object(pe.d)((function(e){return e.messages.intents})),a=Object(pe.d)((function(e){return e.examples.intents})),o="Conversation"===t.type?r:a;return Object(s.jsx)(tn,{items:o,selected:t.intents,onChange:function(e){return n(Object(Ce.a)(Object(Ce.a)({},t),{},{intents:e}))},searchBoxPlaceholder:"Search intents...",emptyListPlaceholder:"There are no intents to filter by.",noResultsPlaceholder:"There are no intents matching your search."})}hn.title="Date",hn.count=function(e){return e.date.from?1:0},jn.title="Entities",jn.count=function(e){return e.entities.length},xn.title="Intents",xn.count=function(e){return e.intents.length};var vn={fontWeight:"bold"};function gn(e){var t=e.filter,n=e.onChange,r=t.flaggedOnly,o=a.useCallback((function(){var e=!r;n(Object(Ce.a)(Object(Ce.a)({},t),{},{flaggedOnly:e}))}),[t,n,r]),c=t.storiesNotRecognised,i=a.useCallback((function(){var e=!c;n(Object(Ce.a)(Object(Ce.a)({},t),{},{storiesNotRecognised:e}))}),[t,n,c]),l=a.useState(t.minimumMessages||10),u=Object(Se.a)(l,2),d=u[0],b=u[1],f=null!==t.minimumMessages,p=a.useCallback((function(e){var r=e||0;f&&n(Object(Ce.a)(Object(Ce.a)({},t),{},{minimumMessages:r})),b(r)}),[t,n,f]),h=a.useCallback((function(){var e=null===t.minimumMessages?d:null;n(Object(Ce.a)(Object(Ce.a)({},t),{},{minimumMessages:e}))}),[t,n,d]);return Object(s.jsxs)("div",{children:[Object(s.jsxs)(Fe.Flex,{as:"label",my:2,alignItems:"center",mb:4,children:[Object(s.jsx)(on.a,{onChange:o,checked:r}),Object(s.jsx)(x.a,{ml:"12px",variant:"bodySecondary",lineHeight:"inherit",sx:vn,children:"Includes flagged messages"})]}),Object(s.jsxs)(Fe.Flex,{as:"label",my:2,alignItems:"center",mb:4,children:[Object(s.jsx)(on.a,{onChange:i,checked:c}),Object(s.jsx)(x.a,{ml:"12px",variant:"bodySecondary",lineHeight:"inherit",sx:vn,children:"Stories not included in training data"})]}),Object(s.jsxs)(Fe.Flex,{as:"label",my:2,alignItems:"flex-start",mb:4,children:[Object(s.jsx)(on.a,{onChange:h,checked:f}),Object(s.jsxs)(Fe.Box,{children:[Object(s.jsx)(x.a,{ml:"12px",variant:"bodySecondary",lineHeight:"inherit",sx:vn,children:"Conversation length (number of user messages)"}),Object(s.jsxs)(Fe.Flex,{justifyContent:"space-between",width:"224px",mt:3,children:[Object(s.jsxs)(x.a,{ml:"12px",mt:2,variant:"bodySecondary",children:["At least"," "]}),Object(s.jsx)(pt.a,{noValidate:!0,min:"0",type:"number",value:d||0,onChangeValue:function(e){return p(""!==e?Number(e):null)},width:"146px",px:2,ml:2,disabled:!f})]})]})]})]})}gn.title="Other",gn.count=function(e){return 0+(e.flaggedOnly?1:0)+(e.storiesNotRecognised?1:0)+(null!==e.minimumMessages?1:0)};var mn=Object(l.default)(Ne.a).withConfig({displayName:"Popup__Tooltip",componentId:"sc-1jg9gyz-0"})([""," "," max-width:max-content !important;box-shadow:0 2px 8px 0 rgba(116,118,123,0.31) !important;"],Qe.border,Qe.color);function yn(e){e.actions;var t=e.title,n=e.children,r=e.content,a=e.onClickOutside,o=e.popupWidth,c=e.hideCloseIcon,i=Object(Le.a)(e,["actions","title","children","content","onClickOutside","popupWidth","hideCloseIcon"]);return Object(s.jsx)(mn,Object(Ce.a)(Object(Ce.a)({content:Object(s.jsxs)(Fe.Box,{width:o,children:[t&&Object(s.jsx)(Fe.Card,{p:4,sx:{borderBottom:"1px solid",borderColor:"neutral_2"},children:Object(s.jsxs)(Fe.Flex,{justifyContent:"space-between",alignItems:"center",children:[t,!c&&Object(s.jsx)(Fe.Box,{onClick:function(){return i.onClose()},style:{cursor:"pointer"},children:Object(s.jsx)(F.a,{icon:A.faTimes,color:"neutral_6",fontSize:"24px"})})]})}),Object(s.jsx)(Fe.Box,{children:r})]}),onClickOutside:a||i.onClose},i),{},{children:n}))}yn.defaultProps={animation:"shift-away",appendTo:document.body,arrow:!1,bg:"neutral_0",borderRadius:"large",offset:[0,16],interactive:!0,placement:"bottom-end",role:"popup"};var Cn=n(87),Sn=n(2053),wn=n(17);function En(e){var t=e.filter,n=e.onChange,r=Object(pe.d)((function(e){return e.messages.slotNames})),o=Object(pe.d)((function(e){return e.messages.slotValues})),c=a.useState(null),i=Object(Se.a)(c,2),l=i[0],u=i[1],d=a.useState([{slotName:{},slotValues:[]}]),b=Object(Se.a)(d,2),f=b[0],p=b[1],h=a.useMemo((function(){return f.map((function(e){return e.slotName}))}),[f]),j=a.useMemo((function(){return r&&r.map((function(e){return{label:e,value:e}}))}),[r]),O=a.useMemo((function(){return o&&o.map((function(e){return{label:e,value:e}}))}),[o]),v=Object(pe.c)(),g=a.useCallback((function(e){return v(wn.n.request({slot:e,q:""}))}),[v]),m=a.useCallback((function(){var e=f[f.length-1];e.slotName.value&&0!==e.slotName.value.length&&e.slotValues&&0!==e.slotValues.length?u(null):u(e);var t=f.filter((function(e){return e.slotName.value&&e.slotName.value.length>0&&e.slotValues&&e.slotValues.length>0}));return t&&t.map((function(e){return e.slotValues&&e.slotValues.map((function(t){var n=t;return e.slotName.value+":"+n.value})).join(",")}))}),[f]),y=a.useCallback((function(e){var t=e?[].concat(Object(ye.a)(h),[e]):h;return j.filter((function(e){return!t.some((function(t){return e.value===t.value}))}))}),[j,h]);a.useEffect((function(){var e=m();Ut()(t.slots,e)||n(Object(Ce.a)(Object(Ce.a)({},t),{},{slots:e}))}),[n,m,t]);var C=a.useCallback((function(){var e=[],n={},r=0;return t.slots.forEach((function(t,a){var o=t&&t.split(",");o&&o.forEach((function(t){var a=t.split(":"),o=a[0],c=a[1],i={label:c,value:c};if(o in n){var s=n[o];e[s].slotValues.push(i)}else{var l={slotName:{label:o,value:o},slotValues:[i]};e=[].concat(Object(ye.a)(e),[l]);var u={[o]:r};r++,n=Object(Ce.a)(Object(Ce.a)({},n),u)}}))})),e}),[t.slots]);a.useEffect((function(){var e=C();if(!Ut()(t.slots,e)){var n=e.length>0?e:[{slotName:{},slotValues:[]}];l&&n.push(l),p(n)}}),[C,t.slots,l]);var S=a.useCallback((function(e,t,n){var r=!1;p(f.map((function(a){var o=f.indexOf(a);if(o===e&&!r)return r=!0,{slotName:n.slotName,slotValues:t||[]};if(a.slotName.value===n.slotName.value&&!r){if(-1===a.slotValues.findIndex((function(e){return e.value===t[t.length-1].value}))){r=!0;var c=o===e?t:[].concat(Object(ye.a)(a.slotValues),Object(ye.a)(t));return{slotName:n.slotName,slotValues:c}}r=!0}return a})))}),[f]),w=a.useMemo((function(){return f.map((function(e,t){return Object(s.jsxs)("tr",{children:[Object(s.jsx)(Fe.Box,{as:"td",width:.4,sx:{maxWidth:"152px"},pt:2,pr:2,pl:0,children:Object(s.jsx)(cn.a,{fullWidth:!0,placeholder:"Select a slot",value:e.slotName.value?e.slotName:null,disabled:!1,items:y(e.slotName.value?e.slotName:void 0),onChange:function(e){g(e.value),p(f.map((function(n){return f.indexOf(n)===t?{slotName:e,slotValues:n.slotValues}:n})))}})}),Object(s.jsx)(Fe.Box,{as:"td",width:.6,sx:{maxWidth:"224px"},pt:2,pr:2,pl:0,children:Object(s.jsx)(Sn.a,{disabled:!e.slotName.value,placeholder:"Select a value",value:e.slotValues?e.slotValues:[""],items:O,onMenuOpen:function(){return g(e.slotName.value)},onChange:function(n){return S(t,n,e)},fullWidth:!0})}),Object(s.jsx)(Fe.Box,{as:"td",pt:2,sx:{verticalAlign:"middle"},children:t===f.length-1?Object(s.jsx)(_.a,{disabled:0===e.slotValues.length,variant:"plainIcon",fontSize:4,p:0,onClick:function(){return function(e,t){if(e&&t){var n={slotName:{},slotValues:[]};p((function(e){return[].concat(Object(ye.a)(e),[n])}))}}(e.slotName,e.slotValues)},children:Object(s.jsx)(F.a,{icon:Cn.faPlus})}):Object(s.jsx)(_.a,{variant:"plainIcon",fontSize:4,p:0,onClick:function(){return p((function(e){return e.filter((function(e,n){return n!==t}))}))},children:Object(s.jsx)(F.a,{icon:A.faTimes})})})]},t)}))}),[f,O,g,S,y]);return Object(s.jsxs)(Fe.Box,{sx:{height:"100%",width:"100%",overflow:"scroll"},children:[Object(s.jsx)(xt,{variant:"alertThatUsesColoursThatArentInTheStyleguide",m:0,py:"12px",mb:4,children:Object(s.jsx)(x.a,{as:"i",variant:"bodySecondary",lineHeight:"1.54",inheritColor:!0,children:'Select a slot and the slot values you want to filter by. Click the "+" icon to add multiple slots.'})}),Object(s.jsx)(R.a,{variant:"h4",children:"Slots"}),Object(s.jsx)(Fe.Box,{width:1,as:"table",sx:{width:"100%",borderSpacing:0,textAlign:"left"},children:Object(s.jsx)("tbody",{style:{verticalAlign:"initial"},children:w})})]})}function kn(e){var t=e.filter,n=e.onChange,r=rn.b;return Object(s.jsx)(Fe.Flex,{flexDirection:"column",children:r.map((function(e){return Object(s.jsxs)(Fe.Flex,{as:"label",alignItems:"center",mb:4,sx:{color:"neutral_8"},children:[Object(s.jsx)(on.a,{variant:"radio",fontSize:"8px",width:"12px",checked:t.reviewStatus===e.status,onChange:function(){return n(Object(Ce.a)(Object(Ce.a)({},t),{},{reviewStatus:e.status}))}}),Object(s.jsx)(x.a,{ml:3,variant:"bodySecondary",inheritColor:!0,children:e.label})]},e.label)}))})}En.title="Slots",En.count=function(e){return e.slots.length},kn.title="Review status",kn.count=function(e){return e.reviewStatus&&e.reviewStatus.length>0?1:0};var Tn=n(987),An=n.n(Tn);function _n(e){var t=e.borderColor,n=e.color,r=e.radius,a=Object(Le.a)(e,["borderColor","color","radius"]);return Object(s.jsx)(Fe.Box,Object(Ce.a)(Object(Ce.a)({width:r,height:r,sx:{borderRadius:"50%",border:"2px solid ".concat(t),flexShrink:0}},a),{},{bg:n,children:"\xa0"}))}function Dn(e){var t=e.filter,n=e.onChange,r=Object(pe.d)((function(e){return e.suggestions.tags})),o=a.useMemo((function(){return An()(r,(function(e){return e.value}))}),[r]),c=a.useMemo((function(){return t.tags.map((function(e){return e.value}))}),[t.tags]),i=a.useCallback((function(e){return Object(s.jsx)(_n,{ml:"12px",mr:"-6px",color:"#".concat(o[e].color)})}),[o]);return Object(s.jsx)(tn,{items:r.map((function(e){return e.value})),icon:i,selected:c,onChange:function(e){return n(Object(Ce.a)(Object(Ce.a)({},t),{},{tags:e.map((function(e){return o[e]}))}))},searchBoxPlaceholder:"Search tags...",emptyListPlaceholder:"There are no tags to filter by.",noResultsPlaceholder:"There are no tags matching your search."})}_n.defaultProps={borderColor:"white",radius:"12px"},Dn.title="Tags",Dn.count=function(e){return e.tags.length};var Rn=[Dn,xn,jn,hn],Fn=[kn,Dn,xn,nn,an,jn,En,un,gn],In=[xn];function Ln(e){var t=e.children,n=e.filter,r=e.onApply,o=e.onClose,c=e.offset,i=e.visible,l=a.useState(0),u=Object(Se.a)(l,2),d=u[0],b=u[1],f=a.useState(n),p=Object(Se.a)(f,2),h=p[0],j=p[1],O=a.useState(!1),x=Object(Se.a)(O,2),v=x[0],g=x[1],m=a.useCallback((function(){return r(h)}),[r,h]),y=a.useMemo((function(){return function(e){switch(e){case"Conversation":return Fn;case"Suggestion":return Rn;case"Workspace":return In;default:return[]}}(h.type)}),[h.type]),C=a.useMemo((function(){return y[d]}),[d,y]),S=Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(Fe.Flex,{sx:{borderStyle:"solid",borderWidth:"1px 0 1px 0",borderColor:"#e8ebf4",flexGrow:1,height:"406px",overflow:"hidden"},children:[Object(s.jsx)(Xt.a,{right:!0,pt:4,sx:{minWidth:"176px"},children:y.map((function(e,t){return Object(s.jsx)(On,{count:e.count(h),onClick:function(){return b(t)},selected:t===d,children:e.title},e.title)}))}),Object(s.jsx)(Fe.Box,{sx:{flexGrow:"1"},p:4,children:Object(s.jsx)(C,{filter:h,onChange:j,onValidation:g})})]}),Object(s.jsxs)(Fe.Flex,{justifyContent:"flex-end",px:4,py:3,children:[Object(s.jsx)(_.a,{large:!0,onClick:function(){j(n),o()},variant:"secondary",children:"Cancel"}),Object(s.jsx)(_.a,{disabled:v,large:!0,ml:2,onClick:m,children:"Done"})]})]});return Object(s.jsx)(yn,{popupWidth:"640px",content:S,hideCloseIcon:!0,title:Object(s.jsx)(R.a,{variant:"h2",children:"Filter by"}),offset:c,onClose:o,visible:i,children:t})}function Nn(e){var t=e.children,n=e.expanded,r=e.filter,a=e.offset,o=e.onApply,c=e.onCancel;return Object(s.jsx)(s.Fragment,{children:n&&Object(s.jsx)(Ln,{filter:r,visible:n,offset:a,onApply:o,onClose:c,children:t})})}var Un=a.memo(Nn),Bn=n(1049);function Mn(e){var t=e.label,n=e.pluralLabel,r=e.total,o=e.onClearSelection,c=e.children,i=a.useContext(l.ThemeContext),u=1===r?t:n;return Object(s.jsxs)(Fe.Flex,{width:"100%",height:"64px",color:"neutral_0",backgroundColor:"primary_2",justifyContent:"space-between",alignItems:"center",pl:4,pr:Object(Bn.a)()+i.space[4]+"px",sx:{position:"absolute",top:"56px",left:0,zIndex:1},children:[Object(s.jsxs)(Fe.Flex,{width:.5,children:[Object(s.jsx)(Fe.Box,{as:"label",flex:"0 0 auto",width:"32px",children:Object(s.jsx)(on.a,{checked:!0,partial:!0,variant:"primary",onChange:o})}),Object(s.jsx)(Fe.Box,{flex:"1 1 auto",alignSelf:"flex-start",children:Object(s.jsxs)(x.a,{variant:"inverse",children:[r," ",u]})})]}),c]})}var Pn=n(515),Hn=n.n(Pn),qn=function(e){return Number(e)<.01?"< 0.01":Number(e).toPrecision(2)},Gn=function(e){return e.confidence&&Object(s.jsxs)(x.a,{sx:{whiteSpace:"nowrap"},mx:1,display:"inline-block",variant:"bodySecondary",color:"neutral_6",children:["(",e.confidence,")"]})},Wn=a.memo((function(e){var t=e.intent,n=e.intents,r=e.onChange,o=e.predictedIntent,c=e.rankedIntents,i=void 0===c?[]:c,l=e.variant,u=Object(Le.a)(e,["intent","intents","onChange","predictedIntent","rankedIntents","variant"]),d=a.useState(!1),b=Object(Se.a)(d,2),f=b[0],p=b[1],h=a.useMemo((function(){if(!i||0===i.length)return n.map((function(e){return{value:e,label:e,data:{name:e}}}));var e=n.map((function(e){return{name:e}})),t=i.map((function(e){return Object(Ce.a)(Object(Ce.a)({},e),{},{confidence:e.confidence||0})})).sort((function(e,t){return Number(t.confidence)-Number(e.confidence)})).map((function(e){return Object(Ce.a)(Object(Ce.a)({},e),{},{confidence:Number(e.confidence)})}));return Hn()(t.concat(e),"name").map((function(e){return{value:e.name,label:e.name,confidence:e.confidence?qn(e.confidence):void 0,data:e}})).filter((function(e){return null!==e.value}))}),[i,n]),j=a.useMemo((function(){return null===t?null:h.find((function(e){return e.value===t}))||{value:t,label:t,data:{name:t}}}),[t,h]),O=a.useCallback((function(e){return e&&r(e.data||{name:e.value})}),[r]),v=a.useState(j),g=Object(Se.a)(v,2),m=g[0],y=g[1],C=Object(we.f)(f);a.useEffect((function(){f&&!C&&y(j)}),[f,j,C]);var S=a.useState(""),w=Object(Se.a)(S,2),E=w[0],k=w[1];Object(we.a)((function(){""!==E&&E!==t&&O({value:E})}),200,[E]);var T=Object(we.e)(Et.d.Domain,Et.a.Update);return f?Object(s.jsx)(pt.a,{block:u.block,px:2,autoFocus:!0,onChangeValue:k,value:E,fullWidth:u.fullWidth,variant:l,suffix:Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(_.a,{fontSize:"12px",onClick:function(){k(""),O(m),p(!1)},ml:3,variant:"inverse"===l?"plain":"plainDropdown",children:Object(s.jsx)(F.a,{icon:A.faTimes})})})}):Object(s.jsx)(cn.a,Object(Ce.a)({renderItem:function(e,t){return function(e,t,n){return e.confidence?Object(s.jsxs)(Fe.Flex,{sx:{height:"100%",alignItems:"center"},children:[Object(s.jsx)(x.a,{display:"inline-block",title:t,variant:"bodySecondary",children:t}),Gn(e),e.value===n&&Object(s.jsx)(x.a,{ml:1,display:"inline-block",marginLeft:"auto",variant:"bodySecondary",color:"neutral_6",children:"predicted intent"})]}):t}(e,t,o||null)},onChange:O,onCreate:T?function(e){k(e),p(!0)}:void 0,createNewText:"Create new intent",items:h,value:j&&j.value.length?j:null,variant:l},u))})),Vn=n(166),Yn=n(328),zn=n(517),Kn=n(79),Qn=n(26);function Xn(e){var t=e.overflowThreshold,n=e.tags;return Object(s.jsx)(Fe.Flex,{height:"40px",flexDirection:"row-reverse",alignItems:"center",justifyContent:"center",px:36,sx:{visibility:"visible"},children:Object(s.jsx)(Qn.a,{py:0,px:3,content:Object(s.jsx)(Fe.Flex,{children:Object(s.jsxs)("ul",{style:{listStyle:"none",padding:0,margin:0},children:[n.slice(0,t).map((function(e){return Object(s.jsx)("li",{children:Object(s.jsxs)(Fe.Flex,{width:"100%",alignItems:"center",py:2,sx:{lineHeight:"24px"},children:[Object(s.jsx)(_n,{borderColor:"neutral_8",color:"#".concat(e.color),ml:"2px",mr:"12px",radius:"8px",title:e.value},e.id),e.value]})},e.id)})),n.length-t>0&&Object(s.jsx)("li",{children:Object(s.jsxs)(Fe.Flex,{width:"100%",alignItems:"center",py:2,sx:{lineHeight:"24px",fontWeight:400,color:"neutral_6"},children:["+ ",n.length-t," more tags"]})},"plusmore")]})}),children:n.map((function(e){return Object(s.jsx)(_n,{color:"#".concat(e.color),title:e.value,mr:"-4px"},e.id)}))})})}var Jn=a.memo(Xn),Zn=function(e){return-1===e?ie[0]:ie[e%(ie.length-1)]},$n=n(1051),er=n(327),tr=n.n(er),nr=n(34),rr=n(150),ar=n(516),or=function(){return(or=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},cr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var ir=function(){return(ir=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},sr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var lr={Flex:function(e){var t=e.sx,n=void 0===t?{}:t,r=sr(e,["sx"]);return Object(s.jsx)(O.d,ir({},r,{sx:ir(ir({},n),{"--parent-hovered":"none","--parent-hovered-inverted":"block","&:hover":ir(ir({},n&&n["&:hover"]||{}),{"--parent-hovered":"block","--parent-hovered-inverted":"none"})})}),void 0)},Box:function(e){var t=e.inverted,n=e.alwaysVisible,r=cr(e,["inverted","alwaysVisible"]);return Object(s.jsx)(O.a,or({},r,{sx:or({display:n?"block":"var(--parent-hovered"+(t?"-inverted":"")+")"},r.sx)}),void 0)}};function ur(e){var t=e.tag,n=e.checked,r=e.onChange;return Object(s.jsxs)(lr.Flex,{p:3,alignItems:"center",sx:{"&:hover":{bg:"neutral_1"}},onClick:function(){return r(!n)},children:[Object(s.jsx)(Fe.Box,{mr:2,sx:{visibility:n?"visible":"hidden"},children:Object(s.jsx)(F.a,{color:"primary_2",icon:ar.faCheck})}),Object(s.jsx)(_n,{color:"#".concat(t.color),mr:2}),Object(s.jsx)(x.a,{color:"neutral_8",children:t.value}),Object(s.jsx)(Fe.Box,{flex:1}),Object(s.jsx)(lr.Box,{children:n&&Object(s.jsx)(F.a,{color:"neutral_5",icon:A.faTimes})})]})}var dr=a.memo(ur);function br(){var e=Object(ve.a)(["\n  width: 100%;\n  max-width: 864px;\n  border: 0;\n  box-shadow: 0 4px 14px 0 rgba(103, 106, 111, 0.32);\n  display: flex;\n  flex-direction: column;\n\n  transition: all cubic-bezier(.46,.1,.52,.98) 250ms;\n  transform: translateY(-10px);\n  transform-origin: 0 -50%;\n  opacity: 0;\n  "," "," ","\n"]);return br=function(){return e},e}var fr=xe.a.styled(br(),Qe.space,Qe.borderRadius,Qe.color);function pr(e){var t=e.open,n=e.onClose,r=e.noSeparator,o=e.onBackgroundClick,c=e.onEscapeKeydown,i=e.children,l=e.title,u=e.footer,d=e.style,b=e.p,f=e.px,p=e.py,h=a.useState({}),j=Object(Se.a)(h,2),O=j[0],x=j[1];return Object(s.jsxs)(fr,{isOpen:t,onBackgroundClick:o||n,onEscapeKeydown:c||n,borderRadius:"large",bg:"neutral_0",p:0,style:Object(Ce.a)(Object(Ce.a)({},d),O),backgroundProps:{style:O},afterOpen:function(){x({opacity:1,transform:"translateY(0)"})},beforeClose:function(){return new Promise((function(e){x({}),setTimeout(e,250)}))},children:[l&&Object(s.jsx)(Fe.Card,{p:4,sx:{borderBottom:r?"0px none":"1px solid",borderColor:"neutral_2"},children:Object(s.jsxs)(Fe.Flex,{justifyContent:"space-between",children:[Object(s.jsx)(R.a,{variant:"h2",children:l}),n&&Object(s.jsx)(Fe.Box,{onClick:function(){return n()},children:Object(s.jsx)(_.a,{onClick:n,variant:"plainIcon",p:0,children:Object(s.jsx)(F.a,{icon:A.faTimes,fontSize:"24px"})})})]})}),Object(s.jsx)(Fe.Flex,{flexDirection:"column",sx:{flexGrow:1,overflow:"auto"},p:b,px:f,py:p,children:i}),u&&Object(s.jsx)(Fe.Card,{sx:{borderTop:"1px solid",borderColor:"neutral_2"},children:Object(s.jsx)(Fe.Flex,{px:4,py:3,flexDirection:"row-reverse",children:u})})]})}function hr(e){var t=e.onCreate,n=e.onTagChange,r=e.selectedTags,o=a.useState(""),c=Object(Se.a)(o,2),i=c[0],l=c[1],u=a.useState(!1),d=Object(Se.a)(u,2),b=d[0],f=d[1],p=a.useState(""),h=Object(Se.a)(p,2),j=h[0],O=h[1],v=Object(pe.c)(),g=Object(pe.d)((function(e){return e.projects.tags})),m=a.useMemo((function(){return 0===g.length?Zn(0):function(e){var t=ie.indexOf(e);return-1===t?ie[0]:Zn(t+1)}(g[g.length-1].color)}),[g]),y=a.useCallback((function(){t({value:i,color:m}),v(nr.d.request()),f(!1)}),[v,m,i,t]),C=a.useMemo((function(){return g.length>0&&Object(s.jsx)(Fe.Box,{sx:{maxHeight:240,overflow:"auto"},children:g.map((function(e){return""!==j&&e.value.toLowerCase().indexOf(j.toLowerCase())<0?null:Object(s.jsx)(Fe.Box,{children:Object(s.jsx)(dr,{checked:r.includes(e.id),tag:e,onChange:function(t){return n(e,t)}})},e.id)}))})||Object(s.jsx)(s.Fragment,{})}),[n,j,r,g]);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(Fe.Flex,{flexDirection:"column",pb:2,children:[Object(s.jsxs)(Fe.Box,{px:20,py:2,children:[Object(s.jsx)(x.a,{my:2,variant:"bodySecondary",sx:{fontWeight:"bold"},children:"Manage tags"}),Object(s.jsx)(pt.a,{active:!0,fullWidth:!0,my:2,onChangeValue:O,placeholder:"Search tags...",value:j,variant:"search"})]}),Object(s.jsx)(ht.a,{}),C,Object(s.jsx)(ht.a,{}),Object(s.jsx)(Fe.Box,{children:Object(s.jsx)($n.a,{px:20,py:3,onClick:function(){l(j),f(!0)},variant:"primary",children:"Create new tag"})}),Object(s.jsx)(ht.a,{}),Object(s.jsx)(Fe.Box,{children:Object(s.jsx)($n.a,{px:20,py:3,onClick:function(){return Object(rr.c)("https://rasa.com/docs/rasa-x/user-guide/track-progress/#tagging-conversations-via-the-api")},variant:"primary",children:"Use the API to create tags"})})]}),Object(s.jsxs)(pr,{title:"Create tag",open:b,onClose:function(){return f(!1)},style:{width:"412px"},noSeparator:!0,children:[Object(s.jsx)(pn.a,{text:"Tag name",children:Object(s.jsx)(pt.a,{placeholder:"Create new tag...",fullWidth:!0,value:i,onChangeValue:l,autoFocus:!0})}),Object(s.jsxs)(Fe.Flex,{flexDirection:"row-reverse",mr:-1,mt:4,children:[Object(s.jsx)(_.a,{mx:1,variant:"primary",onClick:y,children:"Create and add"}),Object(s.jsx)(_.a,{mx:1,variant:"secondary",onClick:function(){return f(!1)},children:"Cancel"})]})]})]})}pr.defaultProps={px:6,py:4};var jr=a.memo(hr,(function(e,t){for(var n=0,r=Object.keys(e);n<r.length;n++){var a=r[n];if("selectedTags"===a){if(!tr()(e[a],t[a]))return!1}else if(e[a]!==t[a])return!1}return!0}));function Or(e){var t,n=e.suggestion,r=e.bulkSelectedTags,o=e.onDelete,c=e.onTagCreation,i=e.onTagChange,l=e.onMarkCorrect,u=e.hasIntent,d=e.highlight,b=e.interactive,f=e.buttonVariant,p=void 0===f?"icon":f,h=e.canCreate,j=e.canDelete,O=Object(we.o)(!1),x=Object(Se.a)(O,2),v=x[0],g=x[1],m=Object(pe.d)((function(e){return e.projects.tags})),y=Object(pe.d)((function(e){return e.workspaces.activeWorkspace})),C=(null===y||void 0===y?void 0:y.name)||"active workspace",S=u||!!(null===n||void 0===n||null===(t=n.user_input.intent)||void 0===t?void 0:t.name),w=(null===n||void 0===n?void 0:n.conversation_id)&&(null===n||void 0===n?void 0:n.event_id),E="context"===d,k="delete"===d,T="correct"===d,A=a.useCallback((function(e){c(e,n)}),[c,n]),D=a.useCallback((function(e,t){i(e,!!t,n)}),[i,n]),R=a.useMemo((function(){return m.filter((function(e){return null===n||void 0===n?void 0:n.tags.find((function(t){return e.id===t}))}))}),[null===n||void 0===n?void 0:n.tags,m]),I={visibility:b||d?"visible":"hidden",".table-row:hover &":{visibility:"visible"}},L=a.useMemo((function(){var e={visibility:(null===n||void 0===n?void 0:n.isDirty)||b||d?"visible":"hidden",".table-row:hover &":{visibility:"visible"}};return Object(s.jsx)(Qn.a,{content:S?"Mark Correct":"You need to define an intent before marking this correct",children:Object(s.jsx)(Fe.Box,{sx:e,children:Object(s.jsx)(_.a,{mx:1,onClick:function(){console.log("correct"),l(n)},disabled:!S,hover:T,variant:p,active:null===n||void 0===n?void 0:n.isDirty,children:Object(s.jsx)(F.a,{icon:Vn.faCheckCircle})})})})}),[false,p,S,T,l,n,C,d,b]);return Object(s.jsxs)(Fe.Flex,{sx:{width:"100%",alignItems:"center",justifyContent:"space-between"},children:[R.length>0&&Object(s.jsx)(Jn,{overflowThreshold:5,tags:R}),Object(s.jsxs)(Fe.Flex,{sx:{justifySelf:"flex-end",flexGrow:1,alignItems:"flex-end",justifyContent:"flex-end",flexShrink:0},children:[Object(s.jsx)(yn,{visible:v,popupWidth:"320px",content:Object(s.jsx)(jr,{onCreate:A,onTagChange:D,selectedTags:n?n.tags:r||[]}),borderRadius:"normal",onClose:function(){return g()},children:Object(s.jsx)(Fe.Box,{sx:I,children:Object(s.jsx)(_.a,{mx:1,onClick:g,variant:p,children:Object(s.jsx)(F.a,{icon:zn.faTags})})})}),n&&w&&Object(s.jsx)(Qn.a,{content:"See Conversation Context",children:Object(s.jsx)(Fe.Box,{sx:I,children:Object(s.jsx)(_.a,{as:"a",target:"_blank",href:"/conversations/".concat(n.conversation_id,"#").concat(n.event_id),rel:"noopener,noreferrer",mx:1,hover:E,variant:p,onClick:function(){},children:Object(s.jsx)(F.a,{icon:Yn.faComments})})})}),h&&L,j&&Object(s.jsx)(Qn.a,{content:"Delete",children:Object(s.jsx)(Fe.Box,{sx:I,children:Object(s.jsx)(_.a,{mx:1,onClick:function(){o(n)},hover:k,variant:p,children:Object(s.jsx)(F.a,{icon:Kn.faTrashAlt})})})})]})]})}var xr=a.memo(Or);function vr(e){var t=e.intent,n=e.bulkSelectedTags,r=e.total,a=e.onClearSelection,o=e.onDelete,c=e.onMarkCorrect,i=e.onTagChange,l=e.onTagCreation,u=e.onChangeIntent,d=e.intents,b=Object(we.e)(Et.d.Examples,Et.a.Create),f=Object(we.e)(Et.d.Logs,Et.a.Delete);return Object(s.jsxs)(Mn,{label:"item selected",pluralLabel:"items selected",total:r,onClearSelection:a,children:[Object(s.jsx)(Fe.Box,{width:"50%",children:Object(s.jsx)(Fe.Flex,{width:"100%",alignItems:"flex-start",children:Object(s.jsx)(Wn,{intent:t||"Multiple intents selected",onChange:u,intents:d,fullWidth:!0,variant:"inverse"})})}),Object(s.jsx)(Fe.Box,{width:"50%",children:Object(s.jsx)(xr,{bulkSelectedTags:n,highlight:"hover",hasIntent:!0,onDelete:o,onMarkCorrect:c,onTagChange:i,onTagCreation:l,canCreate:b,canDelete:f,buttonVariant:"iconInverse"})})]})}var gr=function(){return(gr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},mr=a.memo((function(e){var t=e.forwardRef,n=e.columns,r=e.data,o=e.metadata,c=e.highlighted,i=e.setUpdateByMouse,l=e.index,u=e.hovered,d=e.isScrolling,b=e.start,f=e.setHighlightedRow,p=e.setHoveredRow,h=e.rowHeight,j=e.rowStyle,x=e.stripeSelected,v=e.disableExpensiveHeightMeasuring,g=a.Children.map(n,(function(e){return a.cloneElement(e,{asHeader:!1,data:r,highlighted:c,hovered:u,index:l,metadata:o,isScrolling:d})})),m=a.useCallback((function(e,t){e&&e(l),t(!0)}),[l]);return Object(s.jsx)(O.d,gr({ref:function(e){v||t(e)},className:"table-row",onMouseEnter:function(){return p(l)},onClick:function(){m(f,i)},px:"24px",style:gr({transform:"translateY("+b+"px)",minHeight:h},j),sx:gr(gr({alignItems:"center",position:"absolute",width:"100%",left:0,top:0,boxSizing:"border-box",borderBottomStyle:"solid",borderWidth:"1px",borderColor:"neutral_2","&:hover":{backgroundColor:"neutral_1"}},x?{"&:before":gr({content:'""',width:"4px",height:"100%",backgroundColor:"primary_2",position:"absolute",left:"0",borderRadius:"2px"},c?{}:{display:"none"})}:{}),{"&:after":gr({content:'""',width:"100%",height:"100%",position:"absolute",left:"0",zIndex:"-1",backgroundColor:"neutral_1"},c?{}:{display:"none"})})},{children:g}),void 0)}),(function(e,t){for(var n=0,r=Object.keys(e);n<r.length;n++){var a=r[n];if("data"===a){if(!tr()(e[a],t[a]))return!1}else if("forwardRef"!==a&&e[a]!==t[a])return!1}return!0})),yr=null;var Cr="400 13px Lato";function Sr(e){if(void 0===e&&(e=Cr),null===yr)try{yr="undefined"!==typeof OffscreenCanvas?new OffscreenCanvas(1e3,1e3).getContext("2d"):document.createElement("canvas").getContext("2d")}catch(t){console.warn(t)}return yr.font=e,yr}function wr(e,t){return Math.round(e.measureText(t).width)}var Er=n(995),kr=n(994),Tr=function(){return(Tr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ar=a.memo((function(e){var t=e.start,n={background:function(e){return""+e.gradients.secondary_1},backgroundSize:"1000px 64px"};return Object(s.jsxs)(O.d,Tr({px:4,flex:1,alignItems:"center",sx:{height:"64px",transform:"translateY("+t+"px)",position:"absolute",width:"100%",left:0,top:0,borderBottomStyle:"solid",borderWidth:"1px",borderColor:"neutral_2"}},{children:[Object(s.jsx)(O.d,Tr({width:1/3},{children:Object(s.jsx)(O.a,{ml:5,height:"8px",width:"50%",sx:n},void 0)}),void 0),Object(s.jsx)(O.d,Tr({width:1/3},{children:Object(s.jsx)(O.a,{height:"8px",width:"100%",sx:n},void 0)}),void 0)]}),void 0)})),_r=function(){return(_r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};var Dr=function(e){var t=e.rows,n=e.rowHeight,r=void 0===n?64:n,o=e.rowStyle,c=e.metadata,i=e.children,l=e.variant,u=void 0===l?"default":l,d=e.loading,b=void 0!==d&&d,f=e.onLoadMore,p=e.highlight,h=void 0===p?-1:p,j=e.total,v=e.getKey,g=e.setHighlightedRow,m=e.stripeSelection,y=void 0!==m&&m,C=e.pageSize,S=void 0===C?50:C,w=e.emptyStatePlaceholder,E=e.disableExpensiveHeightMeasuring;j||(j=t.length);var k=a.useMemo((function(){var e,t;return(null===(e=i)||void 0===e?void 0:e.type)===a.Fragment?null===(t=i)||void 0===t?void 0:t.props.children:i}),[i]),T=a.useRef(null),A=a.useState(!0),_=A[0],D=A[1],R=a.useState(0),I=R[0],L=R[1],N=a.useState(0),U=N[0],B=N[1],M=a.useCallback((function(e){return"number"===typeof r?r:r({index:e,size:{width:U,height:I}})}),[r,I,U]);Object(Ve.a)(a.useCallback((function(e){var t=e[0];t&&(L(t.contentRect.height),B(t.contentRect.width))}),[]),T.current);var P=Object(Er.a)({size:j,parentRef:T,estimateSize:M,useObserver:a.useCallback((function(){return{width:U,height:I}}),[U,I])});a.useEffect((function(){if(f){var e=t.filter((function(e){return e})).pop(),n=e&&t.indexOf(e),r=P.virtualItems.slice(-1)[0],a=Math.max(t.length,j||0);!b&&r&&n&&r.index>=n&&r.index<a-1&&f(n+S)}}),[b,P.virtualItems,t.length,f,S,t,j]);var H=a.useState(-1),q=H[0],G=H[1];a.useEffect((function(){h>-1&&h!==q&&T.current&&!_&&(P.scrollToIndex(h),G(h)),D(!1)}),[h,P,_,q]);var W=a.useMemo((function(){return a.Children.map(k,(function(e){return a.cloneElement(e,{asHeader:!0})}))}),[k]),V=a.useMemo((function(){return!!W&&W.some((function(e){return""!==e.props.title}))}),[W]),Y=a.useState(!1),z=Y[0],K=Y[1],Q=a.useState(-1),X=Q[0],J=Q[1],Z=a.useState(null)[1],$=a.useCallback((function(e){K(!0),Z((function(e){return e&&clearTimeout(e),setTimeout((function(){return K(!1)}),200)}))}),[]);return Object(s.jsxs)(O.a,_r({sx:{color:"neutral_8",fontSize:2,backgroundColor:"neutral_0",height:"100%",width:"100%"},variant:"table."+u},{children:[V&&Object(s.jsx)(O.d,_r({p:4,sx:_r({fontWeight:"bold",borderBottomStyle:"solid",borderWidth:"1px",borderColor:"neutral_2"},o)},{children:W}),void 0),Object(s.jsx)(kr.a,{children:function(e){var n=e.height,r=e.width;return Object(s.jsx)(O.a,_r({ref:function(e){T.current=e,I<=0&&(L(n),B(n))},onScroll:$,sx:{height:V?n-64:n,width:r,overflow:"auto"}},{children:b?Object(s.jsxs)(O.d,_r({alignItems:"center",flexDirection:"column",justifyContent:"center",sx:{width:"100%",height:"100%"}},{children:[Object(s.jsx)(F.a,{fontSize:"64px",icon:b?Ft.faSpinnerThird:Rt.faSearch,spin:b,color:"primary_2"},void 0),Object(s.jsx)(x.a,_r({color:"neutral_8",mt:3,sx:{fontWeight:"700"}},{children:"Fetching results"}),void 0)]}),void 0):0===t.length?w:Object(s.jsx)(O.a,_r({sx:{height:P.totalSize+32+"px",width:"100%",position:"relative"}},{children:P.virtualItems.map((function(e){var n=e.index,r=e.measureRef,a=e.start,i=e.size;return t[n]?Object(s.jsx)(mr,{forwardRef:r,index:n,stripeSelected:y,highlighted:h===n,setUpdateByMouse:D,columns:k,data:t[n],metadata:c,start:a,setHighlightedRow:g,setHoveredRow:J,rowHeight:i,rowStyle:o,isScrolling:z,hovered:X===n,disableExpensiveHeightMeasuring:E},v?v(t[n]):n):Object(s.jsx)(Ar,{start:a},"placeholder-"+n)}))}),void 0)}),void 0)}},void 0)]}),void 0)},Rr=function(){return(Rr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function Fr(e){var t=e.asHeader,n=e.children,r=e.data,a=e.highlighted,o=e.hovered,c=e.index,i=e.isScrolling,l=e.metadata,u=e.title,d=e.width,b=e.sx;return t?Object(s.jsx)(O.a,Rr({width:d,sx:b},{children:u}),void 0):void 0===r||void 0===c||void 0===a||void 0===o||void 0===i?(console.warn("Do not use <Column /> outside of <TableRow />"),null):Object(s.jsx)(O.a,Rr({width:d,sx:b},{children:n(r,{index:c,highlighted:a,hovered:o,metadata:l,isScrolling:i})}),void 0)}var Ir=n(200),Lr=function(){var e=o.a.useState({}),t=Object(Se.a)(e,2),n=t[0],r=t[1],a=o.a.useCallback((function(e){return function(t){r(Object(Ce.a)(Object(Ce.a)({},n),{},{[e]:!t}))}}),[n]);return{expandedRows:n,getOnCollapseRow:a}};function Nr(e){var t=e.intents,n=e.suggestion,r=e.onChangeIntent,o=a.useCallback((function(e){return r(n,e)}),[r,n]);return n?Object(s.jsx)(Fe.Flex,{width:"100%",alignItems:"flex-start",children:Object(s.jsx)(Wn,{intent:n.user_input.intent.name,rankedIntents:n.user_input.intent_ranking,onChange:o,intents:t,fullWidth:!0})}):null}var Ur=a.memo(Nr),Br=n(988),Mr=n(989),Pr=n(990),Hr=n(1048),qr=Object(l.default)(Fe.Box).withConfig({displayName:"Error",componentId:"gbq76s-0"})([""," font-weight:bold;"],Qe.textAlign);qr.defaultProps={color:"secondary_1"},qr.displayName="Error";var Gr=a.memo(qr),Wr=function(e){Object(Pr.a)(n,e);var t=Object(Hr.a)(n);function n(){var e;Object(Br.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(Mr.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){if(this.state.hasError){var e=this.props.message;return Object(s.jsx)(Gr,{children:e})}return this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),n}(a.Component);Wr.defaultProps={message:"Something went wrong!"};var Vr=n(510),Yr=n.n(Vr);function zr(e,t){return e.start===t.start&&e.end===t.end&&e.extractor===t.extractor}function Kr(){return Object(s.jsxs)(Fe.Flex,{as:"tr",children:[Object(s.jsx)(Fe.Box,{as:"td",width:.2,pt:2,pr:2,pl:0,children:Object(s.jsx)(pt.a,{fullWidth:!0,value:"Select word...",disabled:!0,title:"Select word..."})}),Object(s.jsx)(Fe.Box,{as:"td",width:.2,pt:2,pr:2,pl:0,children:Object(s.jsx)(cn.a,{items:[{value:"Item",label:"Entity type"}],value:{value:"Item",label:"Entity type"},disabled:!0,onChange:function(){},fullWidth:!0})}),Object(s.jsx)(Fe.Box,{as:"td",width:.2,pt:2,pr:2,pl:0,children:Object(s.jsx)(cn.a,{placeholder:"Select a role",items:[{value:"Item",label:"Role"}],value:{value:"Item",label:"Role"},disabled:!0,onChange:function(){},fullWidth:!0})}),Object(s.jsx)(Fe.Box,{as:"td",width:.2,pt:2,pr:2,pl:0,children:Object(s.jsx)(cn.a,{placeholder:"Select a group",items:[{value:"Item",label:"Group"}],value:{value:"Item",label:"Group"},disabled:!0,onChange:function(){},fullWidth:!0})}),Object(s.jsx)(Fe.Box,{as:"td",width:.2,pt:2,pr:4,pl:0,children:Object(s.jsx)(cn.a,{placeholder:"Select a synonym",disabled:!0,items:[{value:"Item",label:"Synonym"}],value:{value:"Item",label:"Synonym"},onChange:function(){},fullWidth:!0})}),Object(s.jsx)(_.a,{variant:"plainIcon",fontSize:4,p:0,disabled:!0,onClick:function(){},children:Object(s.jsx)(F.a,{icon:Kn.faTrashAlt})})]},"emptyrowplaceholder")}var Qr=n(235);function Xr(e){var t=e.style,n=e.ml,r=void 0===n?2:n,a=e.color,o=void 0===a?"neutral_6":a,c=Object(Le.a)(e,["style","ml","color"]);return Object(s.jsx)(Fe.Box,{ml:r,style:t,children:Object(s.jsx)(Qn.a,Object(Ce.a)(Object(Ce.a)({},c),{},{children:Object(s.jsx)(F.a,{color:o,icon:Qr.faInfoCircle})}))})}Xr.defaultProps={interactive:!0,px:4,py:3};function Jr(e){var t=e.disableRolesAndGroups,n=a.useContext(l.ThemeContext),r=t?1/3:.2;return Object(s.jsxs)(Fe.Flex,{sx:{marginRight:40},children:[Object(s.jsx)(Fe.Flex,{width:r,children:Object(s.jsx)(R.a,{variant:"h5",children:"Word/phrase"})}),Object(s.jsx)(Fe.Flex,{width:r,children:Object(s.jsx)(R.a,{variant:"h5",children:"Entity type"})}),!t&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Fe.Flex,{width:r,children:Object(s.jsx)(R.a,{variant:"h5",children:"Role"})}),Object(s.jsx)(Fe.Flex,{width:r,children:Object(s.jsx)(R.a,{variant:"h5",children:"Group"})})]}),Object(s.jsx)(Fe.Flex,{width:r,children:Object(s.jsx)(R.a,{variant:"h5",children:Object(s.jsxs)(Fe.Flex,{alignItems:"center",children:["Synonym"," ",Object(s.jsx)(Xr,{ml:1,color:"neutral_5",content:Object(s.jsxs)(Fe.Box,{sx:{cursor:"default",textAlign:"left"},children:["Whenever this entity is extracted, it will use this value instead of the actual text in the message."," ",Object(s.jsx)("a",{style:{color:Object(Qe.get)(n,"colours.neutral_0")},target:"_blank",rel:"noopener noreferrer",href:"https://rasa.com/docs/rasa/nlu/training-data-format/#entity-synonyms",children:"Learn more"})]})})]})})})]})}var Zr={value:null,label:"No role"},$r={value:null,label:"No group"},ea=a.memo((function(e){var t=e.entity,n=e.entityTypes,r=e.entityRoles,o=e.entityGroups,c=e.onChangeEntity,i=e.onRemoveEntity,l=e.canCreate,u=e.newEntities,d=e.onSetNewEntityByKey,b=e.synonyms,f=e.disableRolesAndGroups,p="".concat(t.start,"-").concat(t.end,"-").concat(t.extractor||"none"),h=function(e){return!!e.extractor&&!["ner_crf","CRFEntityExtractor","DIETClassifier","ner_mitie","MitieEntityExtractor"].includes(e.extractor)}(t),j=t.value,O=a.useMemo((function(){return t.entity_synonym_id&&b.find((function(e){return e.value===t.entity_synonym_id}))||null}),[t.entity_synonym_id,b]),x=h||!l&&0===n.length,v=h||!l&&0===r.length,g=h||!l&&0===o.length,m=t.role?{value:t.role,label:t.role}:Zr,y=t.group?{value:t.group,label:t.group}:$r,C=a.useState(n),S=Object(Se.a)(C,2),w=S[0],E=S[1],k=a.useMemo((function(){return t.entity?w.find((function(e){return e.value===t.entity})):null}),[t.entity,w]),T=a.useState(""),A=Object(Se.a)(T,2),D=A[0],R=A[1],I=a.useState(""),L=Object(Se.a)(I,2),N=L[0],U=L[1],B=a.useState(!1),M=Object(Se.a)(B,2),P=M[0],q=M[1],G=""!==D,W=a.useCallback((function(){return R("")}),[]),V=a.useMemo((function(){return"Enter the name of the entity ".concat(N,"...")}),[N]),Y=a.useMemo((function(){return"Entity ".concat(N)}),[N]),z=a.useMemo((function(){return"Create entity ".concat(N)}),[N]),K=function(e){return function(n){n&&!Array.isArray(n)&&c(Object(Ce.a)(Object(Ce.a)({},t),{},{[e]:n.value}))}},Q=function(e){return l?function(){U(e),R(""),ne(!0),q(!0)}:void 0},X=a.useCallback((function(){q(!1),W()}),[W]),J=a.useCallback((function(){return function(e){R(e)}}),[]),Z=a.useCallback((function(e){e.includes("type")?(e="entity",E((function(e){return e.concat({value:D,label:D})}))):e.includes("role")?r.push({value:D,label:D}):o.push({value:D,label:D}),d(p,Object(Ce.a)(Object(Ce.a)({},u[p]),{},{entity:Object(Ce.a)(Object(Ce.a)({},t),{},{[e]:D})}))}),[t,u,d,o,r,p,D]),$=a.useMemo((function(){return Object(s.jsx)(Fe.Box,{width:320,children:Object(s.jsx)(pn.a,{text:Y,children:Object(s.jsx)(pt.a,{value:D,placeholder:V,onChangeValue:J(),fullWidth:!0,autoFocus:!0})})})}),[D,V,J,Y]),ee=a.useMemo((function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(_.a,{large:!0,disabled:!G,onClick:function(){Z(N),q(!1)},variant:"primary",children:z}),Object(s.jsx)(_.a,{large:!0,mr:1,onClick:X,variant:"secondary",children:"Cancel"})]})}),[G,z,Z,X,N]),te=H($,{header:"".concat(z),footer:ee,closeOnClickOutside:!1,closeOnEscape:!1,showCloseButton:!0,variant:"default"}),ne=Object(Se.a)(te,2)[1];a.useEffect((function(){ne((function(){return P}))}),[ne,P]);var re=f?1/3:.2;return Object(s.jsxs)(Fe.Flex,{children:[Object(s.jsx)(Fe.Box,{width:re,pt:2,pr:2,pl:0,children:Object(s.jsx)(pt.a,{fullWidth:!0,value:j,disabled:!0,title:j})}),Object(s.jsx)(Fe.Box,{width:re,pt:2,pr:2,pl:0,children:Object(s.jsx)(cn.a,{onCreate:Q("type"),items:w,value:k,disabled:x,onChange:K("entity"),fullWidth:!0,closeOnCreate:!0})}),!f&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Fe.Box,{width:re,pt:2,pr:2,pl:0,children:Object(s.jsx)(cn.a,{onCreate:Q("role"),items:[Zr].concat(r),value:m,disabled:v,onChange:K("role"),fullWidth:!0,closeOnCreate:!0})}),Object(s.jsx)(Fe.Box,{width:re,pt:2,pr:2,pl:0,children:Object(s.jsx)(cn.a,{onCreate:Q("group"),items:[$r].concat(o),value:y,disabled:g,onChange:K("group"),fullWidth:!0,closeOnCreate:!0})})]}),Object(s.jsx)(Fe.Box,{width:re,pt:2,pr:2,pl:0,children:Object(s.jsx)(cn.a,{placeholder:"Select a synonym",value:O,disabled:h||0===b.length,items:b,onChange:K("entity_synonym_id"),fullWidth:!0})}),Object(s.jsx)(Fe.Box,{sx:{alignSelf:"center",flexShrink:0},pt:2,children:h?Object(s.jsx)(Qn.a,{content:"This entity is read-only since it was extracted by a pre-trained model.",children:Object(s.jsx)(F.a,{icon:Qr.faInfoCircle,color:"neutral_5"})}):Object(s.jsx)(_.a,{variant:"icon",fontSize:4,onClick:function(){return i(t)},children:Object(s.jsx)(F.a,{icon:Kn.faTrashAlt})})})]},p)})),ta=function(e){return{label:e,value:e}},na=function(e){return"#".concat(e)},ra=function(e,t){return Object(Ce.a)(Object(Ce.a)({},ta(e)),{},{color:na(Zn(t))})},aa=function(e){return Object(s.jsx)(Fe.Box,Object(Ce.a)({sx:{maxHeight:200,overflowY:"auto"}},e))},oa=a.memo((function(e){var t=e.entities,n=e.entityTypes,r=e.entityRoles,o=e.entityGroups,c=e.synonyms,i=e.onRemoveEntity,l=e.onChangeEntity,u=e.enableCreation,d=e.disableRolesAndGroups,b=a.useMemo((function(){return Object(ye.a)(t).sort((function(e,t){return e.start-t.start}))}),[t]),f=a.useState({}),p=Object(Se.a)(f,2),h=p[0],j=p[1],O=Object(we.f)(h);Object(we.a)((function(){Ut()(O,h)||Object.values(h).forEach((function(e){var t=e.entity,n=e.previous;null===t&&null!==n?l(n):t&&l(t)}))}),200,[h,O]);var x=a.useCallback((function(e,t){j((function(n){return Object(Ce.a)(Object(Ce.a)({},n),{},{[e]:t})}))}),[j]),v=a.useMemo((function(){return n.map(ra)}),[n]),g=a.useMemo((function(){return r.map(ta)}),[r]),m=a.useMemo((function(){return o.map(ta)}),[o]),y=a.useMemo((function(){return c.map((function(e){return{value:e.id,label:e.synonym_reference}}))}),[c]);return Object(s.jsxs)(Fe.Box,{width:"100%",sx:{width:"100%"},children:[Object(s.jsx)(Jr,{disableRolesAndGroups:d}),Object(s.jsx)(aa,{children:b&&0!==b.length?b&&c&&b.map((function(e){return Object(s.jsx)(ea,{entity:e,entityTypes:v,entityRoles:g,entityGroups:m,disableRolesAndGroups:d,synonyms:y,onChangeEntity:l,newEntities:h,onSetNewEntityByKey:x,canCreate:u,onRemoveEntity:i},"".concat(e.start,"-").concat(e.end,"-").concat(e.extractor||"none"))})):Object(s.jsx)(Kr,{})})]})})),ca=a.memo((function(e){var t=e.entities,n=e.entityTypes,r=e.entityRoles,a=e.entityGroups,o=e.onChangeEntity,c=e.onRemoveEntity,i=e.synonyms,l=e.text,u=e.disableRolesAndGroups,d=Object(we.e)(Et.d.Domain,Et.a.Update),b=0===n.length&&!d;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(oa,{entities:t,entityTypes:n,entityRoles:r,entityGroups:a,onChangeEntity:o,onRemoveEntity:c,text:l,synonyms:i,enableCreation:d,disableRolesAndGroups:u}),b&&Object(s.jsx)(xt,{variant:"warning",m:0,py:"10px",mt:3,mb:2,children:Object(s.jsx)(x.a,{as:"i",variant:"bodySecondary",lineHeight:"initial",color:"inherit",children:"You don't have permission to create entities."})})]})})),ia=a.memo((function(e){var t=e.entities,n=e.entityTypes,r=e.entityRoles,o=e.entityGroups,c=e.hasChanges,i=e.onChangeEntity,l=e.onRemoveEntity,u=e.onCancel,d=e.onClose,b=e.onSave,f=e.hidePopover,p=e.showPopover,h=e.text,j=e.children,O=e.synonyms,x=Object(Le.a)(e,["entities","entityTypes","entityRoles","entityGroups","hasChanges","onChangeEntity","onRemoveEntity","onCancel","onClose","onSave","hidePopover","showPopover","text","children","synonyms"]);return a.useEffect((function(){return function(){u()}}),[]),f?Object(s.jsx)(s.Fragment,{children:j}):Object(s.jsx)(yn,Object(Ce.a)(Object(Ce.a)({zIndex:111,content:Object(s.jsxs)(Fe.Flex,{p:5,flexDirection:"column",alignItems:"start",width:920,style:{textAlign:"left"},children:[Object(s.jsx)(ca,{entities:t,entityTypes:n,entityRoles:r,entityGroups:o,onChangeEntity:i,onRemoveEntity:l,text:h,synonyms:O}),Object(s.jsxs)(Fe.Flex,{flexDirection:"row-reverse",alignSelf:"end",width:1,mt:3,children:[Object(s.jsx)(_.a,{ml:2,large:!0,disabled:!c,variant:"primary",onClick:function(){b(),d()},children:"Apply"}),Object(s.jsx)(_.a,{large:!0,variant:"secondary",onClick:function(){return u()},children:"Cancel"})]})]}),visible:p,placement:"top",arrow:!0,offset:[0,24],title:Object(s.jsx)(R.a,{variant:"h2",children:"Annotate Entities"}),hideCloseIcon:!1,disabled:f,onClickOutside:function(){},onClose:function(){return u()}},x),{},{children:j}))})),sa=n(2055),la=n(540),ua=n(345),da=n(252),ba=function(e,t){e.findStyleRanges((function(e){return e.getStyle().size>0}),t)},fa=function(e,t){return"".concat(e.entity,"/").concat(t,"/").concat(e.start)},pa=function(e){var t=(e||"").split("/"),n=Object(Se.a)(t,2),r=n[0],a=n[1];return{entityType:r,entityTypeIndex:a?parseInt(a):0}},ha=function(e){var t,n=function(e){return e.map((function(e){var t,n=e.entityTypeIndex;return new la.a((t=Zn(n),"#".concat(t)))})).reduce((function(e,t){return e?e.mix(t):t})).toHexString()}(e.toArray().map(pa)),r=(t=n,Object(da.c)(.75,t));return{bg:r,borderColor:n,color:function(e){return Object(sa.a)(e,[le.colours.neutral_0,le.colours.neutral_8]).toHexString()}(r)}},ja=function(e){var t=e.children,n=e.disabled,r=e.contentState,a=e.start,o=e.isPopupShown,c=e.onMarkClick,i=r.getBlocksAsArray(),l=Object(Se.a)(i,1)[0].getInlineStyleAt(a),u=ha(l),d=u.bg,b=u.borderColor,f=u.color,p=k(function(e){var t=e.toArray().map(pa),n=Array.from(new Set(t.map((function(e){return e.entityType})))),r=Object(s.jsx)(O.d,{ml:1,sx:{display:"inline-flex",fontWeight:700},children:n.join(", ")});return Object(s.jsxs)(O.d,{children:[n.length>1?"Edit entities ":"Edit entity ",r]})}(l),{placement:"top",disabled:n||o});return Object(s.jsx)(Fe.Text,{as:"span",ref:p,sx:{bg:d,color:f,cursor:n?"inherit":"pointer",borderBottom:"4px solid ".concat(b),borderRadius:2,px:"2px",py:"1px"},onClick:c,children:t})},Oa=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDEC0-\uDEEB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])+\x08*/g,xa=function(e,t){var n,r=e.getText().matchAll(Oa),a=Object(_t.a)(r);try{for(a.s();!(n=a.n()).done;){var o=n.value;Object(qt.a)(o.index)&&t(o.index,o.index+o[0].length)}}catch(c){a.e(c)}finally{a.f()}},va=function(e){var t=e.start,n=e.end,r=e.decoratedText,a=e.children,o=e.isMouseDown,c=e.disabled,i=e.onTokenClick;return Object(s.jsx)(Fe.Text,{as:"span",onClick:function(){i&&i(r,t,n)},sx:{height:"20px",borderRadius:"2px",p:"2px",m:"-2px","&:hover":o||c?{}:{bg:"neutral_4"},"&:active":{bg:"transparent"}},children:a})},ga=function(e,t,n,r){return ua.EditorState.createWithContent(Object(ua.convertFromRaw)({blocks:[{key:"key",type:"unstyled",text:e,depth:0,inlineStyleRanges:t.map((function(e){var t=n.indexOf(e.entity),r=n.length;return{style:fa(e,-1===t?r:t),offset:e.start,length:e.end-e.start}})),entityRanges:[]}],entityMap:{}}),function(e){return new ua.CompositeDecorator([{strategy:ba,component:ja,props:e},{strategy:xa,component:va,props:e}])}(r))},ma=function(e){return[e.getCurrentContent().getPlainText(),Object(ua.convertToRaw)(e.getCurrentContent()).blocks.reduce((function(e,t){return[].concat(Object(ye.a)(e),Object(ye.a)(t.inlineStyleRanges.map((function(e){var n=e.style.indexOf("/"),r=e.style.lastIndexOf("/");return{start:e.offset,end:e.offset+e.length,entity:e.style.substring(0,n),id:e.style.substring(r),value:t.text.substr(e.offset,e.length)}}))))}),[])]},ya=function(e,t){var n=e.getSelection(),r=n.getStartOffset(),a=n.getEndOffset();return r!==a&&!t.some((function(e){return t=r,n=a,o=e.start,c=e.end,Math.max(t,o)<Math.min(n,c);var t,n,o,c}))},Ca=a.forwardRef((function(e,t){var n=e.entities,r=e.entityTypes,o=e.onChange,c=e.onClick,i=e.onEntityAdded,l=e.text,u=e.isPopupShown,d=e.disabled,b=void 0!==d&&d,f=a.useState(!1),p=Object(Se.a)(f,2),h=p[0],j=p[1],O=Object(we.f)(h),x=Object(we.f)(u),v=a.useCallback((function(e,t,a){var c=function(e,t,n,r){return{id:Yr()(),start:t,end:n,value:e,entity:r}}(e,t,a,r[0]);o(l,[].concat(Object(ye.a)(n),[c])),i&&i()}),[l,r,n,o,i]),g=a.useCallback((function(e,t,n){v(e,t,n)}),[v]),m=a.useCallback((function(){return ga(l,n,r,{disabled:b,onMarkClick:i,onTokenClick:g,isMouseDown:h,isPopupShown:u})}),[l,n,b,i,g,r,h,u]),y=a.useState(m()),C=Object(Se.a)(y,2),S=C[0],w=C[1],E=Object(we.f)(n),k=a.useMemo((function(){return!tr()(n,E)}),[n,E]);a.useEffect((function(){var e=ma(S),t=Object(Se.a)(e,2),r=t[0],a=t[1];if(l!==r||n.length!==a.length||k||O!==h){var o=m();w(o)}}),[l,n,k,S,w,m,O,h,x,u]);var T=a.useCallback((function(){var e=S.getSelection(),t=e.getStartOffset(),n=e.getEndOffset(),r=ma(S),a=Object(Se.a)(r,1)[0];v(a.substring(t,n),t,n)}),[S,v]);a.useEffect((function(){ya(S,n)&&T()}),[S,n,T]);return Object(s.jsx)(Fe.Box,{sx:{width:"100%"},onClick:c,ref:t,onMouseDown:function(e){j(!0),e.detail>1&&e.preventDefault()},onMouseUp:function(){return j(!1)},children:Object(s.jsx)(ua.Editor,{editorState:S,onChange:function(e){return w(e)},blockStyleFn:function(){return"defaultEditorStyles"},keyBindingFn:function(){return"not-handled-command"},readOnly:b})})})),Sa=function(e){return e.length>160},wa=function(e){return e.substring(0,160)+"..."};function Ea(e){var t=e.entityTypes,n=e.entityRoles,r=e.entityGroups,o=e.entities,c=e.onChange,i=e.collapsed,l=e.onCollapse,u=e.interactive,d=e.setShowPopup,b=e.showPopup,f=e.synonyms,p=e.text,h=a.useState(""),j=Object(Se.a)(h,2),x=j[0],v=j[1],g=a.useState(p),m=Object(Se.a)(g,2),y=m[0],C=m[1],S=a.useState(o),w=Object(Se.a)(S,2),E=w[0],k=w[1],T=a.useMemo((function(){return!Ut()(o,E)}),[E,o]),A=a.useState(!1),D=Object(Se.a)(A,2),R=D[0],F=D[1];a.useEffect((function(){R&&(R&&d(!0),F(!1))}),[R,d]),a.useEffect((function(){return F(b)}),[b]),a.useEffect((function(){return k(o)}),[o]);var I=a.useCallback((function(){T&&(C(p),k(o))}),[T,o,p]),L=Sa(p);a.useEffect((function(){var e=p||"";L&&i&&(e=wa(e)),v(e)}),[L,i,v,p]);var N=a.useCallback((function(e){var t=function(e,t){return e.map((function(e){return zr(e,t)?t:e}))}(E,e);k(t)}),[E]),U=a.useCallback((function(e){var t=function(e,t){return e.filter((function(e){return!zr(e,t)}))}(E,e);k(t)}),[E]),B=a.useCallback((function(){return d(!1)}),[d]),M=a.useMemo((function(){return Object(s.jsx)(Ca,{entities:E,entityTypes:t,onChange:function(e,t){l(!1),C(e),k(t)},text:x,onEntityAdded:function(){return F(!0)},onClick:function(){l(!1),E.length>0&&F(!0)},isPopupShown:b,disabled:!u})}),[E,x,t,b,u,l]),P=a.useMemo((function(){return Object(s.jsx)(Ca,{entities:E,entityTypes:t,onChange:function(e,t){},text:x,disabled:!0,isPopupShown:b})}),[E,t,x,b]);return u||b||T?Object(s.jsx)(ia,{hidePopover:!u||!b,text:y,entities:E,entityTypes:t,entityRoles:n,entityGroups:r,hasChanges:T,onChangeEntity:N,onCancel:function(){B(),I()},onClose:function(){return B()},onSave:function(){return c(y,E)},onRemoveEntity:U,showPopover:b,synonyms:f,containerStyle:{width:"100%"},children:Object(s.jsxs)(O.d,{sx:{flexDirection:"column",alignItems:"flex-start"},children:[M,L&&Object(s.jsxs)(_.a,{paddingTop:2,alignSelf:"flex-start",variant:"link",onClick:function(){return l(!i)},children:["See ",i?"more":"less"]})]})}):P}function ka(e){var t=e.onShowAnnotationPopup,n=e.suggestion,r=e.onChange,o=e.onFetchSynonymByMappedValue,c=e.showEntityPopup,i=Object(Le.a)(e,["onShowAnnotationPopup","suggestion","onChange","onFetchSynonymByMappedValue","showEntityPopup"]),l=a.useCallback((function(e,t){return r(Object(Ce.a)(Object(Ce.a)({},n),{},{user_input:Object(Ce.a)(Object(Ce.a)({},n.user_input),{},{text:e,entities:t})}))}),[n,r]),u=a.useCallback((function(e){t(e),e&&!c&&n.user_input.entities.length>0&&o({suggestionId:n.id,entities:n.user_input.entities})}),[o,t,c,n.id,n.user_input.entities]);return Object(s.jsx)(Ea,Object(Ce.a)({setShowPopup:u,text:n.user_input.text,entities:n.user_input.entities,onChange:l,showPopup:c},i))}var Ta=n(236),Aa=n(100),_a=Object(l.default)(Ne.a).withConfig({displayName:"Dropdown__Tooltip",componentId:"sc-1mdiyw5-0"})([""," "," max-width:max-content !important;box-shadow:0 2px 8px 0 rgba(116,118,123,0.31) !important;"],Qe.border,Qe.color),Da=Object(l.default)(Fe.Flex).withConfig({displayName:"Dropdown__Option",componentId:"sc-1mdiyw5-1"})(["text-align:left;cursor:pointer;transition:all ease 0.15s;",""],Aa.d);function Ra(e){var t=e.children,n=e.options,r=e.onClose,o=e.clearDateRangeInputs,c=e.onClickOutside,i=e.width,l=Object(Le.a)(e,["children","options","onClose","clearDateRangeInputs","onClickOutside","width"]),u=a.useMemo((function(){return Object(s.jsx)(Fe.Box,{as:"ul",style:{listStyle:"none"},width:i||348,p:0,my:2,children:n.map((function(e,t){var n=e.label,a=e.action,c=e.customLabel;return c?Object(s.jsx)(Da,{as:"li",sx:{marginTop:"8px"},onClick:function(){a&&(a(),r(),o&&o())},children:c(r)},t):Object(s.jsx)(Da,{bgHover:"neutral_1",as:"li",onClick:function(){a&&a(),r(),o&&o()},children:Object(s.jsx)(x.a,{width:1,as:"div",variant:"bodySecondary",lineHeight:"48px",px:4,children:n})},t)}))})}),[n,r,o,i]);return Object(s.jsx)(_a,Object(Ce.a)(Object(Ce.a)({content:u,borderRadius:"normal",bg:"neutral_0",onClickOutside:c||r},l),{},{children:Object(s.jsx)(Fe.Box,{children:t})}))}Ra.defaultProps={animation:"shift-away",placement:"bottom-end",offset:[0,8],interactive:!0,role:"dropdown",arrow:!1,appendTo:document.body};var Fa=function(e,t,n){return e?null===n?t:n:null};function Ia(e){var t=e.entities,n=e.interactive,r=e.onChange,o=e.onShowAnnotationPopup,c=e.text,i=a.useState(c),l=Object(Se.a)(i,2),u=l[0],d=l[1],b=a.useState(!1),f=Object(Se.a)(b,2),p=f[0],h=f[1],j=a.useState(!1),O=Object(Se.a)(j,2),x=O[0],v=O[1],g=a.useCallback((function(){return d(c)}),[c]),m=t.length>0,y=a.useMemo((function(){return t.map((function(e){return e.value})).join(", ")}),[t]),C=c!==u,S=a.useCallback((function(){r(u,[]),v(!1)}),[u,r]),w=a.useCallback((function(){v(!1),g()}),[g]),E=a.useMemo((function(){return Object(s.jsxs)(Fe.Box,{width:512,children:[m&&Object(s.jsxs)(xt,{mx:0,mt:0,variant:"warning",children:["Editing this message will remove entity annotations for: ",y]}),Object(s.jsx)(pt.a,{value:u,onChangeValue:function(e){return d(e)},fullWidth:!0})]})}),[y,m,u]),k=a.useMemo((function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(_.a,{large:!0,disabled:!C,onClick:S,variant:"primary",children:m?"Remove entities and apply":"Apply"}),Object(s.jsx)(_.a,{large:!0,mr:1,onClick:w,variant:"secondary",children:"Cancel"})]})}),[C,m,S,w]),T=H(E,{header:"Edit message",footer:k,closeOnClickOutside:!1,closeOnEscape:!1,showCloseButton:!1,variant:"transparentBg"}),A=Object(Se.a)(T,2)[1];return a.useEffect((function(){A((function(){return x}))}),[A,x]),n||p?Object(s.jsx)(Ra,{animation:"shift-toward",offset:[0,0],options:[{label:"Edit entities",action:function(){return o(!0)}},{label:"Edit message",action:function(){A(!0),v(!0)}}],onClose:function(){return h(!1)},visible:p,width:240,children:Object(s.jsx)(_.a,{hover:p,onClick:function(){return h((function(e){return!e}))},variant:"icon",children:Object(s.jsx)(F.a,{icon:Ta.faEdit})})}):null}var La=a.memo(Ia);function Na(e){var t=e.collapsed,n=e.onCollapse,r=e.entityTypes,a=e.entityRoles,o=e.entityGroups,c=e.interactive,i=e.selected,l=e.showEdit,u=e.showEntityPopup,d=e.onShowAnnotationPopup,b=e.suggestion,f=e.synonyms,p=e.onChange,h=e.onChangeSelected,j=e.onFetchSynonymByMappedValue,O=k("Click words or select text to edit entities",{placement:"top",disabled:!c||u});return b?Object(s.jsxs)(Fe.Flex,{sx:{flexGrow:1,alignItems:"flex-start",justifyContent:"space-between"},children:[Object(s.jsx)(Fe.Box,{as:"label",py:"12px",sx:{flexShrink:0,width:32},children:Object(s.jsx)(on.a,{checked:i,onChange:function(e){return h("shiftKey"in e&&e.shiftKey)}})}),Object(s.jsx)(Fe.Box,{py:"".concat(8,"px"),sx:{flexGrow:1},ref:O,children:Object(s.jsx)(Wr,{children:Object(s.jsx)(ka,{showEntityPopup:u,suggestion:b,onChange:p,onShowAnnotationPopup:d,entityTypes:r,entityRoles:a,entityGroups:o,interactive:c,synonyms:f,onFetchSynonymByMappedValue:j,collapsed:t,onCollapse:n})})}),Object(s.jsx)(Fe.Box,{mx:"".concat(16,"px"),sx:{flexShrink:0,width:40},children:l&&Object(s.jsx)(La,{entities:b.user_input.entities,interactive:l,onChange:function(e,t){return p(Object(Ce.a)(Object(Ce.a)({},b),{},{user_input:Object(Ce.a)(Object(Ce.a)({},b.user_input),{},{text:e,entities:t})}))},onShowAnnotationPopup:d,text:b.user_input.text})})]}):null}var Ua=a.memo(Na),Ba=function(e){return Object(s.jsx)(O.d,Object(Ce.a)({py:"".concat(12,"px")},e))};function Ma(e){var t=e.emptyTablePlaceholder,n=e.entityTypes,r=e.entityRoles,o=e.entityGroups,c=e.fetchSynonym,i=e.highlightedRow,l=e.setHighlightedRow,u=e.intents,d=e.items,b=e.loadingInboxItems,f=e.loadMore,p=e.onTagChange,h=e.onTagCreation,j=e.acceptInboxItem,O=e.deleteInboxItem,x=e.updateInboxItem,v=e.updateIntent,g=e.updateItemSelection,m=e.selectedItemsIndices,y=e.synonyms,C=e.total,S=Object(we.e)(Et.d.Examples,Et.a.Create),w=Object(we.e)(Et.d.Logs,Et.a.Delete),E=Lr(),k=E.expandedRows,T=E.getOnCollapseRow,A=a.useState(null),_=Object(Se.a)(A,2),D=_[0],R=_[1],F=null!==D,I=Object(we.n)(200),L=Object(Se.a)(I,2),N=L[0],U=L[1],B=Object(we.n)(200),M=Object(Se.a)(B,2),P=M[0],H=M[1],q=Object(we.n)(200),G=Object(Se.a)(q,2),W=G[0],V=G[1],Y=(N?"correct":W&&"context")||P&&"delete"||void 0;Object(Ir.a)("j",(function(){return!F&&l((function(e){return Math.min(e+1,d.length)}))}),[d,F]),Object(Ir.a)("k",(function(){return!F&&l((function(e){return Math.max(e-1,0)}))}),[F]),Object(Ir.a)("s",(function(){return!F&&U((function(){return j(d[i])}))}),[U,j,F,d,i]),Object(Ir.a)("d",(function(){return!F&&H((function(){return O(d[i])}))}),[H,O,F,d,i]),Object(Ir.a)("c",(function(){return!F&&V((function(){var e=d[i];e.conversation_id&&e.event_id&&Object(rr.c)("/conversations/".concat(e.conversation_id,"#").concat(e.event_id))}))}),[V,O,F,d,i]);var z=a.useMemo((function(){return{highlightAction:Y,selectedItemsIndices:m}}),[Y,m]),K=a.useCallback((function(e,t){var n=Fa(e,t,D);R(n)}),[D]),Q=a.useCallback((function(e){F||l(e)}),[F,l]),X=de(),J=X.sentenceEditor.lineHeight,Z=a.useCallback((function(e,t){var a=t.index,i=t.highlighted,l=t.hovered,u=t.isScrolling,d=t.metadata.selectedItemsIndices,b=F&&D!==a,f=D===a,p=l&&null===D;return Object(s.jsx)(Ba,{children:Object(s.jsx)(Ua,{collapsed:!k[a],entityTypes:n,entityRoles:r,entityGroups:o,showEdit:null===D&&(i||l),interactive:!u&&!b&&(f||p),onShowAnnotationPopup:function(e){return K(e,a)},showEntityPopup:D===a,onChange:x,onChangeSelected:function(e){return g(a,e)},onCollapse:T(a),onFetchSynonymByMappedValue:c,selected:d.includes(a),suggestion:e,synonyms:y})})}),[k,T,n,r,o,D,K,y,x,g,c,F]),$=a.useMemo((function(){return C+2<=d.length&&0!==C?C+2:C}),[d.length,C]);return Object(s.jsxs)(Dr,{emptyStatePlaceholder:t,loading:b,variant:"flattened",rows:d,rowStyle:{alignItems:"flex-start"},highlight:i,setHighlightedRow:Q,total:$,metadata:z,onLoadMore:f,getKey:function(e){return e.id},stripeSelection:!0,rowHeight:function(e){var t=e.index,n=e.size;if(!d[t])return 40+X.sentenceEditor.lineHeight;var r=d[t].user_input.text,a=(n.width-48)/3-104,o=Sa(r),c=!k[t],i=40+function(e,t,n){var r=n.fontConfig||Cr,a=n.wordPx||0,o=n.wordFactor||1,c=Sr(r);if(!c)return 1;for(var i=wr(c," "),s=1,l=0,u=e.split(" "),d=0;d<u.length;){var b=wr(c,u[d])*o+a;(l+=(0===d?0:i)+b)>=t&&(s+=1,l=b),d++}return s}(o&&c?wa(r):r,a,{fontConfig:X.sentenceEditor.canvasFontConfig,wordFactor:1.1,wordPx:1})*X.sentenceEditor.lineHeight;return o?i+J:i},disableExpensiveHeightMeasuring:!0,children:[Object(s.jsx)(Fr,{title:"Sentence",width:"33.333%",children:Z}),Object(s.jsx)(Fr,{title:"Predicted Intent and Confidence",width:"33.333%",children:function(e){return Object(s.jsx)(Ba,{children:Object(s.jsx)(Ur,{suggestion:e,intents:u,onChangeIntent:v},e.id)})}}),Object(s.jsx)(Fr,{width:"33.333%",children:function(e,t){var n=t.highlighted,r=t.hovered,a=t.metadata.highlightAction;return Object(s.jsx)(Ba,{children:Object(s.jsx)(xr,{suggestion:e,highlight:n&&(a||"hover")||void 0,interactive:null===D&&(n||r),onDelete:O,onMarkCorrect:j,onTagChange:p,onTagCreation:h,canCreate:S,canDelete:w})})}})]})}var Pa=a.memo(Ma);function Ha(e){var t=e.children;return Object(s.jsx)(Fe.Flex,{flexDirection:"column",height:"100%",sx:{position:"relative"},children:t})}function qa(e){var t=e.actions,n=e.body,r=e.heading,a=e.image,o=e.imageAlt,c=e.imageWidth,i=void 0===c?220:c,l=Object(Le.a)(e,["actions","body","heading","image","imageAlt","imageWidth"]);return Object(s.jsxs)(Fe.Flex,Object(Ce.a)(Object(Ce.a)({flex:"1 1 auto",color:"neutral_6",flexDirection:"column",justifyContent:"center",alignItems:"center",style:{height:"100%",backgroundColor:"transparent"}},l),{},{children:[Object(s.jsx)(mt,{width:i,src:a,alt:o,mb:4}),Object(s.jsx)(R.a,{variant:"h4",children:r}),Object(s.jsx)(x.a,{as:"div",inheritColor:!0,textAlign:"center",variant:"captionSecondary",lineHeight:"normal",style:{maxWidth:"220px"},p:2,children:n}),t&&Object(s.jsx)(Fe.Box,{mt:3,children:t})]}))}qa.defaultProps={bg:"neutral_0"};var Ga=n(2028),Wa=n(165),Va=Wa.a.filter,Ya={date:{label:"Date",test:function(e){return e.from&&e.from.length>0},transformContent:function(e){var t=Object(Mt.g)(e);return"Custom"===t.label?Object(Mt.d)(fn()(e.from,["YYYY-MM-D","D/M/YYYY"]))+" - "+(e.to?Object(Mt.d)(fn()(e.to,["YYYY-MM-D","D/M/YYYY"])):"Today"):t.label}},intents:{label:"Intents",test:function(e){return e.length>0},transformContent:function(e){return e.join(", ")}},entities:{label:"Entities",test:function(e){return e.length>0},transformContent:function(e){return e.join(", ")}},tags:{label:"Tags",test:function(e){return e.length>0},transformContent:function(e){return e.map((function(e){return e.value})).join(", ")}}},za=a.memo((function(e){var t=e.filter,n=e.onChange,r=Object.keys(Ya).filter((function(e){return Ya[e].test(t[e])}));return 0===r.length?null:Object(s.jsx)(Fe.Flex,{pl:2,alignItems:"center",sx:{minWidth:"auto"},children:r.map((function(e){return Object(s.jsx)(Fe.Box,{children:Object(s.jsx)(Ga.a,{label:Ya[e].label,content:Ya[e].transformContent(t[e]),active:!0,onChange:function(){return n(Object(Ce.a)(Object(Ce.a)({},t),{},{[e]:Va[e]}))}})},e)}))})})),Ka=n(522),Qa=n(323);function Xa(e){var t=e.sortBy,n=e.sortOrder,r=e.updateSorting,a=e.onClick,o=Object(we.o)(!1),c=Object(Se.a)(o,2),i=c[0],l=c[1],u=function(e,t,n){return Object(s.jsxs)(Fe.Flex,{width:"100%",alignItems:"center",sx:{"&:hover":{bg:"neutral_1"}},children:[Object(s.jsx)(Fe.Box,{ml:4,width:"13px",children:t&&Object(s.jsx)(F.a,{icon:Qa.faCheck,color:"primary_2",width:"13px"})}),Object(s.jsxs)(x.a,{width:1,as:"div",variant:"bodySecondary",lineHeight:"48px",pl:3,pr:4,children:[e,n&&Object(s.jsx)(x.a,{as:"span",display:"inline",pl:1,color:"neutral_6",children:"(default)"})]})]})},d=[{label:"Sort by:",customLabel:function(e){return Object(s.jsx)(x.a,{width:1,as:"div",variant:"bodySecondary",fontWeight:"bold",sx:{cursor:"auto"},lineHeight:"48px",px:4,children:"Sort by:"})}},{label:"Newest first",action:function(){r("time","desc")},customLabel:function(e){return u("Newest first","time"===t&&"desc"===n,!0)}},{label:"Oldest first",action:function(){r("time","asc")},customLabel:function(e){return u("Oldest first","time"===t&&"asc"===n)}},{label:"Confidence - low to high",action:function(){r("confidence","asc")},customLabel:function(e){return u("Confidence - low to high","confidence"===t&&"asc"===n)}},{label:"Confidence - high to low",action:function(){r("confidence","desc")},customLabel:function(e){return u("Confidence - high to low","confidence"===t&&"desc"===n)}}];return Object(s.jsx)(Ra,{animation:"shift-toward",offset:[0,-8],options:d,onClose:l,visible:i,children:Object(s.jsx)(_.a,{variant:"headerIcon",onClick:function(){l(),a&&a()},active:i,children:Object(s.jsx)(F.a,{icon:Ka.faSortAmountDown})})})}var Ja=a.memo(Xa),Za=n.p+"static/media/conversations_placeholder.bae2510e.svg",$a={fetchInboxItems:Pt.e.request,fetchDataTags:Pt.d.request,fetchEntityTypes:Bt.f.request,fetchIntents:Bt.i.request,fetchSynonyms:zt.b.request,fetchSynonym:Pt.g.request,matchEmptyTags:Pt.i,updateInboxItem:Pt.a,acceptWorkspaceItem:Pt.j.request,acceptInboxItem:Bt.m.request,deleteInboxItem:Pt.c.request,saveSuggestionTags:Pt.m.request,removeSuggestionTag:Pt.k.request};var eo=Object(pe.b)((function(e){var t;return{items:e.suggestions.suggestions,intents:e.examples.intents,entityTypes:e.examples.entityTypes,suggestionsEntityTypes:Yt(e.suggestions),entityRoles:Wt(e.suggestions),entityGroups:Vt(e.suggestions),filter:e.suggestions.filter,filterPresentOnLoad:e.suggestions.filterPresentOnLoad,initialFetchComplete:e.suggestions.initialFetchComplete,loading:e.suggestions.loading,synonyms:e.synonyms.synonyms,tags:e.suggestions.tags,totalFetched:e.suggestions.totalFetched,searchQuery:e.suggestions.searchQuery,workspace_id:null===(t=e.workspaces.activeWorkspace)||void 0===t?void 0:t.id}}),$a)((function(e){var t=e.fetchInboxItems,n=e.fetchDataTags,r=e.fetchEntityTypes,o=e.fetchIntents,c=e.fetchSynonyms,i=e.fetchSynonym,l=e.matchEmptyTags,u=e.updateInboxItem,d=e.acceptWorkspaceItem,b=e.acceptInboxItem,f=e.deleteInboxItem,p=e.saveSuggestionTags,h=e.removeSuggestionTag,j=e.items,O=e.intents,x=e.entityTypes,v=e.entityRoles,g=e.entityGroups,m=e.filter,y=e.filterPresentOnLoad,C=e.initialFetchComplete,S=e.loading,w=e.synonyms,E=e.tags,k=e.totalFetched,T=e.searchQuery,A=e.workspace_id,D=e.suggestionsEntityTypes,R=a.useState("time"),I=Object(Se.a)(R,2),L=I[0],N=I[1],U=a.useState("desc"),B=Object(Se.a)(U,2),M=B[0],P=B[1],H=Object(he.h)().pathname,q=Object(we.f)(H),G=a.useMemo((function(){return[].concat(Object(ye.a)(x),Object(ye.a)(D))}),[x,D]),W=a.useCallback((function(e){if(e){var t=Array.isArray(e)?e:[e];false,b(t)}}),[b,d,A,false]),V=a.useCallback((function(e){e&&f(e)}),[f]),Y=a.useState(T),z=Object(Se.a)(Y,2),K=z[0],Q=z[1],X=a.useState(m),J=Object(Se.a)(X,2),Z=J[0],$=J[1],ee=a.useMemo((function(){return m.tags.filter((function(e){return 0===e.color.length||0===e.value.length})).length}),[m.tags]);a.useEffect((function(){!ee&&E.length>0&&$(m)}),[m,ee,E.length]),a.useEffect((function(){ee&&E.length>0&&l()}),[ee,l,E]),Object(we.a)((function(){var e=0===j.length&&!C,n=H!==q,r=K!==T,a=!Ut()(m,Z);(e||n||r||a||y)&&t({search:K,filter:Z,offset:0,limit:50,sortBy:L,sortOrder:M})}),200,[Z,y,T,K,L,M]);var te=a.useCallback((function(e){S||t({search:T,filter:m,offset:Math.max(1,e-50),limit:e,sortBy:L,sortOrder:M})}),[t,S,m,T,L,M]);a.useEffect((function(){r()}),[r]),a.useEffect((function(){o()}),[o]),a.useEffect((function(){c({search:""})}),[c]),a.useEffect((function(){n()}),[n]);var ne=a.useCallback((function(e,t){return u(Object(Ce.a)(Object(Ce.a)({},e),{},{user_input:Object(Ce.a)(Object(Ce.a)({},e.user_input),{},{intent:t})}))}),[u]),re=Object(we.i)(j),ae=re.updateItemSelection,oe=re.clearItemSelection,ce=re.idArray,ie=re.selectedItems,se=re.selectedItemsIndices,le=re.mapOverSelectedItemsWithCallback,ue=a.useMemo((function(){var e=null;if(0!==ie.size){var t,n=Object(_t.a)(ie);try{for(n.s();!(t=n.n()).done;){var r,a=t.value,o=null===(r=j[ce.indexOf(a)])||void 0===r?void 0:r.user_input.intent.name;if(null===e)e=o;else if(o!==e)return null}}catch(c){n.e(c)}finally{n.f()}}return e}),[ie,ce,j]),de=se.length>0,be=Object(we.o)(!1),fe=Object(Se.a)(be,2),pe=fe[0],je=fe[1],Oe=a.useCallback((function(e,t){t&&p({tags:[e],suggestionId:t.id})}),[p]),xe=a.useCallback((function(e,t,n){t?n&&p({tags:[e],suggestionId:n.id}):n&&h({suggestionId:n.id,tag:e})}),[h,p]),ve=a.useCallback((function(e){se.forEach((function(t){p({tags:[e],suggestionId:j[t].id})}))}),[j,p,se]),ge=a.useCallback((function(e){se.forEach((function(t){h({suggestionId:j[t].id,tag:e})}))}),[j,h,se]),me=a.useCallback((function(e,t){t?ve(e):ge(e)}),[ve,ge]),Ee=a.useCallback((function(e){se.forEach((function(t){ne(j[t],e)}))}),[se,j,ne]),ke=a.useMemo((function(){var e=se.map((function(e){var t;return null===(t=j[e])||void 0===t?void 0:t.tags})).filter(qt.a);return e.length>0?e.reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))})):[]}),[j,se]),Te=a.useCallback((function(e){return"Search ".concat(e," items")}),[]),Ae=a.useCallback((function(e){$(e)}),[$]),_e=a.useState(0),De=Object(Se.a)(_e,2),Re=De[0],Ie=De[1],Le=a.useMemo((function(){return K.length>0||!Object(Mt.h)(m)}),[m,K.length]),Ne=a.useMemo((function(){return j.some((function(e){return e.isDirty}))}),[j]);Qt({hasChanges:Ne});var Ue=Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(_.a,{variant:"headerIcon",onClick:je,active:pe,children:Object(s.jsx)(F.a,{icon:Dt.faSlidersH})}),Object(s.jsx)(Un,{filter:Z,expanded:pe,offset:[-4,-4],onApply:function(e){"Suggestion"===e.type&&Ae(e),pe&&je()},onCancel:function(){pe&&je()}})]}),Be=Object(s.jsx)(Ja,{sortBy:L,sortOrder:M,updateSorting:function(e,n){N(e),P(n),Ie(0),t({search:K,filter:Z,offset:0,limit:50,sortBy:e,sortOrder:n})},onClick:function(){return pe&&je()}}),Me=Object(s.jsx)(za,{filter:Z,onChange:function(e){Ae(e)}});return Object(s.jsx)(Ha,{children:Object(s.jsxs)(Fe.Box,{sx:{minWidth:"790px",width:"100%",height:"calc(100% - 56px)"},children:[Object(s.jsx)(Fe.Flex,{width:"100%",sx:{backgroundColor:"white",borderTopLeftRadius:"16px",borderTopRightRadius:"16px"},children:Object(s.jsx)(Lt,{buttons:[Be,Ue],count:j.length,filterTablets:Me,query:K,label:Te,onChange:Q,loading:S&&K.length>0})}),de&&Object(s.jsx)(vr,{intent:ue,total:se.length,onClearSelection:oe,onDelete:function(){return le(V)},onTagChange:me,onTagCreation:ve,onMarkCorrect:function(){return le(W)},onChangeIntent:Ee,intents:O,bulkSelectedTags:ke}),Object(s.jsx)(Pa,{emptyTablePlaceholder:Object(s.jsx)(qa,{heading:Le?"No results for this search":"You have no messages yet",image:Za,body:Le?"You could try shortening or changing your search query or filters.":"When users talk to your assistant, their messages will show up here"}),entityTypes:G,entityRoles:v,entityGroups:g,fetchSynonym:i,highlightedRow:Re,setHighlightedRow:Ie,intents:O,items:j,total:k,loadingInboxItems:!C||S&&!C,loadMore:te,onTagChange:xe,onTagCreation:Oe,acceptInboxItem:W,deleteInboxItem:V,updateInboxItem:u,updateIntent:ne,updateItemSelection:ae,selectedItemsIndices:se,synonyms:w})]})})}));function to(e){return Object(s.jsx)(At.a,{title:"NLU Inbox",noPadding:!0,children:Object(s.jsx)(Fe.Box,{height:"100%",width:"100%",px:7,pt:10,children:Object(s.jsx)(eo,{})})})}var no=n(38),ro=n(996),ao=n.n(ro),oo=Wa.a.filter,co={intents:{label:"Intents",test:function(e){return e.length>0},transformContent:function(e){return e.join(", ")}}},io=a.memo((function(e){var t=e.filter,n=e.onChange,r=Object.keys(co).filter((function(e){return co[e].test(t[e])}));return 0===r.length?null:Object(s.jsx)(Fe.Flex,{pl:2,alignItems:"center",sx:{minWidth:"auto"},children:r.map((function(e){return Object(s.jsx)(Fe.Box,{children:Object(s.jsx)(Ga.a,{label:co[e].label,content:co[e].transformContent(t[e]),active:!0,onChange:function(){return n(Object(Ce.a)(Object(Ce.a)({},t),{},{[e]:oo[e]}))}})},e)}))})})),so=function(e){return e.confidence&&Object(s.jsxs)(x.a,{sx:{whiteSpace:"nowrap"},mx:1,display:"inline-block",variant:"bodySecondary",color:"neutral_6",children:["(",e.confidence,")"]})},lo=a.memo((function(e){var t=e.intent,n=e.intents,r=e.onChange,o=e.predictedIntent,c=e.rankedIntents,i=void 0===c?[]:c,l=e.variant,u=Object(Le.a)(e,["intent","intents","onChange","predictedIntent","rankedIntents","variant"]),d=a.useState(!1),b=Object(Se.a)(d,2),f=b[0],p=b[1],h=a.useMemo((function(){if(!i||0===i.length)return n.map((function(e){return{value:e,label:e,data:{name:e}}}));var e=n.map((function(e){return{name:e}})),t=i.map((function(e){return Object(Ce.a)(Object(Ce.a)({},e),{},{confidence:e.confidence||0})})).sort((function(e,t){return Number(t.confidence)-Number(e.confidence)})).map((function(e){return Object(Ce.a)(Object(Ce.a)({},e),{},{confidence:Number(e.confidence)})}));return Hn()(t.concat(e),"name").map((function(e){return{value:e.name,label:e.name,confidence:e.confidence?(t=e.confidence,Number(t)<.01?"< 0.01":Number(t).toPrecision(2)):void 0,data:e};var t})).filter((function(e){return null!==e.value}))}),[i,n]),j=a.useMemo((function(){return null===t?null:h.find((function(e){return e.value===t}))||{value:t,label:t,data:{name:t}}}),[t,h]),O=a.useCallback((function(e){return e&&r(e.data||{name:e.value})}),[r]),v=a.useState(j),g=Object(Se.a)(v,2),m=g[0],y=g[1],C=Object(we.f)(f);a.useEffect((function(){f&&!C&&y(j)}),[f,j,C]);var S=a.useState(""),w=Object(Se.a)(S,2),E=w[0],k=w[1];return Object(we.a)((function(){""!==E&&E!==t&&O({value:E})}),200,[O,E]),f?Object(s.jsx)(pt.a,{block:u.block,px:2,autoFocus:!0,onChangeValue:k,value:E,fullWidth:u.fullWidth,variant:l,suffix:Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(_.a,{fontSize:"12px",onClick:function(){k(""),O(m),p(!1)},ml:3,variant:"inverse"===l?"plain":"plainDropdown",children:Object(s.jsx)(F.a,{icon:A.faTimes})})})}):Object(s.jsx)(cn.a,Object(Ce.a)({renderItem:function(e,t){return function(e,t,n){return e.confidence?Object(s.jsxs)(Fe.Flex,{children:[Object(s.jsx)(x.a,{display:"inline-block",title:t,variant:"bodySecondary",children:t}),so(e),e.value===n&&Object(s.jsx)(x.a,{ml:1,display:"inline-block",marginLeft:"auto",variant:"bodySecondary",color:"neutral_6",children:"predicted intent"})]}):t}(e,t,o||null)},onChange:O,createNewText:"Create new intent",items:h,value:j&&j.value.length?j:null,variant:l},u))})),uo=n(997),bo=n(523);function fo(e){var t=e.variant,n=e.hover,r=e.onMoveToWorkspace,o=Object(pe.d)((function(e){return e.workspaces})),c=o.workspaces,i=void 0===c?[]:c,l=o.activeWorkspace,u=a.useState(!1),d=Object(Se.a)(u,2),b=d[0],f=d[1],p=a.useMemo((function(){return i.filter((function(e){return e.id!==(null===l||void 0===l?void 0:l.id)})).map((function(e){return{label:Object(s.jsx)("span",{"data-testid":"moveToWorkspaceDropdownItem".concat(e.name),children:e.name}),action:function(){return e.id&&r(e.id)}}}))}),[i,r,l]);return Object(s.jsx)(Ra,{options:p,onClose:function(){return f(!1)},visible:b,children:Object(s.jsx)(_.a,{mx:1,variant:t,onClick:function(){return f(!b)},hover:n,children:Object(s.jsx)(F.a,{icon:bo.faFolders})})})}function po(e){var t=e.tags,n=e.onAddTag,r=e.onRemoveTag,o=Object(we.o)(!1),c=Object(Se.a)(o,2),i=c[0],l=c[1],u=a.useCallback((function(e,t){t?n(e):r(e)}),[n,r]);return Object(s.jsx)(yn,{visible:i,popupWidth:"320px",content:Object(s.jsx)(jr,{onCreate:n,onTagChange:u,selectedTags:t}),borderRadius:"normal",onClose:l,children:Object(s.jsx)(Qn.a,{content:"View tags",children:Object(s.jsx)(_.a,{mx:1,onClick:l,variant:"icon",children:Object(s.jsx)(F.a,{icon:zn.faTags})})})})}function ho(e){var t=e.buttonVariant,n=void 0===t?"icon":t,r=e.highlight,a=e.context,o=e.tags,c=(e.workspaceId,e.onAddTag),i=e.onRemoveTag,l=e.onDiscardDrafts,u=e.onMoveToWorkspace,d=Object(we.b)(),b="context"===r,f="delete"===r,p="workspace"===r,h=Object(pe.d)((function(e){return e.projects.tags})).filter((function(e){return o.includes(e.id)}));return Object(s.jsx)("div",{className:"inbox-table",children:Object(s.jsxs)(Fe.Flex,{flexDirection:"row-reverse",alignItems:"flex-start",sx:{visibility:r?"visible":"hidden",".table-row:hover &":{visibility:"visible"}},children:[Object(s.jsxs)(Fe.Flex,{width:"100%",flexDirection:"row-reverse",alignItems:"flex-start",children:[l&&Object(s.jsx)(Qn.a,{content:"Discard change",children:Object(s.jsx)(_.a,{mx:1,onClick:l,hover:f,variant:n,children:Object(s.jsx)(F.a,{icon:uo.faTimesCircle})})}),d?Object(s.jsx)(Qn.a,{content:"Move to another workspace",children:Object(s.jsx)(fo,{onMoveToWorkspace:u,hover:p,variant:n})}):Object(s.jsx)(Fe.Box,{height:"1em",width:"1em",p:"1em"}),a?Object(s.jsx)(Qn.a,{content:"View context",children:Object(s.jsx)(_.a,{as:"a",target:"_blank",href:"/conversations/".concat(a.conversation,"#").concat(a.event),rel:"noopener,noreferrer",mx:1,hover:b,variant:n,onClick:function(){},children:Object(s.jsx)(F.a,{icon:Yn.faComments})})}):Object(s.jsx)(Fe.Box,{height:"1em",width:"1em",p:"1em"}),Object(s.jsx)(po,{tags:o,onAddTag:c,onRemoveTag:i})]}),h.length>0&&Object(s.jsx)(Jn,{overflowThreshold:5,tags:h})]})})}var jo=a.memo(ho);function Oo(e){var t=e.intent,n=e.intents,r=e.total,a=e.tags,o=e.workspaceId,c=e.onClearSelection,i=e.onDelete,l=e.onChangeIntent,u=e.moveSelectedItems,d=e.onAddTag,b=e.onRemoveTag;return Object(s.jsxs)(Mn,{label:"log selected",pluralLabel:"logs selected",total:r,onClearSelection:c,children:[Object(s.jsx)(Fe.Box,{width:"50%",children:Object(s.jsx)(Fe.Flex,{width:"100%",alignItems:"flex-start",children:Object(s.jsx)(lo,{intent:t||"Multiple intents selected",onChange:l,intents:n,fullWidth:!0,variant:"inverse"})})}),Object(s.jsx)(Fe.Box,{width:"50%",children:Object(s.jsx)(jo,{tags:a,workspaceId:o,onDiscardDrafts:i,highlight:"hover",onMoveToWorkspace:u,onAddTag:d,onRemoveTag:b})})]})}function xo(e){var t=e.sortBy,n=e.sortOrder,r=e.updateSorting,a=e.onClick,o=Object(we.o)(!1),c=Object(Se.a)(o,2),i=c[0],l=c[1],u=function(e,t,n){return Object(s.jsxs)(Fe.Flex,{width:"100%",alignItems:"center",sx:{"&:hover":{bg:"neutral_1"}},children:[Object(s.jsx)(Fe.Box,{ml:4,width:"13px",children:t&&Object(s.jsx)(F.a,{icon:Qa.faCheck,color:"primary_2",width:"13px"})}),Object(s.jsxs)(x.a,{width:1,as:"div",variant:"bodySecondary",lineHeight:"48px",pl:3,pr:4,children:[e,n&&Object(s.jsx)(x.a,{as:"span",display:"inline",pl:1,color:"neutral_6",children:"(default)"})]})]})},d=[{label:"Sort by:",customLabel:function(e){return Object(s.jsx)(x.a,{width:1,as:"div",variant:"bodySecondary",fontWeight:"bold",sx:{cursor:"auto"},lineHeight:"48px",px:4,children:"Sort by:"})}},{label:"Newest first",action:function(){r("time","desc")},customLabel:function(e){return u("Newest first","time"===t&&"desc"===n,!0)}},{label:"Oldest first",action:function(){r("time","asc")},customLabel:function(e){return u("Oldest first","time"===t&&"asc"===n)}}];return Object(s.jsx)(Ra,{animation:"shift-toward",offset:[0,-8],options:d,onClose:l,visible:i,children:Object(s.jsx)(_.a,{variant:"headerIcon",onClick:function(){l(),a&&a()},active:i,children:Object(s.jsx)(F.a,{icon:Ka.faSortAmountDown})})})}var vo=a.memo(xo);n(612);function go(e){var t=e.collapsed,n=e.onCollapse,r=e.entityTypes,a=e.selected,o=e.draft,c=e.synonyms,i=e.onUpdate,l=e.onChangeSelected,u=k("Click words or select text to edit entities",{placement:"top"});return o?Object(s.jsxs)(Fe.Flex,{sx:{flexGrow:1,alignItems:"flex-start",justifyContent:"space-between"},children:[Object(s.jsx)(Fe.Box,{as:"label",py:"12px",sx:{flexShrink:0,width:"32px"},children:Object(s.jsx)(on.a,{checked:a,onChange:function(e){return l("shiftKey"in e&&e.shiftKey)}})}),Object(s.jsx)(Fe.Box,{py:2,pr:2,sx:{flexGrow:1},ref:u,children:Object(s.jsx)(Wr,{children:Object(s.jsx)(Ea,{text:o.text,entities:o.entities,onChange:function(e,t){return i(Object(Ce.a)(Object(Ce.a)({},o),{},{text:e,entities:t}))},entityTypes:r,synonyms:c,collapsed:t,onCollapse:n,entityRoles:[],entityGroups:[],showPopup:!1,setShowPopup:function(){},interactive:!0})})})]}):null}var mo=a.memo(go);function yo(e){var t=e.entityTypes,n=e.drafts,r=e.intents,o=e.synonyms,c=e.workspace_id,i=e.metadata,l=e.onAddTag,u=e.onRemoveTag,d=e.onUpdateDrafts,b=e.updateItemSelection,f=e.setHighlightedRow,p=e.highlightedRow,h=e.onDelete,j=e.onLoadMoreRows,O=Lr(),x=O.expandedRows,v=O.getOnCollapseRow,g=a.useCallback((function(e,n){var r=n.index,a=n.metadata.selectedItemsIndices;return Object(s.jsx)(Ba,{children:Object(s.jsx)(mo,{collapsed:x[r],entityTypes:t,onUpdate:function(e){return d([e])},onChangeSelected:function(e){return b(r,e)},onCollapse:v(r),selected:a.includes(r),draft:e,synonyms:o})})}),[t,d,o,b,x,v]);if(!c)return Object(s.jsx)(qa,{heading:"No workspace selected.",body:"Please select a workspace.",image:Za});return Object(s.jsxs)(Dr,{variant:"flattened",rows:n,getKey:function(e){return e.id},total:n.length,onLoadMore:j,stripeSelection:!0,metadata:i,highlight:p,setHighlightedRow:f,children:[Object(s.jsx)(Fr,{title:"Sentence",width:"33.333%",children:g}),Object(s.jsx)(Fr,{title:"Intent",width:"33.333%",children:function(e){return Object(s.jsx)(Fe.Flex,{width:"100%",alignItems:"flex-start",children:Object(s.jsx)(Ba,{children:Object(s.jsx)(Wn,{intent:e.intent.selected,rankedIntents:e.intent.predicted,intents:r,onChange:(t=e.id,function(e){return d([{id:t,intent:e.name}])}),onReturn:function(){},onEscape:function(){},fullWidth:!0})})});var t}}),Object(s.jsx)(Fr,{title:"Actions",width:"33.333%",children:function(e,t){var n,r,a=t.highlighted,o=t.metadata.highlightAction;return Object(s.jsx)(Ba,{children:Object(s.jsx)(jo,{highlight:a&&(o||"hover")||void 0,onDiscardDrafts:h,tags:e.tags,context:e.context,workspaceId:e.workspace_id,onAddTag:function(t){return l(e.id,t)},onRemoveTag:function(t){return u(e.id,t)},onMoveToWorkspace:(n=e.id,r="workspace_id",function(e){return d([{id:n,[r]:e}])})},e.id)})}})]})}function Co(e){var t=e.onChangeExample,n=e.onDelete,r=e.onLoadMoreRows,o=e.onAddTag,c=e.onRemoveTag,i=e.onUpdateDrafts,l=e.setSearchQuery,u=e.setSortBy,d=e.setSortOrder,b=e.setFilterSelection,f=e.entityTypes,p=e.examples,h=e.drafts,j=e.intents,O=e.searchQuery,x=e.synonyms,v=e.workspace_id,g=e.sortBy,m=e.sortOrder,y=e.filterSelection,C=a.useState(0),S=Object(Se.a)(C,2),w=S[0],E=S[1],k=Object(we.k)();a.useEffect((function(){k("view:workspace:loaded")}),[k]);var T=Object(he.g)().push,A=Object(we.i)(h),D=A.updateItemSelection,R=A.clearItemSelection,I=A.idArray,L=A.selectedItems,N=A.selectedItemsIndices,U=A.mapOverSelectedItemsWithCallback,B=a.useCallback((function(e){return l(e)}),[l]),M=a.useMemo((function(){return Number.isInteger(O.length)}),[O]),P=Object(we.n)(200),H=Object(Se.a)(P,2),q=H[0],G=H[1],W=q?"delete":void 0;Object(Ir.a)("j",(function(){return E((function(e){return Math.min(e+1,p.length)}))}),[p]),Object(Ir.a)("k",(function(){return E((function(e){return Math.max(e-1,0)}))}),[]),Object(Ir.a)("d",(function(){return G((function(){return n([p[w]])}))}),[G,n,p,w]);var V=a.useMemo((function(){return{highlightAction:W,selectedItemsIndices:N}}),[W,N]),Y=N.length>0,z=a.useMemo((function(){var e=null;if(0!==L.size){var t,n=Object(_t.a)(L);try{for(n.s();!(t=n.n()).done;){var r,a=t.value,o=null===(r=p[I.indexOf(a)])||void 0===r?void 0:r.intent;if(null===e)e=o;else if(o!==e)return null}}catch(c){n.e(c)}finally{n.f()}}return e}),[L,p,I]),K=Object(we.o)(!1),Q=Object(Se.a)(K,2),X=Q[0],J=Q[1],Z=a.useCallback((function(e){return"Search ".concat(e," inbox items")}),[]),$=a.useCallback((function(e){b(e)}),[b]),ee=Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(_.a,{variant:"headerIcon",onClick:J,active:X,children:Object(s.jsx)(F.a,{icon:Dt.faSlidersH})}),Object(s.jsx)(Un,{filter:y,expanded:X,offset:[-4,-4],onApply:function(e){"Workspace"===e.type&&$(e),X&&J()},onCancel:function(){X&&J()}})]}),te=Object(s.jsx)(vo,{sortBy:g,sortOrder:m,updateSorting:function(e,t){e&&u(e),d(t),E(0)},onClick:function(){return X&&J()}}),ne=Object(s.jsx)(io,{filter:y,onChange:function(e){$(e)}}),re=a.useMemo((function(){return ao.a.apply(void 0,Object(ye.a)(Array.from(N).map((function(e){return h[e].tags}))))}),[h,N]);return Object(s.jsx)(Ha,{children:Object(s.jsxs)(Fe.Box,{sx:{minWidth:"790px",width:"100%",height:"100%"},children:[Object(s.jsx)(Fe.Flex,{width:"100%",sx:{backgroundColor:"white",borderTopLeftRadius:"16px",borderTopRightRadius:"16px"},children:Object(s.jsx)(Lt,{buttons:[te,ee],count:h.length,query:O,label:Z,onChange:l,filterTablets:ne})}),v&&Y&&Object(s.jsx)(Oo,{tags:re,workspaceId:v,onAddTag:function(e){return Array.from(L).forEach((function(t){return o(t,e)}))},onRemoveTag:function(e){return Array.from(L).forEach((function(t){return c(t,e)}))},onDiscardDrafts:function(){},intent:z,intents:j,total:N.length,onChangeIntent:function(e){var t=Array.from(L).map((function(t){return{id:t,intent:e.name}}));i(t)},onClearSelection:R,onDelete:function(){return U(n)},moveSelectedItems:function(e){R(),i(Array.from(L).map((function(t){return{id:t,workspace_id:e}})))}}),Object(s.jsx)(yo,{drafts:h,entityTypes:f,intents:j,metadata:V,highlightedRow:w,searchQuery:O,synonyms:x,totalExamples:h.length,workspace_id:v,onChange:t,onDelete:n,onLoadMoreRows:r,updateItemSelection:D,onAddTag:o,onRemoveTag:c,onUpdateDrafts:i,onSearch:B,setHighlightedRow:E,noRowsRenderer:function(){return Object(s.jsx)(qa,{heading:M?"There are no matches for this search":"You have no training data yet!",body:M?"Try a different search query or add more data.":"You have no training data. Create new training data or annotate new data from the NLU Inbox.",image:Za,actions:Object(s.jsx)(_.a,{onClick:function(){return T("/nlu-inbox")},large:!0,children:"Search the NLU Inbox"})})}})]})})}var So=function(e){var t=e.onClose,n=e.open,r=e.deleteWorkspaceCallback,a=e.workspaceName;return Object(s.jsx)(pr,{title:"Create workspace",px:0,py:0,onBackgroundClick:t,open:n,style:{width:"600px"},onClose:t,footer:Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(O.d,{flexDirection:"row-reverse",alignSelf:"end",width:1,children:[Object(s.jsx)(_.a,{large:!0,variant:"primary",onClick:function(){r(a),t()},ml:1,children:"Delete workspace"}),Object(s.jsx)(_.a,{large:!0,variant:"secondary",onClick:t,children:"Cancel"})]})}),children:Object(s.jsx)(O.a,{px:6,py:4,children:Object(s.jsx)(O.d,{alignItems:"center",children:Object(s.jsx)(x.a,{mb:4,children:"Deleting the workspace will discard your changes and return the examples to the NLU Inbox."})})})})},wo=function(e){var t=e.onClose,n=e.open,r=e.renameWorkspaceCallback,a=e.workspaceName,c=o.a.useState(a),i=Object(Se.a)(c,2),l=i[0],u=i[1];return Object(s.jsx)(pr,{title:"Create workspace",px:0,py:0,onBackgroundClick:t,open:n,style:{width:"600px"},onClose:t,children:Object(s.jsx)(O.d,{alignItems:"center",children:Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(l),t()},children:[Object(s.jsx)(pt.a,{label:"Workspace name",onChangeValue:u,value:l}),Object(s.jsxs)(O.d,{flexDirection:"row-reverse",alignSelf:"end",width:1,children:[Object(s.jsx)(_.a,{large:!0,variant:"primary",type:"submit",children:"Create workspace"}),Object(s.jsx)(_.a,{large:!0,variant:"secondary",onClick:t,children:"Cancel"})]})]})})})};function Eo(){var e=Object(ve.a)(["\n  padding-right: 1em;\n  display: flex;\n  justify-content: center;\n"]);return Eo=function(){return e},e}var ko={onChangeExample:Bt.b,fetchDataTags:Pt.d.request,updateExamples:Bt.o.request,addTag:Pt.m.request,removeTag:Pt.k.request,updateDrafts:Pt.p.request,deleteTrainingExample:Bt.d.request,onFetchWorkspaceDrafts:no.d.request,onFetchIntents:Bt.i.request,onFetchEntities:Bt.f.request,onFetchSynonyms:zt.b.request,setSearchQuery:no.h};l.default.div(Eo());Object(pe.b)((function(e){return{synonyms:e.synonyms.synonyms,searchQuery:e.workspaces.searchQuery,examples:e.workspaces.examples,drafts:e.workspaces.drafts,intents:e.examples.intents,entityTypes:e.examples.entityTypes,activeWorkspace:e.workspaces.activeWorkspace,tags:e.suggestions.tags}}),ko)((function(e){var t=e.fetchDataTags,n=e.onFetchEntities,r=e.onFetchWorkspaceDrafts,o=e.onFetchSynonyms,c=e.addTag,i=e.removeTag,l=e.searchQuery,u=e.activeWorkspace,d=e.drafts,b=e.updateDrafts,f=e.onFetchIntents,p=a.useState("desc"),h=Object(Se.a)(p,2),j=h[0],O=h[1],x=a.useState("time"),v=Object(Se.a)(x,2),g=v[0],m=v[1],y=a.useState({intents:[],date:{from:null,to:null},type:"Workspace"}),C=Object(Se.a)(y,2),S=C[0],w=C[1],E=a.useState(!1),k=Object(Se.a)(E,2),T=(k[0],k[1],a.useState(!1)),A=Object(Se.a)(T,2),_=A[0],D=A[1],R=a.useState(!1),F=Object(Se.a)(R,2),I=F[0],L=F[1],N=a.useRef(""),U=a.useRef(0),B=a.useCallback((function(e){return b(e)}),[b]),M="Default Workspace for me",P=a.useMemo((function(){return d.length}),[d]);u&&(M=u.name),a.useEffect((function(){n(),o({search:""}),f()}),[n,o,f]),a.useEffect((function(){t()}),[t]),Object(we.a)((function(){(null===u||void 0===u?void 0:u.id)&&(""===N.current||N.current!==JSON.stringify([l,g,j])||U.current!==u.id)&&r({search:l,offset:0,limit:50,sortBy:g,sortOrder:j,workspace_id:null===u||void 0===u?void 0:u.id}),(null===u||void 0===u?void 0:u.id)&&(U.current=u.id),N.current=JSON.stringify([l,g,j])}),200,[r,S,l,g,j,u]);var H=a.useCallback((function(e){(null===u||void 0===u?void 0:u.id)&&r({search:l,offset:Math.max(1,e-50),limit:50,sortBy:g,sortOrder:j,workspace_id:u.id})}),[r,null===u||void 0===u?void 0:u.id,l,g,j]);return a.useMemo((function(){return[{label:"Rename workspace",onClick:function(){return D(!0)}},{label:"Delete workspace",onClick:function(){return L(!0)}}]}),[]),a.useMemo((function(){return M.includes("Default")}),[M]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(So,{open:I,onClose:function(){return L(!1)},deleteWorkspaceCallback:function(e){return console.log(e)},workspaceName:M}),Object(s.jsx)(wo,{open:_,onClose:function(){return D(!1)},renameWorkspaceCallback:function(e){return console.log(e)},workspaceName:M}),Object(s.jsx)(At.a,{title:"".concat(M||"workspace"," data (").concat(P||"no"," changes)"),rightContent:null,children:Object(s.jsx)(Co,Object(Ce.a)({onLoadMoreRows:H,onDelete:function(){return console.log("Implement discarding")},workspace_id:null===u||void 0===u?void 0:u.id,onAddTag:function(e,t){return c({suggestionId:e,tags:[t]})},onRemoveTag:function(e,t){return i({suggestionId:e,tag:t})},onUpdateDrafts:B,sortOrder:j,setSortOrder:O,sortBy:g,setSortBy:m,filterSelection:S,setFilterSelection:w},e))})]})}));var To=n(524),Ao=n(678),_o=n(525),Do=n.n(_o),Ro=n(526),Fo=n.n(Ro),Io=n(527),Lo=n.n(Io),No=n(528),Uo=n.n(No),Bo=function(){return(Bo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function Mo(e){var t=e.children;return Object(s.jsx)(O.a,Bo({as:"span",sx:{fontFamily:"sansSerif"}},{children:t}),void 0)}function Po(e){var t=e.children,n=e.href;return Object(s.jsx)(O.a,Bo({as:"a",href:n,onClick:function(e){return e.stopPropagation()},rel:"noopener noreferrer",target:"_blank",sx:{color:"inherit",overflowWrap:"break-word",fontFamily:"sansSerif"}},{children:t}),void 0)}function Ho(e){var t=e.text,n=e.markdown,r=e.truncate;return n?Object(s.jsx)(Do.a,{skipHtml:!1,allowedElements:["p","br","em","strong","a","li","ul","img"],components:{p:Mo,a:Po},plugins:[Uo.a,Lo.a],rehypePlugins:r?[[Fo.a,{maxChars:200}]]:[],children:t},void 0):Object(s.jsx)(Mo,{children:t},void 0)}function qo(e){var t=e.latestModelIsNew,n=e.modelIsTraining,r=e.trainingError,o=e.uploadingModel,c=e.cleanUploadState,i=e.cleanTrainState,l=e.conversationDeletionFailed,u=e.children,d=e.onNavigate,b=e.modelUploadError,f=e.modelExists,p=st(),h=p.addToast,j=p.removeToast;return a.useEffect((function(){c||(o||b||h({head:"Model uploaded",timeout:-1,content:"Your model was successfully uploaded. Don\u2019t forget to make it active if you want to use it!",key:"modelUploadStatus"}),o&&h({head:"Uploading model",timeout:-1,key:"modelUploadStatus",icon:Object(s.jsx)(F.a,{icon:Ao.faSpinner,spin:!0,mr:2})}),o||!b||f||h({head:"Upload failed",timeout:-1,content:"Something went wrong. Please try again.",variant:"error",key:"modelUploadStatus"}),!o&&b&&f&&h({head:"Model already exists",timeout:-1,content:"A model with that name already exists.",variant:"error",key:"modelUploadStatus"}))}),[h,c,o,b,f]),a.useEffect((function(){if(!i&&(t&&!n&&h({head:"Training is done",timeout:-1,actions:Object(s.jsx)(_.a,{variant:"inverse",large:!0,width:1,onClick:function(){d("/models"),j("modelTrainingStatus")},children:"See new model"}),key:"modelTrainingStatus",icon:Object(s.jsx)(F.a,{icon:To.faCheckCircle,mr:2})}),t||n||h({head:"Nothing has changed",content:"It seems no changes were made to your model, so we skipped training a new one!",timeout:-1,key:"modelTrainingStatus",actions:Object(s.jsx)(_.a,{variant:"inverse",large:!0,onClick:function(){d("/models"),j("modelTrainingStatus")},children:"See latest model"})}),n&&h({head:"Training started",timeout:-1,key:"modelTrainingStatus",icon:Object(s.jsx)(F.a,{icon:Ao.faSpinner,spin:!0,mr:2})}),r)){var e,a,o,c,l=null===(e=r.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.details,u=!!(null===(o=r.response)||void 0===o?void 0:o.status)&&(null===(c=r.response)||void 0===c?void 0:c.status)<500;h({head:"Training failed",timeout:-1,content:u&&l?Object(s.jsx)(Ho,{markdown:!0,text:l}):"Your model training has failed.",variant:"error",key:"modelTrainingStatus"})}}),[h,t,n,r,i,d,j]),a.useEffect((function(){l&&h({head:"Failed to delete conversation",timeout:-1,content:"Something went wrong. Please try again later.",variant:"error",key:"conversationDeletionFailed"})}),[h,l]),Object(s.jsx)(s.Fragment,{children:u})}var Go=n(110);function Wo(e){var t=e.open,n=e.userId,r=e.onClose,o=e.onDataSubmit,c=Object(pe.c)(),i=a.useState(""),l=Object(Se.a)(i,2),u=l[0],d=l[1],b=a.useState(""),f=Object(Se.a)(b,2),p=f[0],h=f[1],j=a.useState(!0),O=Object(Se.a)(j,2),v=O[0],g=O[1];return Object(s.jsxs)(pr,{title:"Got some feedback?",onBackgroundClick:function(){},open:t,style:{width:"584px"},onClose:r,footer:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(_.a,{large:!0,ml:2,disabled:0===u.length||0===p.length,onClick:function(){c(Go.b.request({userId:n,name:u,email:p,checkboxChecked:v})),o(),r()},children:"Submit"}),Object(s.jsx)(_.a,{variant:"secondary",onClick:r,large:!0,ml:2,children:"Nevermind"})]}),children:[Object(s.jsx)(xt,{variant:"alertThatUsesColoursThatArentInTheStyleguide",m:0,py:"12px",mb:4,children:Object(s.jsx)(x.a,{as:"i",variant:"bodySecondary",lineHeight:"1.54",inheritColor:!0,children:"Congrats! You have earned some free Rasa swag and the chance to let us know how we can make Rasa X work better for you. Let us know your name and email below, so we can contact you."})}),Object(s.jsxs)(Fe.Flex,{flexDirection:"column",mb:5,children:[Object(s.jsx)(pn.a,{text:"Name",children:Object(s.jsx)(pt.a,{value:u,onChangeValue:function(e){return d(e)},placeholder:"Enter your name",fullWidth:!0})}),Object(s.jsx)(pn.a,{text:"Email",mt:4,children:Object(s.jsx)(pt.a,{value:p,onChangeValue:function(e){return h(e)},placeholder:"Enter your email",fullWidth:!0})}),Object(s.jsxs)(Fe.Flex,{as:"label",mt:3,alignItems:"flex-start",children:[Object(s.jsx)(on.a,{onChange:function(){return g(!v)},checked:v,mr:3,mt:"2px"}),Object(s.jsx)(x.a,{variant:"bodySecondary",children:"I'm okay with Rasa storing my name, email, and user id to allow me to participate in feedback and user research to improve Rasa X."})]})]})]})}var Vo=n(29),Yo=n(250),zo=n(1001),Ko=n(1006),Qo=n(1002),Xo=n(1005),Jo=n(1003),Zo=n(529),$o=n(530),ec=n(1004),tc=n(1007),nc=n(2023),rc={primary:{bg:"primary_2",color:"neutral_0"},secondary:{bg:"neutral_0",color:"neutral_8"}},ac=function(){return(ac=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},oc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function cc(e){var t=e.variant,n=void 0===t?"primary":t,r=e.maxCount,o=void 0===r?99:r,c=e.count,i=oc(e,["variant","maxCount","count"]),l=a.useMemo((function(){return c<o?c:o+"+"}),[c,o]);return Object(s.jsx)(O.a,ac({sx:ac({padding:"0 8px",borderRadius:"4px",fontWeight:"bold",fontSize:"12px",lineHeight:"24px"},rc[n])},i,{children:l}),void 0)}var ic=function(){return(ic=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},sc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function lc(e){var t=e.loading,n=void 0===t||t,r=e.onClick,a=e.children,o=sc(e,["loading","onClick","children"]);return Object(s.jsxs)(_.a,ic({onClick:n?void 0:r},o,{children:[Object(s.jsx)(O.a,ic({sx:{visibility:n?"hidden":"visible"}},{children:a}),void 0),n&&Object(s.jsx)(O.d,ic({alignItems:"center",justifyContent:"center",sx:{position:"absolute",left:0,top:0,width:"100%",height:"100%"}},{children:Object(s.jsx)(F.a,{icon:Ft.faSpinnerThird,spin:!0,ml:1,fontSize:"16px"},void 0)}),void 0)]}),void 0)}var uc=function(){return(uc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},dc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function bc(e){var t,n=e.sx,r=e.variant,a=void 0===r?"medium":r,o=e.children,c=e.username,i=dc(e,["sx","variant","children","username"]);return Object(s.jsx)(O.d,uc({variant:"avatar."+a,justifyContent:"center",alignItems:"center",fontSize:4,color:"neutral_0",bg:"cyan_2"},i,{sx:uc({textAlign:"center",borderRadius:"50%",lineHeight:"1em"},n||{})},{children:o||(t=c,t?t.split(" ").slice(0,2).map((function(e){return e.slice(0,1).toUpperCase()})).join(""):null)||null}),void 0)}function fc(e){var t=e.children,n=e.name,r=e.title,a=e.content,o=e.links,c=e.actions,i=Object(Le.a)(e,["children","name","title","content","links","actions"]),l=We(),u=l.onboardingShown,d=l.currentOnboardingHint,b=l.setOnboardingShown,f=l.setCurrentOnboardingHint;return d?Object(s.jsx)(Ne.a,Object(Ce.a)(Object(Ce.a)({borderRadius:"large",boxShadow:"8px 9px 21px 0 rgba(0, 0, 0, 0.25)",bg:"primary_2",p:4,heading:r&&Object(s.jsx)(R.a,{flex:1,variant:"h2",inheritColor:!0,mb:"12px","data-qa":"onboarding-hint-title_h2",children:r}),textAlign:"left",visible:d===n,disabled:!u,interactive:!0,placement:"bottom-end",onHide:function(){d===n&&(f(null),b(!1))},onCloseClick:function(){f(null),b(!1)},content:Object(s.jsxs)(Fe.Box,{sx:{width:"352px",boxSizing:"content-box"},children:[Object(s.jsxs)(Fe.Box,{pr:5,children:[Object(s.jsx)(x.a,{color:"neutral_0",as:"div",variant:"bodySecondary","data-qa":"onboarding-hint-content_div",children:a}),o&&Object(s.jsx)(Fe.Flex,{flexDirection:"column",mt:3,"data-qa":"onboarding-hint-link_div",children:o.map((function(e,t){return Object(s.jsx)(Ue,{link:e},n+"_"+t)}))})]}),c&&Object(s.jsx)(Fe.Flex,{flexDirection:"row-reverse","data-qa":"onboarding-hint-proceed_btn",children:c})]}),appendTo:document.body,offset:[0,8]},i),{},{children:t})):Object(s.jsx)(s.Fragment,{children:t})}var pc=n(33);function hc(e){switch(e){case"noChanges":return"#84a861";case"changes":return"#f7c86e";case"conflicts":case"notAuthenticated":return"#cd6c6a";default:return"neutral_6"}}function jc(e){switch(e){case"noChanges":return"You are up to date with the Git server.";case"changes":return"You have changes the Git server does not include.";case"conflicts":return"You have changes the Git server does not include. You also do not have the latest changes from the Git server.";case"notAuthenticated":return"You need to enter your password";default:return"Integrated Version Control has not been set up."}}var Oc=n(169);function xc(e){var t=e.value;return Object(s.jsx)(x.a,{as:"div",color:"neutral_0",backgroundColor:"primary_2",py:1,px:2,sx:{fontWeight:"bold",fontSize:"12px",borderRadius:"14px"},children:t})}var vc=a.memo(xc);function gc(){var e=Object(ve.a)(["\n            transform: scaleY(0);\n            opacity: 0;\n          "]);return gc=function(){return e},e}function mc(){var e=Object(ve.a)(["\n            transform: scaleY(1);\n            opacity: 1;\n          "]);return mc=function(){return e},e}function yc(){var e=Object(ve.a)(["\n      "," ","\n    "]);return yc=function(){return e},e}var Cc=Object(Qe.variant)({key:"menuItem"}),Sc=Object(l.default)(Fe.Box).withConfig({displayName:"MenuItem__Container",componentId:"sc-1k0m975-0"})([""," "," "," "," position:relative;flex-shrink:0;transition:background-color 0.2s ease,color 0.2s ease;cursor:",";"," &:before{content:'';width:4px;height:100%;"," position:absolute;left:0;"," border-radius:2px;transition:transform cubic-bezier(0.51,0.92,0.24,1.15) 0.2s;","}"],Cc,Qe.height,Qe.alignItems,Qe.display,(function(e){return e.onClick?"pointer":"default"}),(function(e){return e.active&&Object(l.css)(yc(),Aa.c,Aa.b)}),Object(Qe.system)({lineBeforeColor:{property:"backgroundColor",scale:"colors"}}),(function(e){return e.active?Object(l.css)(mc()):Object(l.css)(gc())}),(function(e){return!e.lineBefore&&"display: none;"}));function wc(e){var t=e.rightIcon,n=e.children,r=e.icon,a=e.p,o=e.badge,c=Object(Le.a)(e,["rightIcon","children","icon","p","badge"]);return Object(s.jsx)(Sc,Object(Ce.a)(Object(Ce.a)({width:"100%",p:a},c),{},{"data-e2e":"component:menu-item",children:Object(s.jsxs)(Fe.Flex,{width:"100%",flexDirection:"row",alignItems:"center",children:[r&&Object(s.jsx)(Fe.Box,{flex:"0 0 40px",style:{textAlign:"center",lineHeight:1},pr:3,children:r}),Object(s.jsx)(x.a,{style:{whiteSpace:"nowrap",flexGrow:1},inheritColor:!0,variant:"bodySecondary",as:"div",children:n}),o&&"string"===typeof o?Object(s.jsx)(vc,{value:o}):o,t&&Object(s.jsx)(Fe.Box,{pr:3,children:t})]})}))}function Ec(e){var t=e.onNavigate;return Object(s.jsxs)(Oc.a,{flexDirection:"column",width:248,py:2,children:[Object(s.jsx)(pc.a,{resource:Et.d.Users,action:Et.a.Read,yes:Object(s.jsx)(wc,{p:2,onClick:function(){return t("/users")},height:48,pl:5,children:"Manage users"})}),Object(s.jsx)(pc.a,{resource:Et.d.Roles,action:Et.a.Read,yes:Object(s.jsx)(wc,{p:2,onClick:function(){return t("/roles")},height:48,pl:5,children:"Manage roles"})})]})}Sc.defaultProps={lineBeforeColor:"primary_2",colorActive:"neutral_0",bgActive:"dark_2"},wc.defaultProps={as:"li",icon:null,textAlign:"left",height:48,alignItems:"center",p:3,display:"flex",variant:"default",lineBefore:!0};var kc=Object(Qe.system)({widthHover:{property:"width",scale:"space"}}),Tc=Object(l.default)(Fe.Flex).withConfig({displayName:"Aside",componentId:"p8q4xd-0"})(["height:100%;position:absolute;transition:width 0.2s cubic-bezier(0.51,0.92,0.24,1.15);&:hover,&.force-focus{"," box-shadow:0 0 4px 0 rgba(24,30,46,0.55);}"],kc);Tc.defaultProps={as:"aside",bg:"dark_1",width:"56px",widthHover:"248px",flexDirection:"column",alignItems:"flex-start"};var Ac=a.memo(Tc),_c=n(32);function Dc(e){var t=e.activeGitRepository,n=e.activeRepositoryStatus,r=e.gitStatus,a=e.gitStatusColor,o=e.gitStatusCopy,c=e.isCommittingToNewBranch,i=e.setCommittingToNewBranch,l=e.newBranchName,u=e.setNewBranchName,d=e.commitMessage,b=e.setCommitMessage,f=e.requestError,p=e.validationError;return Object(s.jsxs)(s.Fragment,{children:[f&&Object(s.jsx)(xt,{block:!0,fullBleed:!0,variant:"error",children:Object(s.jsx)(Fe.Box,{textAlign:"center",py:1,fontSize:2,width:"100%",children:f})}),p&&c&&Object(s.jsx)(xt,{block:!0,fullBleed:!0,variant:"error",children:Object(s.jsx)(Fe.Box,{textAlign:"center",py:1,fontSize:2,width:"100%",children:p})}),Object(s.jsxs)(Fe.Flex,{sx:{borderBottom:"solid 1px #f2f4fa"},px:4,py:4,children:[Object(s.jsx)(Fe.Box,{size:20,bg:a(r),sx:{borderRadius:"4px"},mr:"12px"}),Object(s.jsxs)(x.a,{as:"div",variant:"bodySecondary",children:[Object(s.jsx)(Fe.Box,{as:"strong",children:"Status:"})," ",o(r)]})]}),Object(s.jsxs)(Fe.Box,{px:6,py:4,color:"conflicts"===r?"neutral_6":"neutral_8",children:[Object(s.jsx)(R.a,{variant:"h5",mb:2,children:"Push to:"}),Object(s.jsx)(Fe.Box,{as:"label",mb:2,sx:{display:"block"},children:Object(s.jsxs)(Fe.Flex,{alignItems:"center",color:"conflicts"===r||(null===t||void 0===t?void 0:t.is_target_branch_protected)?"neutral_6":"inherit",children:[Object(s.jsx)(Fe.Box,{mr:2,children:Object(s.jsx)(on.a,{variant:"radio",checked:!c,onChange:function(){return i(!1)},disabled:"conflicts"===r||!!(null===t||void 0===t?void 0:t.is_target_branch_protected)})}),Object(s.jsx)(Fe.Box,{children:Object(s.jsx)(x.a,{as:"div",variant:"bodySecondary",inheritColor:!0,"data-testid":"Committer-current-branch",children:null===n||void 0===n?void 0:n.current_branch})})]})}),Object(s.jsx)(Fe.Box,{as:"label",children:Object(s.jsxs)(Fe.Flex,{alignItems:"center",children:[Object(s.jsx)(Fe.Box,{mr:2,children:Object(s.jsx)(on.a,{variant:"radio",checked:c,onChange:function(){return i(!0)}})}),Object(s.jsxs)(Fe.Flex,{alignItems:"center",justifyContent:"space-between",flexGrow:1,children:[Object(s.jsx)(x.a,{as:"div",variant:"bodySecondary",children:"new branch:"}),Object(s.jsx)(pt.a,{invalid:!!p,width:"400px",value:l,onChangeValue:u,disabled:!c})]})]})}),Object(s.jsx)(pn.a,{text:"Commit message:",pt:4,fontSize:1,children:Object(s.jsx)(Fe.Flex,{alignItems:"center",children:Object(s.jsx)(pt.a,{value:d,onChangeValue:b,placeholder:"Optional commit message",fullWidth:!0})})}),c&&Object(s.jsx)(xt,{variant:"success",m:0,py:"14px",mt:4,mb:2,children:Object(s.jsxs)(x.a,{as:"i",variant:"bodySecondary",lineHeight:"initial",inheritColor:!0,children:[Object(s.jsx)(Fe.Box,{as:"strong",children:"Note:"})," When you add your changes, you will return to match the latest Git server changes. You must merge your new branch into"," ",null===n||void 0===n?void 0:n.current_branch," on the Git server to see those changes reflected here."]})})]})]})}var Rc=n(999),Fc=n(998),Ic=n.n(Fc);function Lc(){var e=Object(ve.a)(["\n      top: ",";\n      left: ",";\n      transform: translate(",", ",");\n      border-","-","-radius: ","px;\n      border-",": 0 none;\n      border-",": 0 none;\n    "]);return Lc=function(){return e},e}var Nc=Object(l.default)(Fe.Card).withConfig({displayName:"Clipboard__StyledClipboard",componentId:"sc-1607kll-0"})(["position:absolute;overflow:hidden;"," & .ClipboardButton{border:0;padding:0;cursor:pointer;width:24px;height:24px;"," ","}"],(function(e){var t=e.theme,n=e.top,r=e.left;return Object(l.css)(Lc(),n?0:"100%",r?0:"100%",r?0:"-100%",n?0:"-100%",n?"bottom":"top",r?"right":"left",t.radii.normal,n?"top":"bottom",r?"left":"right")}),Qe.color,Aa.d);function Uc(e){var t=e.text,n=(e.ref,e.onCopy),r=Object(Le.a)(e,["text","ref","onCopy"]),o=a.useState(!1),c=Object(Se.a)(o,2),i=c[0],l=c[1];return a.useEffect((function(){if(i){n&&n();var e=setTimeout((function(){return l(!1)}),5e3);return function(){return clearTimeout(e)}}}),[i,n]),Object(s.jsx)(Nc,Object(Ce.a)(Object(Ce.a)({color:"neutral_6",bg:"neutral_2",colorHover:"neutral_7",sx:{border:"1px solid",borderColor:"neutral_5"}},r),{},{children:Object(s.jsx)(Qn.a,{content:i?"Successfully copied":"Copy to clipboard",children:Object(s.jsx)(Ic.a,{as:"button","button-className":"ClipboardButton","data-clipboard-text":t,onSuccess:function(){return l(!0)},children:Object(s.jsx)(F.a,{icon:Rc.faClone,fontSize:"12px"})})})}))}function Bc(e){var t=e.preformatted,n=e.children,r=e.onCopy,o=e.disabled,c=e.fullSize,i=e.clipboardText,l=Object(Le.a)(e,["preformatted","children","onCopy","disabled","fullSize","clipboardText"]),u=a.useMemo((function(){return i||(Array.isArray(n)?n.join(t?"\n":""):n)}),[n,i,t]);return Object(s.jsxs)(Fe.Card,Object(Ce.a)(Object(Ce.a)({bg:"neutral_1"},l),{},{sx:Object(Ce.a)({position:"relative",maxHeight:"280px",overflow:"hidden",borderColor:"neutral_5",borderRadius:"normal",borderWidth:"1px",borderStyle:"solid"},c?{height:"100%",overflow:"auto"}:{}),children:[Object(s.jsx)(Uc,{text:u,onCopy:r&&r}),Object(s.jsx)(x.a,{variant:"code",color:o?"neutral_6":"neutral_8",style:{overflow:"auto",textOverflow:"initial",wordBreak:"break-all",display:"block"},children:t&&Array.isArray(n)?n.map((function(e,t){return Object(s.jsx)("pre",{style:{margin:0},children:e},t)})):n})]}))}Uc.defaultProps={top:!0,left:!1},Bc.defaultProps={p:20};var Mc=/^(http(|s):\/\/)([^\s]+(:\d+)?)(\/)([^\s]+?)?$/,Pc=/^(ssh:\/\/)?([^\s]+@)([^\s]+(:\d+)?)(?::)([^\s]+?)$/;function Hc(e){var t=e.activeGitRepository,n=e.errorConnectGitRepository,r=e.generatedSshKey,o=e.gitStatus,c=e.httpsUsername,i=e.httpsPassword,l=e.protectedBranch,u=e.repositoryUrl,d=e.setHttpsUsername,b=e.setHttpsPassword,f=e.setProtectedBranch,p=e.setRepositoryUrl,h=e.setTargetBranch,j=e.targetBranch,O=e.toggleSSH,v=e.usingSSH,g=Object(we.b)(),m=a.useState(null),y=Object(Se.a)(m,2),C=y[0],S=y[1],w=a.useState(!1),E=Object(Se.a)(w,2),k=E[0],T=E[1],A=a.useState(null),D=Object(Se.a)(A,2),R=D[0],I=D[1],L=Object(pe.c)(),N=a.useCallback((function(){return L(_c.g.request())}),[L]);a.useEffect((function(){r||"notConnected"!==o||N()}),[o,r,N]),a.useEffect((function(){t&&(h(t.target_branch),f(t.is_target_branch_protected))}),[t,h,f]);var U=a.useMemo((function(){return n||null!==C&&!C}),[n,C]),B=a.useCallback((function(){T(!1),S(!1),v&&Pc.test(u)?S(!0):Mc.test(u)&&(T(!0),v?I(u.replace(Mc,"git@$3:$6$7")):S(!0))}),[u,v]);return a.useEffect((function(){u.length>0&&B()}),[B,u.length,v]),Object(s.jsxs)(Fe.Box,{sx:{height:"483px",overflow:"auto",position:"relative"},children:[U&&Object(s.jsx)(Fe.Box,{width:1,sx:{position:"fixed",zIndex:1},children:Object(s.jsx)(xt,{variant:"error",p:0,m:0,block:!0,py:"14px",children:Object(s.jsx)(x.a,{variant:"bodySecondary",inheritColor:!0,textAlign:"center",width:1,children:!C&&k&&R&&v?Object(s.jsxs)(s.Fragment,{children:["Did you mean to enter the SSH url: ",Object(s.jsx)("strong",{children:R}),"?"]}):C?"Something went wrong. Please try again.":"Please provide valid values for the highlighted fields."})})}),Object(s.jsxs)(Fe.Box,{mt:U?7:0,children:[t&&Object(s.jsxs)(x.a,{variant:"bodySecondary",px:6,py:4,backgroundColor:"neutral_1",children:["You are connected to the repository:"," ",Object(s.jsx)(Fe.Box,{as:"strong",children:t.repository_url})]}),Object(s.jsxs)(Fe.Box,{px:6,py:4,children:[!t&&Object(s.jsx)(pn.a,{onClick:function(e){return e.preventDefault()},text:Object(s.jsxs)(Fe.Flex,{flexDirection:"row",justifyContent:"space-between",children:[Object(s.jsxs)(Fe.Flex,{children:["".concat(v?"SSH":"HTTPS"," URL for repository"),Object(s.jsx)(Xr,{appendTo:document.body,style:{alignSelf:"center"},ml:1,content:"Rasa X will clone the repository using the given ".concat(v?"SSH":"HTTPS","  URL.")})]}),g&&Object(s.jsx)("div",{children:Object(s.jsx)(_.a,{color:"primary_1",fontWeight:0,style:{textDecoration:"underline"},variant:"plain",onClick:O,children:v?"Use HTTPS":"Use SSH"})})]}),mb:4,children:Object(s.jsx)(pt.a,{"data-testid":"ConnectRepoForm-input-repo-url",invalid:null!==C&&!C,fullWidth:!0,placeholder:"".concat(v?"user@domain:organization/repo.git":"https://domain/organization/repo.git"),value:u,onChangeValue:p,onBlur:B,suffix:C?Object(s.jsx)(Fe.Flex,{alignItems:"center",justifyContent:"center",backgroundColor:"primary_2",sx:{width:"16px",height:"16px",borderRadius:"50%"},children:Object(s.jsx)(F.a,{icon:ar.faCheck,color:"neutral_0",fontSize:"8px"})}):null})}),Object(s.jsx)(pn.a,{text:Object(s.jsxs)(Fe.Flex,{flexDirection:"row",children:[Object(s.jsx)(Fe.Flex,{children:"Target branch "}),Object(s.jsx)(Xr,{appendTo:document.body,style:{alignSelf:"center"},ml:1,content:"This is the branch Rasa X will use to show the initial data, branch off from when you make new changes, and return to after you discard or push changes."})]}),mb:4,children:Object(s.jsx)(pt.a,{"data-testid":"ConnectRepoForm-input-branch-name",fullWidth:!0,placeholder:"Enter branch name...",value:j,onChangeValue:h})}),Object(s.jsx)(Fe.Box,{as:"label",mb:6,children:Object(s.jsxs)(Fe.Flex,{alignItems:"center",children:[Object(s.jsx)(Fe.Box,{mr:2,children:Object(s.jsx)(on.a,{checked:l,onChange:function(){return f(!l)}})}),Object(s.jsx)(Fe.Box,{children:Object(s.jsx)(x.a,{as:"div",variant:"bodySecondary",inheritColor:!0,children:"Require users to add changes to a new branch."})})]})})]}),!t&&Object(s.jsxs)(Fe.Box,{px:6,py:4,sx:{borderTop:"1px solid",borderColor:"neutral_2"},children:[v&&r&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(pn.a,{text:Object(s.jsxs)(Fe.Flex,{flexDirection:"row",children:[Object(s.jsx)(Fe.Flex,{children:"Copy and add this SSH deploy key to your remote Git repository "}),Object(s.jsx)(Xr,{appendTo:document.body,style:{alignSelf:"center"},ml:1,content:"You need to add this generated public SSH key as a Deploy key to your repository on GitHub, GitLab, BitBucket, etc."})]}),children:Object(s.jsx)(Bc,{fullSize:!0,children:r})}),Object(s.jsx)(xt,{variant:"success",m:0,py:"14px",px:"20px",mt:3,mb:2,children:Object(s.jsxs)(x.a,{as:"i",variant:"bodySecondary",lineHeight:"initial",inheritColor:!0,children:[Object(s.jsx)(Fe.Box,{as:"strong",children:"Note:"})," Once you have added the SSH key above as a deploy key on your remote Git repository, confirm that you have successfully connected by clicking \u201cVerify Connection\u201d below."]})})]}),!v&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(pn.a,{text:Object(s.jsxs)(Fe.Flex,{flexDirection:"row",children:["Username",Object(s.jsx)(Xr,{appendTo:document.body,style:{alignSelf:"center"},ml:1,content:"The username for the account you want to use to access your repository on. GitHub, GitLab, BitBucket, etc."})]}),mb:4,children:Object(s.jsx)(pt.a,{"data-testid":"ConnectRepoForm-input-username",fullWidth:!0,placeholder:"Enter username...",value:c,onChangeValue:d})}),Object(s.jsx)(pn.a,{text:Object(s.jsxs)(Fe.Flex,{flexDirection:"row",children:["Password",Object(s.jsx)(Xr,{appendTo:document.body,style:{alignSelf:"center"},ml:1,content:"The password for the account you want to use to access your repository on GitHub, GitLab, BitBucket, etc. If you have Two-Factor Authentication (2FA) enabled, you will need to use a personal access token in place of your password."})]}),children:Object(s.jsx)(pt.a,{"data-testid":"ConnectRepoForm-input-password",fullWidth:!0,placeholder:"Enter password...",value:i,type:"password",onChangeValue:b})})]})]})]})]})}function qc(e){var t=e.open,n=e.loadingUpdateGitRepository,r=e.onClose,o=e.onCredentialsSubmitCallback,c=e.username,i=a.useState(""),l=Object(Se.a)(i,2),u=l[0],d=l[1];return Object(s.jsx)(pr,{title:"Enter the password to your Git repository",px:0,py:0,onBackgroundClick:r,open:t,style:{width:"600px"},onClose:r,footer:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(lc,{onClick:function(){return o(u)},large:!0,disabled:""===u,ml:2,loading:n,children:"Connect"}),Object(s.jsx)(_.a,{variant:"secondary",onClick:r,large:!0,ml:2,children:"Cancel"})]}),children:Object(s.jsxs)(Fe.Box,{px:6,py:4,children:[Object(s.jsx)(pn.a,{text:Object(s.jsxs)(Fe.Flex,{flexDirection:"row",children:["Username",Object(s.jsx)(Xr,{appendTo:document.body,style:{alignSelf:"center"},ml:1,color:"neutral_5",content:"The username you used to initially set up Integrated Version Control. You can edit it in the IVC settings."})]}),mb:4,children:Object(s.jsx)(pt.a,{fullWidth:!0,disabled:!0,placeholder:"Enter your username...",value:c})}),Object(s.jsx)(pn.a,{text:Object(s.jsxs)(Fe.Flex,{flexDirection:"row",children:["Password",Object(s.jsx)(Xr,{appendTo:document.body,style:{alignSelf:"center"},ml:1,color:"neutral_5",content:"The password for the account referenced above. If you have Two-Factor Authentication (2FA) enabled, you will need to use a personal access token in place of your password."})]}),mb:4,children:Object(s.jsx)(pt.a,{fullWidth:!0,placeholder:"Enter your password...",value:u,type:"password",onChangeValue:d})})]})})}var Gc=n(388),Wc=function(e){var t=e.gitStatus,n=e.activeGitRepository,r=e.activeRepositoryStatus,a=e.onRequestConnect,o=e.onRequestAuthentication,c=e.onRequestCommit,i=e.onRequestDiscardChanges,l=r&&(r.first_annotator_id||r.first_annotated_at)?" changed":"",u=r&&r.first_annotator_id&&" by ".concat(r.first_annotator_id)||"",d=r&&r.first_annotated_at&&" at ".concat(fn.a.unix(r.first_annotated_at).format("hh:mm A on Do MMM YYYY"))||"";return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(R.a,{variant:"h4",color:"neutral_0",children:Object(s.jsxs)(Fe.Flex,{justifyContent:"space-between",children:[Object(s.jsxs)(Fe.Box,{children:["notAuthenticated"===t?"Not logged in to your repository":n&&n.target_branch," "]}),Object(s.jsx)(Fe.Box,{mr:-2,color:"neutral_6",sx:{cursor:"pointer",transition:"all ease .2s","&:hover":{color:"neutral_0"}},children:Object(s.jsx)(F.a,{icon:Gc.faCog,fontSize:"16px",onClick:function(){return a()}})})]})}),Object(s.jsxs)(x.a,{as:"div",variant:"captionSecondary",color:"neutral_6",mt:2,lineHeight:"normal",children:[r&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Fe.Box,{color:"neutral_0",as:"strong",children:"Status".concat(l).concat(u).concat(d,":")})," "]}),jc(t),"notAuthenticated"===t&&Object(s.jsx)(_.a,{width:1,mt:3,large:!0,onClick:function(){return o()},variant:"primaryDark",children:"Enter password"})]}),("changes"===t||"conflicts"===t)&&Object(s.jsxs)(Fe.Box,{mt:3,children:[" ",Object(s.jsx)(pc.a,{resource:Et.d.Commit,action:Et.a.Create,yes:Object(s.jsx)(_.a,{width:1,mb:2,large:!0,onClick:function(){c()},variant:"primaryDark",children:"Add changes to Git server"})}),Object(s.jsx)(_.a,{width:1,large:!0,variant:"dark",onClick:function(){return i()},children:"Discard changes"})]})]})},Vc=function(e){var t=e.onRequestConnect;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(R.a,{variant:"h4",color:"neutral_0",children:"'Not connected to a Git repository'"}),Object(s.jsxs)(Fe.Box,{mt:3,children:[" ",Object(s.jsx)(_.a,{width:1,large:!0,mb:2,onClick:function(){return t()},variant:"primaryDark",children:"Connect to a repository"}),Object(s.jsx)(_.a,{as:"a",target:"_blank",href:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#integrated-version-control",width:1,variant:"dark",large:!0,onClick:function(){},children:"Learn more in the docs"})]})]})},Yc='This branch name isn\'t valid. Try using just letters and "-"',zc="The current branch name is empty. Please provide a name for your new branch.",Kc="The branch you entered already exists. You can only push to a new branch.",Qc="Commit failed because another version control operation is in process.\n Please try again shortly.",Xc=[/\/\.|\.\.|\@\{|\/\/|[ \~\^\:\?\*\[\\]/,/^(\/|\.)|(\/|.lock|\.)$/,/^\@$/,/\/\.|.lock\//];function Jc(e){var t=e.activeGitRepository,n=e.activeRepositoryStatus,r=e.commitModalOpen,o=e.connectModalOpen,c=e.credentialsModalOpen,i=e.disconnectModalOpen,l=e.discardModalOpen,u=e.gitStatus,d=e.onRequestConnect,b=e.onRequestDisconnect,f=e.onFinishDisconnect,p=e.onCancelDisconnect,h=e.onCancelConnect,j=e.onRequestAuthentication,O=e.onRequestDiscardChanges,v=e.onRequestCommit,g=e.onCancelCommit,m=e.onFinishCommit,y=e.onRequestUpdateGitRepo,C=e.onCancelDiscardChanges,S=e.onFinishChanges,w=e.onCloseCredentials,E=Object(we.b)(),k=Object(pe.c)(),T=a.useState(""),A=Object(Se.a)(T,2),D=A[0],F=A[1],I=a.useState(""),L=Object(Se.a)(I,2),N=L[0],U=L[1],B=a.useState(""),M=Object(Se.a)(B,2),P=M[0],H=M[1],q=a.useState(""),G=Object(Se.a)(q,2),W=G[0],V=G[1],Y=a.useState(!1),z=Object(Se.a)(Y,2),K=z[0],Q=z[1],X=a.useState(!1),J=Object(Se.a)(X,2),Z=J[0],$=J[1],ee=a.useState(""),te=Object(Se.a)(ee,2),ne=te[0],re=te[1],ae=Object(we.o)(!0),oe=Object(Se.a)(ae,2),ce=oe[0],ie=oe[1],se=a.useState(!1),le=Object(Se.a)(se,2),ue=le[0],de=le[1];a.useEffect((function(){t&&t.username&&H(t.username)}),[t]);var be=He(),fe=Object(pe.d)((function(e){return e.gitRepositories.generatedSshKey})),he=Object(pe.d)((function(e){return e.auth.username})),je=a.useCallback((function(){return"Rasa-x-".concat(fn()().format("MMM-Do-YY--h-mm-ss-a"),"-").concat(E?he||"":Ke()())}),[E,he]),Oe=a.useState(je()),xe=Object(Se.a)(Oe,2),ve=xe[0],ge=xe[1],me=Object(pe.d)((function(e){return!!e.gitRepositories.loading.connectGitRepository})),ye=Object(pe.d)((function(e){return!!e.gitRepositories.loading.updateGitRepository})),Ce=Object(pe.d)((function(e){return e.gitRepositories.error.connectGitRepository})),Ee=Object(pe.d)((function(e){return e.gitRepositories.loading.commitGitChanges})),ke=Object(pe.d)((function(e){return e.gitRepositories.error.commitGitChanges}));a.useEffect((function(){Ee?de(!0):Ee||!ue||ke?ke&&ue&&de(!1):(de(!1),re(""),ge(je()),m())}),[ue,de,re,ge,je,m,Ee,ke]),a.useEffect((function(){t&&(U(t.target_branch),Q(t.is_target_branch_protected))}),[t]),a.useEffect((function(){("conflicts"===u||t&&t.is_target_branch_protected)&&$(!0)}),[u,$,t]);var Te,Ae,_e=a.useCallback((function(){be("gitCredentials"),w()}),[w,be]),De=a.useCallback((function(e){return k(_c.d.request({repositoryId:e}))}),[k]),Re=a.useCallback((function(e){var t=e.repositoryId,n=e.branchName,r=e.force,a=void 0!==r&&r;return k(_c.a.request({repositoryId:t,branchName:n,force:a}))}),[k]),Ie=a.useCallback((function(e){var t=e.repositoryId,n=e.activeGitRepository,r=Z?ve:n.target_branch;r.trim().match(" ")||""!==r.trim()&&k(_c.b.request({repositoryId:t,branchName:r,commitMessage:ne}))}),[Z,ne,ve,k]),Le=a.useCallback((function(e){var t=e.repositoryUrl,n=e.targetBranch,r=e.protectedBranch,a=e.username,o=e.password;return k(_c.c.request({repositoryUrl:t,targetBranch:n,protectedBranch:r,username:a,password:o}))}),[k]),Ne=a.useCallback((function(e){var t=e.repositoryId,n=e.targetBranch,r=e.protectedBranch,a=e.password;return k(_c.j.request({repositoryId:t,targetBranch:n,protectedBranch:r,username:P||"",password:a}))}),[k,P]),Ue=a.useCallback((function(e){t&&Ne({repositoryId:t.id,targetBranch:N,protectedBranch:K,password:e})}),[t,Ne,K,N]);return Z&&Xc.some((function(e){return ve.match(e)}))?Te=Yc:Z&&""===ve.trim()&&(Te=zc),ue||"BranchAlreadyExists"!==(null===ke||void 0===ke?void 0:ke.name)?ue||"AnotherIVCOperationInProgress"!==(null===ke||void 0===ke?void 0:ke.name)||(Ae=Qc):Ae=Kc,Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Fe.Box,{p:3,pr:4,pb:4,bg:"dark_1",sx:{borderLeft:"8px solid",borderColor:hc(u),borderRadius:"8px"},width:296,children:"notConnected"===u?Object(s.jsx)(Vc,{onRequestConnect:d}):Object(s.jsx)(Wc,{gitStatus:u,activeRepositoryStatus:n,activeGitRepository:t,onRequestAuthentication:j,onRequestDiscardChanges:O,onRequestCommit:v,onRequestConnect:d})}),Object(s.jsx)(pr,{title:"Commit changes to git",px:0,py:0,open:r,style:{width:"600px"},onClose:g,footer:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(lc,{onClick:function(){t&&Ie({repositoryId:t.id,activeGitRepository:t})},large:!0,loading:!!Ee,disabled:!!Te,ml:2,"data-testid":"IVCStatusBar-commit-git-changes",children:"Add changes"}),Object(s.jsx)(_.a,{variant:"secondary",onClick:g,large:!0,ml:2,children:"Cancel"})]}),children:Object(s.jsx)(Dc,{activeGitRepository:t,gitStatusColor:hc,gitStatusCopy:jc,gitStatus:u,isCommittingToNewBranch:Z,setCommittingToNewBranch:$,activeRepositoryStatus:n,newBranchName:ve,setNewBranchName:ge,commitMessage:ne,setCommitMessage:re,requestError:Ae,validationError:Te})}),Object(s.jsxs)(pr,{open:l,style:{width:"512px"},onClose:C,px:5,py:5,children:[Object(s.jsx)(R.a,{variant:"h2",mb:3,children:"Discard changes"}),Object(s.jsxs)(x.a,{variant:"bodySecondary",children:["Are you sure you want to discard changes?",Object(s.jsx)("br",{}),Object(s.jsx)(Fe.Box,{as:"strong",mt:2,sx:{display:"inline-block"},children:"Warning:"})," ","Once you confirm, you will lose all changes that have not been added to the Git server. This action cannot be undone."]}),Object(s.jsxs)(Fe.Flex,{flexDirection:"row-reverse",mt:6,children:[Object(s.jsx)(_.a,{onClick:function(){t&&n&&Re({repositoryId:t.id,branchName:n.current_branch,force:!0}),S()},large:!0,ml:2,"data-testid":"IVCStatusBar-change-git-branch",children:"Yes, discard"}),Object(s.jsx)(_.a,{variant:"secondary",onClick:function(){return C()},large:!0,ml:2,children:"Cancel"})]})]}),t&&n&&P&&Object(s.jsx)(qc,{open:c&&!n.authenticated,loadingUpdateGitRepository:ye,onClose:_e,onCredentialsSubmitCallback:Ue,username:P}),Object(s.jsx)(pr,{title:Object(s.jsxs)(Fe.Flex,{alignItems:"center",sx:{cursor:"default"},children:["Connect to a remote Git repository"," ",Object(s.jsx)(Xr,{content:Object(s.jsxs)(Fe.Box,{children:[Object(s.jsx)(Fe.Box,{as:"a",color:"neutral_0",target:"_blank",href:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#connect-a-git-repository",children:"Learn more in our docs"})," ","about connecting to a remote Git repository"]})})]}),px:0,py:0,onBackgroundClick:function(){return t?h():null},open:o,style:{width:"600px"},onClose:h,footer:t?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(_.a,{large:!0,ml:2,onClick:function(){N===t.target_branch&&K===t.is_target_branch_protected||Ne({repositoryId:t.id,targetBranch:N,protectedBranch:K}),y()},"data-testid":"IVCStatusBar-update-git-repo",children:"Done"}),Object(s.jsx)(_.a,{variant:"secondary",onClick:b,large:!0,ml:2,children:"Disconnect"})]}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(lc,{onClick:function(){Le({repositoryUrl:D,targetBranch:N,protectedBranch:K,username:P.length>0?P:void 0,password:W.length>0?W:void 0})},large:!0,disabled:""===N||""===D,ml:2,loading:me,"data-testid":"IVCStatusBar-connect-git-repo",children:"Verify connection"}),Object(s.jsx)(_.a,{variant:"secondary",onClick:h,large:!0,ml:2,children:"Cancel"})]}),children:Object(s.jsx)(Hc,{activeGitRepository:t,errorConnectGitRepository:Ce,httpsUsername:P,httpsPassword:W,repositoryUrl:D,setRepositoryUrl:F,targetBranch:N,setHttpsPassword:V,setHttpsUsername:H,setTargetBranch:U,protectedBranch:K,setProtectedBranch:Q,generatedSshKey:fe,gitStatus:u,usingSSH:ce,toggleSSH:ie})}),Object(s.jsx)(pr,{title:"Disconnect from remote Git repository",px:0,py:0,open:i,style:{width:"600px"},onClose:p,footer:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(_.a,{"data-testid":"IVCStatusBar-delete-git-repo",large:!0,ml:2,onClick:function(){t&&De(t.id),f()},children:"Yes, disconnect"}),Object(s.jsx)(_.a,{variant:"secondary",onClick:d,large:!0,ml:2,children:"No, nevermind"})]}),children:Object(s.jsxs)(x.a,{as:"div",variant:"bodySecondary",px:6,py:4,sx:{height:"439px",overflow:"auto"},children:["Are you sure you want to disconnect from the repository"," ",Object(s.jsx)(Fe.Box,{as:"strong",children:t&&t.repository_url}),"?"]})})]})}var Zc=Object(l.default)(Fe.Box).withConfig({displayName:"IconBadge__Box",componentId:"sc-1k437im-0"})([""]),$c=Zc;function ei(e){var t=e.top,n=e.right,r=void 0===n?"default":n,a=e.left,o=void 0===a?"default":a,c=e.show,i=e.color,l=void 0===i?"primary_1":i,u=e.borderColor,d=void 0===u?"neutral_0":u,b=e.size,f=void 0===b?"9px":b;return c?Object(s.jsx)(Zc,{bg:l,sx:{top:t,right:r,left:o,position:"absolute",width:f,height:f,borderRadius:"50%",borderWidth:"2px",borderStyle:"solid",borderColor:d}}):null}function ti(e){var t=e.children,n=e.content,r=e.title,a=Object(Le.a)(e,["children","content","title"]);return Object(s.jsx)(Ne.a,Object(Ce.a)(Object(Ce.a)({borderRadius:"large",boxShadow:"8px 9px 21px 0 rgba(0, 0, 0, 0.25)",bg:"rgba(44, 57, 81, 0.96)",placement:"right-start",animation:"shift-away",content:Object(s.jsx)(Fe.Box,{sx:{width:"320px"},children:n}),delay:[500,0],arrow:!0,offset:[0,16],px:4,pt:3,pb:4,textAlign:"left",heading:Object(s.jsx)(R.a,{flex:1,variant:"h4",inheritColor:!0,mb:2,children:r}),inlinePositioning:!0},a),{},{children:Object(s.jsx)(Fe.Box,{width:1,children:t})}))}var ni={primary:{},secondary:{height:48,pl:5,lineBefore:!1}};function ri(e){var t=e.permission,n=void 0===t?[]:t,r=e.title,o=e.description,c=e.path,i=e.match,l=e.icon,u=e.badge,d=e.variant,b=void 0===d?"primary":d,f=Object(he.g)().push,p=Object(he.h)(),h=a.useCallback((function(){return f(c)}),[f,c]),j=a.useMemo((function(){return!!Object(he.f)(p.pathname,{path:i||c})}),[p.pathname,i,c]),O=Object(Se.a)(n,2),x=O[0],v=O[1];if(!Object(we.e)(x,v))return null;var g=ni[b];return o?Object(s.jsx)(ti,{title:r,content:o,children:Object(s.jsx)(wc,Object(Ce.a)(Object(Ce.a)({onClick:h,active:j,"aria-label":r,icon:l&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(ei,{show:!!u,top:"10px",left:"28px",color:"primary_3",borderColor:"neutral_7",size:"12px"}),Object(s.jsx)(F.a,{icon:l})]}),badge:u},g),{},{children:r}))}):Object(s.jsx)(wc,Object(Ce.a)(Object(Ce.a)({onClick:h,active:j,icon:l&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(ei,{show:!!u,top:"10px",left:"28px",color:"primary_3",borderColor:"neutral_7",size:"12px"}),Object(s.jsx)(F.a,{icon:l})]}),badge:u},g),{},{children:r}))}function ai(e){return Object(s.jsx)(Ne.a,Object(Ce.a)({boxShadow:"-3px 5px 13px 0 rgba(0, 0, 0, 0.18)",bg:"dark_1",arrow:!1,placement:"right-end",offset:[0,4],appendTo:"parent",borderRadius:"normal",interactive:!0,animation:"shift-away",sticky:!0,inertia:!0,interactiveBorder:4,delay:[100,100]},e))}var oi=n(2059),ci=function(){return(ci=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function ii(e){var t=e.accept,n=void 0===t?"*":t,r=e.id,a=void 0===r?Object(oi.a)():r,o=e.onUpload,c=e.width,i=e.children;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(O.a,ci({as:"label",htmlFor:a,width:c},{children:i}),void 0),Object(s.jsx)(O.a,{as:"input",id:a,accept:n,type:"file",onChange:o,sx:{display:"none"}},void 0)]},void 0)}var si=function(){return(si=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},li=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function ui(e){var t=e.accept,n=void 0===t?"*":t,r=e.id,a=e.onUpload,o=e.width,c=(e.css,li(e,["accept","id","onUpload","width","css"]));return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(ii,si({accept:n,id:r,onUpload:a,width:o},{children:Object(s.jsx)(_.a,si({as:"span",onClick:function(){}},c),void 0)}),void 0)},void 0)}var di=n(218),bi=n.n(di);function fi(e){var t=e.onUploadModel,n=e.onClose,r=e.allowFileUpload,o=void 0===r||r,c=Object(pe.d)((function(e){return e.auth.apiToken})),i=a.useMemo((function(){return'curl -k -F "model=@my_model.tar.gz" "'.concat(bi()(ut.a,"/projects/default/models?api_token=".concat(c)),'"')}),[c]),l=a.useCallback((function(e){var r=e.target.files[0];if(r){var a=new FormData;a.append("model",r),t(a),n()}}),[t,n]);return Object(s.jsxs)(Fe.Flex,{p:5,flexDirection:"column",alignItems:"start",width:412,style:{textAlign:"left"},children:[Object(s.jsx)(R.a,{variant:"h3",mb:2,children:"Upload a model"}),Object(s.jsx)(x.a,{variant:"bodySecondary",mb:3,children:"To upload a model via the API, use this command:"}),Object(s.jsx)(Fe.Box,{width:1,children:Object(s.jsx)(Bc,{children:i})}),o?Object(s.jsx)(ui,{accept:"application/gzip, .gz",onUpload:l,fullWidth:!0,mt:3,width:1,large:!0,children:"Upload a model from files instead"}):Object(s.jsxs)(Fe.Flex,{alignSelf:"flex-end",flexDirection:"row-reverse",mt:3,children:[Object(s.jsx)(_.a,{large:!0,ml:2,onClick:function(){return n()},children:"Done"}),Object(s.jsx)(_.a,{large:!0,onClick:function(){return n()},variant:"secondary",children:"Cancel"})]})]})}function pi(e){var t=e.onTrainModel,n=e.modelIsTraining,r=e.onUploadModel,a=e.asideExpanded,c=e.setAsideForceExpanded,i=Object(pe.d)((function(e){return e.models.total})),l=o.a.useState(!1),u=Object(Se.a)(l,2),d=u[0],b=u[1],f=o.a.useState(!1),p=Object(Se.a)(f,2),h=p[0],j=p[1],O=o.a.useState(!1),x=Object(Se.a)(O,2),v=x[0],g=x[1],m=We(),y=m.setOnboardingShown,C=m.currentOnboardingHint,S=o.a.useCallback((function(){"upload_model"===C&&y(!1)}),[C,y]),w=o.a.useCallback((function(e){var t=e.target.files[0];if(t){var n=new FormData;n.append("model",t),r(n)}j(!1),S()}),[r,S]);return o.a.useEffect((function(){a&&!v&&j(!1)}),[a,v]),Object(s.jsx)(fc,{title:"Upload or train your first model",content:"In order for your assistant to respond to messages it receives, you will need upload or train a model.",links:[{title:"Learn more about models",href:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#trainupload-a-model"}],sticky:!0,name:"upload_model",placement:"right-start",offset:[0,v||h?287:43],moveTransition:"transform 0.2s cubic-bezier(0, 0.92, 0.24, 1.15)",children:Object(s.jsx)(yn,{onClose:function(){return b(!1)},content:Object(s.jsx)(fi,{onClose:function(){b(!1)},onUploadModel:r,allowFileUpload:!1}),onShow:function(){return c(!0)},onHide:function(){return c(!1)},offset:[0,31],sticky:!0,appendTo:"parent",visible:d,placement:"right-start",containerStyle:{flex:1},children:Object(s.jsx)(ai,{placement:"right-start",offset:[0,28],disabled:d,hideOnClick:!1,onHide:function(){if(g(!1),h)return!1},onShow:function(){g(!0)},onTrigger:function(){h&&j(!1)},containerStyle:{flex:1},content:Object(s.jsxs)(Oc.a,{flexDirection:"column",width:248,py:2,children:[Object(s.jsx)(ii,{accept:"application/gzip, .gz",onUpload:w,children:Object(s.jsx)(wc,{as:"span",p:2,onClick:function(){j(!0)},pl:5,children:"Upload from files"})}),Object(s.jsx)(wc,{p:2,onClick:function(){b(!0),c(!0),S()},pl:5,children:Object(s.jsxs)(Fe.Flex,{alignItems:"center",justifyContent:"space-between",pr:"12px",children:[Object(s.jsx)(Fe.Flex,{children:"Upload via API"}),Object(s.jsx)(Fe.Box,{fontSize:3,children:Object(s.jsx)(Xr,{appendTo:document.body,color:"inherit",interactive:!0,placement:"right",offset:[0,27],content:Object(s.jsxs)(Fe.Box,{style:{cursor:"default",maxWidth:"240px",textAlign:"left"},children:[Object(s.jsx)(Fe.Box,{as:"a",color:"neutral_0",target:"_blank",href:"https://rasa.com/docs/",children:"Learn more"})," ","about training a model in a CI/CD pipeline"]})})})]})}),Object(s.jsx)(wc,{p:2,onClick:function(){S(),t()},pl:5,children:"Train model"})]}),children:Object(s.jsxs)(lc,{width:1,large:!0,onClick:function(){},variant:"primaryDark",loading:n,children:[0===i?"Add":"Update"," model"]})})})})}var hi=n(1e3);function ji(e){var t=e.onChangePassword,n=e.onCancel,r=a.useState(""),o=Object(Se.a)(r,2),c=o[0],i=o[1],l=a.useState(""),u=Object(Se.a)(l,2),d=u[0],b=u[1],f=a.useState(""),p=Object(Se.a)(f,2),h=p[0],j=p[1],O=null;return c!==d?O="passwords do not match!":c.length<8&&(O="your password must be at least 8 characters long"),Object(s.jsxs)(Fe.Box,{children:[Object(s.jsx)(pt.a,{placeholder:"Old Password",type:"password",fullWidth:!0,onChangeValue:function(e){return j(e)},value:h,mb:2,autoFocus:!0}),Object(s.jsx)(pt.a,{placeholder:"New Password",type:"password",fullWidth:!0,onChangeValue:function(e){return i(e)},value:c,mb:2}),Object(s.jsx)(pt.a,{placeholder:"Confirm New Password",type:"password",fullWidth:!0,onChangeValue:function(e){return b(e)},value:d,mb:2}),d.length>0&&O&&Object(s.jsx)(Gr,{children:O}),Object(s.jsxs)(Fe.Flex,{flexDirection:"row-reverse",mr:-1,children:[Object(s.jsx)(_.a,{mx:1,variant:"primary",onClick:function(){t({oldPassword:h,newPassword:c,newPasswordConfirm:d})},disabled:!!O,children:"Change Password"}),Object(s.jsx)(_.a,{mx:1,variant:"secondary",onClick:n,children:"Close"})]})]})}function Oi(e){var t=e.features,n=e.onChangeFeature;return Object(s.jsxs)(Fe.Box,{children:[Object(s.jsx)(x.a,{variant:"bodySecondary",children:"Toggle which experimental features you would like to try. Enabling/Disabling a feature will affect all users of this instance."}),Object(s.jsx)(Fe.Box,{as:"ul",p:0,m:0,mb:2,style:{listStyle:"none"},children:t.map((function(e){var t=e.name,r=e.enabled;return Object(s.jsx)(Fe.Box,{as:"li",children:Object(s.jsx)(Fe.Box,{as:"label",pr:3,pt:3,style:{display:"inline-block"},children:Object(s.jsxs)(Fe.Flex,{flex:"1 1",children:[Object(s.jsx)(Fe.Box,{children:Object(s.jsx)(on.a,{checked:r,onChange:function(){return n({name:t,enabled:!r})}})}),Object(s.jsx)(x.a,{variant:"bodySecondary",px:2,lineHeight:"initial",children:t})]})})},t)}))})]})}function xi(e){var t=e.currentVersion,n=e.latestVersion,r=e.changelog;return Object(s.jsxs)(Fe.Box,{px:4,pt:3,pb:2,children:[Object(s.jsxs)(R.a,{variant:"h5",inheritColor:!0,mb:1,children:["Update to Rasa X ",n]}),Object(s.jsxs)(x.a,{color:"neutral_6",mb:3,sx:{fontSize:1},children:["You are running Rasa X ",t,". Upgrade to the latest available version."]}),Object(s.jsx)(_.a,{large:!0,width:1,mb:2,variant:"primaryDark",as:"a",target:"_blank",href:"https://rasa.com/docs/rasa-x/changelog/updating/",onClick:function(){},children:"Learn how to update"}),Object(s.jsx)(_.a,{large:!0,width:1,variant:"dark",as:"a",target:"_blank",href:r,onClick:function(){},children:"See what's new"})]})}function vi(e){var t=e.username,n=e.features,r=e.passwordModalOpen,a=e.featuresModalOpen,o=e.onChangePasswordModal,c=e.onChangeFeaturesModal,i=e.onChangePassword,l=e.onChangeFeature,u=e.onLogout,d=e.onSupport,b=e.onSendFeedback,f=e.onPowerUserIconClick,p=Object(we.p)(),h=p.currentVersion,j=p.latestVersion,O=p.changelog,x=p.updateAvailable;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(Oc.a,{flexDirection:"column",width:280,py:2,children:[x&&j&&h&&O&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(xi,{currentVersion:h,latestVersion:j,changelog:O}),Object(s.jsx)(ht.a,{opacity:.1,my:2})]}),Object(s.jsx)(wc,{p:2,height:48,pl:4,mt:3,onClick:b,rightIcon:f&&Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(_.a,{variant:"plainIcon",fontSize:"14px",backgroundColor:"primary_3",style:{borderRadius:"50%",zIndex:999},onClick:function(e){e.stopPropagation(),f()},children:Object(s.jsx)(F.a,{color:"white",icon:hi.faStar})})}),children:"Send Feedback"}),Object(s.jsx)(wc,{p:2,onClick:d,height:48,pl:4,children:"Support"}),n.length>0&&Object(s.jsx)(pc.a,{resource:Et.d.Features,action:Et.a.Update,yes:Object(s.jsx)(wc,{p:2,onClick:function(){return c(!0)},height:48,pl:4,children:"Experimental"})}),Object(s.jsx)(pc.a,{resource:Et.d.User,action:Et.a.Update,attributes:["password"],yes:Object(s.jsx)(wc,{p:2,onClick:function(){return o(!0)},height:48,pl:4,children:"Change Password"})}),Object(s.jsx)(wc,{"aria-label":"navbar-user-logout",p:2,onClick:u,height:48,pl:4,children:"Logout"})]}),Object(s.jsx)(pr,{title:"Change Password",open:r,onClose:function(){return o(!1)},children:Object(s.jsx)(ji,{onCancel:function(){return o(!1)},onChangePassword:function(e){i(Object(Ce.a)({username:t},e)),o(!1)}})}),Object(s.jsx)(pr,{title:"Toggle Features",open:a,onClose:function(){return c(!1)},style:{maxWidth:"630px"},footer:Object(s.jsx)(_.a,{onClick:function(){return c(!1)},large:!0,ml:2,children:"Ok"}),children:Object(s.jsx)(Oi,{onChangeFeature:l,features:n})})]})}var gi=n(2062),mi=n(2057),yi=function(e){var t=Object(gi.a)(e,Date.now());return t<-30?"on "+Object(mi.a)(e,"dd MM yyyy"):t<-7?"last 30 days":t<=-1?"last 7 days":t>-1?"today":"on "+Object(mi.a)(e,"dd MM yyy")};a.memo((function(e){var t=e.date;return Object(s.jsx)(s.Fragment,{children:yi(t)},void 0)}));var Ci=Object(l.default)(Oc.a).withConfig({displayName:"NavBar__SubMenu",componentId:"yup4zg-0"})(["opacity:0;transition:opacity ease 0.2s;"]),Si=Object(l.default)(ht.a).withConfig({displayName:"NavBar__StyledSep",componentId:"yup4zg-1"})([""]),wi=Object(l.default)(Ac).withConfig({displayName:"NavBar__AnimatedAside",componentId:"yup4zg-2"})(["&:hover,&.force-focus{.top-level-menu ","{display:none;}","{opacity:1;}","{opacity:0.23;}}"],$c,Ci,Si),Ei=Wa.a.filter;function ki(e){var t=e.features,n=e.modelIsTraining,r=e.onChangeFeature,o=e.onChangePassword,c=e.onSupport,i=e.onSendFeedback,l=e.onLogout,u=e.onNavigate,d=e.onTrainModel,b=e.username,f=e.onFetchGitRepositories,p=e.activeRepositoryStatus,h=e.activeGitRepository,j=e.onStartPollingStatus,O=e.onStopPollingStatus,x=e.onPowerUserIconClick,v=e.onUploadModel,g=e.loadingFetchStatus,m=e.loadingCommitGitChanges,y=Object(we.b)(),C=Object(we.c)(),S=Object(pe.c)(),w=a.useRef(null),E=a.useState(!1),k=Object(Se.a)(E,2),T=k[0],A=k[1],_=a.useState(!1),D=Object(Se.a)(_,2),I=D[0],L=D[1],N=a.useState(!1),U=Object(Se.a)(N,2),B=U[0],M=U[1],P=a.useState(!1),H=Object(Se.a)(P,2),q=H[0],G=H[1],W=a.useState(!1),V=Object(Se.a)(W,2),Y=V[0],z=V[1],K=a.useState(!1),Q=Object(Se.a)(K,2),X=Q[0],J=Q[1],Z=a.useState(!1),$=Object(Se.a)(Z,2),ee=$[0],te=$[1],ne=a.useState(!1),re=Object(Se.a)(ne,2),ae=re[0],oe=re[1],ce=a.useState(!1),ie=Object(Se.a)(ce,2),se=ie[0],le=ie[1],ue=a.useState(!1),de=Object(Se.a)(ue,2),be=de[0],fe=de[1],he=We(),je=he.onboardingShown,Oe=he.setOnboardingShown,xe=he.currentOnboardingHint,ve=Object(pe.d)((function(e){return e.users.currentUser})),ge=a.useMemo((function(){var e;return(null===ve||void 0===ve||null===(e=ve.data)||void 0===e?void 0:e.viewed_hints)||[]}),[ve]);a.useEffect((function(){C&&f()}),[C,f]),a.useEffect((function(){"upload_model"===xe&&G(!1)}),[xe]),a.useEffect((function(){fe(!(!je||"upload_model"!==xe))}),[je,xe,fe]),Object(nc.b)(w,(function(){je&&"upload_model"===xe&&fe(!1)})),a.useEffect((function(){return h?(C&&j({repositoryId:h.id}),function(){return C&&O()}):function(){}}),[C,h,j,O]),a.useEffect((function(){var e=p&&p.authenticated,t=p&&!p.authenticated,n=ge.includes("gitCredentials");if(t&&!n)z(!0);else if(ve&&e&&n){var r=Object(Ce.a)(Object(Ce.a)({},ve),{},{data:{viewed_hints:ge.filter((function(e){return"gitCredentials"!==e}))}});S(Pe.h.request(r))}}),[p,h,ve,ge,S,z]);var me=a.useMemo((function(){return function(e,t){return e?t&&!t.authenticated?"notAuthenticated":t&&t.are_there_local_changes?t.is_committing_to_target_branch_allowed?"changes":"conflicts":"noChanges":"notConnected"}(h,p)}),[h,p]),ye=a.useMemo((function(){return m||g}),[g,m]),Ee=Object(we.p)().updateAvailable;a.useEffect((function(){S(Pt.f.request({search:"",filter:Ei}))}),[S]);var ke=Object(pe.d)((function(e){return e.suggestions.total})),Te=a.useMemo((function(){return{offset:[0,ae?312:10],moveTransition:"transform 0.2s cubic-bezier(0, 0.92, 0.24, 1.15)"}}),[ae]),Ae=a.useCallback((function(){X&&J(!1),G(!0),"connect_repo"===xe&&Oe(!1)}),[X,xe,Oe,J]),_e=a.useCallback((function(){G(!1)}),[G]),De=a.useCallback((function(){G(!1),J(!0)}),[G,J]),Re=a.useCallback((function(){J(!1)}),[J]),Ie=a.useCallback((function(){J(!1)}),[J]),Le=a.useCallback((function(){return z(!0)}),[z]),Ne=a.useCallback((function(){return te(!0)}),[te]),Ue=a.useCallback((function(){return te(!1)}),[te]),Be=a.useCallback((function(){return te(!1)}),[te]),Me=a.useCallback((function(){M(!0),"push_changes"===xe&&Oe(!1)}),[M,xe,Oe]),He=a.useCallback((function(){return M(!1)}),[M]),qe=a.useCallback((function(){return M(!1)}),[M]),Ge=a.useCallback((function(){return G(!1)}),[G]),Ve=a.useCallback((function(){return z(!1)}),[z]);a.useCallback((function(e){fe(e)}),[fe]);return a.useEffect((function(){le(be)}),[be]),Object(s.jsx)(Fe.Box,{sx:{position:"relative",zIndex:110,height:"100%",width:"56px"},children:Object(s.jsx)(wi,{ref:w,onMouseEnter:function(){return le(!0)},onMouseLeave:function(){return le(!1)},className:be?"force-focus":"",children:Object(s.jsxs)(Oc.a,{sx:{overflow:"hidden",height:"100%"},width:1,flexDirection:"column",children:[Object(s.jsxs)(Fe.Box,{flex:"1",pt:5,sx:{overflowX:"hidden"},className:"top-level-menu",children:[y&&Object(s.jsx)(ri,{title:"Analytics",description:"See how users engage with your assistant.",path:"/analytics",icon:zo.faChartLine,permission:[Et.d.Analytics,Et.a.Read]}),Object(s.jsx)(ri,{title:"Talk to your bot",description:"Try out your assistant. Switch on interactive learning mode to correct any mistakes it makes!",path:"/interactive",icon:Qo.faComment,permission:[Et.d.Messages,Et.a.Create]}),Object(s.jsx)(ri,{title:"Conversations",description:"Scan conversations real users have had with your assistant. Correct mistakes your model has made and help it improve.",path:"/conversations",icon:Yn.faComments,permission:[Et.d.Metadata,Et.a.Read]}),Object(s.jsx)(ri,{title:"NLU Inbox",description:"View NLU predictions. Correct any mistakes and create training data.",path:"/nlu-inbox",icon:Jo.faInbox,badge:"number"===typeof ke&&ke>0&&Object(s.jsx)(cc,{count:ke,variant:"primary",maxCount:1e3}),permission:[[Et.d.Examples,Et.d.Logs],Et.a.Read]}),Object(s.jsx)(ri,{title:"Insights",path:"/intent-insights",icon:Zo.faLightbulb,permission:[Et.d.Insights,Et.a.Read]}),Object(s.jsx)(ri,{title:"Models",description:y?"View your models and deploy them to different environments.":"View your models. To update your assistant, mark a new model as active.",path:"/models",icon:ec.faTachometerAlt,permission:[Et.d.Models,Et.a.Read]}),Object(s.jsx)(ri,{title:"Training",path:"/data/training-data",match:"/(data|responses|rules|stories|config|domain)",icon:Xo.faFileCheck,permission:[[Et.d.Examples,Et.d.Logs],Et.a.Read]}),Object(s.jsx)(pc.a,{resource:[Et.d.Examples,Et.d.Logs],action:Et.a.Read,yes:Object(s.jsx)(Ci,{pt:1,flexDirection:"column",children:Object(s.jsxs)(Fe.Card,{ml:5,sx:{borderLeft:"2px solid",borderColor:"rgba(216,216,216,0.08)"},children:[Object(s.jsx)(ri,{title:"NLU data",description:"View and edit your NLU examples, synonyms, regexes, and lookup tables.",path:"/data/training-data",variant:"secondary",permission:[Et.d.Examples,Et.a.Read]}),Object(s.jsx)(ri,{title:"Responses",description:"View and edit the responses your assistant will use to send messages.",path:"/responses",variant:"secondary",permission:[Et.d.Responses,Et.a.Read]}),Object(s.jsx)(ri,{title:"Stories",description:"View, edit and compare your stories.",path:"/stories",variant:"secondary",permission:[Et.d.Stories,Et.a.Read]}),Object(s.jsx)(ri,{title:"Rules",description:"View, edit and compare your rules.",path:"/rules",variant:"secondary",permission:[Et.d.Rules,Et.a.Read]}),Object(s.jsx)(pc.a,{resource:Et.d.Models,action:Et.a.Read,attributes:["settings"],yes:Object(s.jsx)(ri,{title:"Configuration",description:"Edit your model configuration",path:"/config",variant:"secondary"})}),Object(s.jsx)(ri,{title:"Domain",description:"Edit your domain files",path:"/domain",variant:"secondary",permission:[Et.d.Domain,Et.a.Read]}),Object(s.jsxs)(Fe.Box,{pl:5,pr:4,pb:2,children:[Object(s.jsx)(Si,{mt:2,mb:4,opacity:.1}),C?Object(s.jsx)(pi,{onUploadModel:v,onTrainModel:d,modelIsTraining:n,asideExpanded:se,setAsideForceExpanded:fe}):Object(s.jsx)(lc,{width:1,large:!0,variant:"primaryDark",onClick:d,loading:n,children:"Train"})]})]})})})]}),false,C?Object(s.jsx)(pc.a,{resource:Et.d.RepositoryStatus,action:Et.a.Read,yes:Object(s.jsx)(fc,Object(Ce.a)(Object(Ce.a)({title:"Connect Rasa X to Git",content:"Connecting to a Git repository will import your initial assistant to Rasa X. It also makes it easier to version your data and use CI/CD to test your assistant.",links:[{title:"Learn more about connecting Rasa X to git",href:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#integrated-version-control"}],sticky:!0,name:"connect_repo",placement:"right-end",containerStyle:{width:"100%"}},Te),{},{children:Object(s.jsx)(fc,Object(Ce.a)(Object(Ce.a)({title:"Push your improvements to git",content:"You now have improvements to your training data. Push those changes those changes to Git so you can use them to train a new model.",sticky:!0,name:"push_changes",placement:"right-end",containerStyle:{width:"100%"}},Te),{},{children:Object(s.jsx)(ai,{onShow:function(){oe(!0)},onHide:function(){oe(!1)},containerStyle:{width:"100%"},disabled:B||ee||q||Y,content:Object(s.jsx)(Jc,{gitStatus:me,activeGitRepository:h,activeRepositoryStatus:p,commitModalOpen:B,connectModalOpen:q,credentialsModalOpen:Y,discardModalOpen:ee,disconnectModalOpen:X,currentOnboardingHint:xe,onRequestConnect:Ae,onCancelConnect:_e,onRequestDisconnect:De,onCancelDisconnect:Ie,onFinishDisconnect:Re,onRequestAuthentication:Le,onRequestDiscardChanges:Ne,onRequestCommit:Me,onCancelCommit:He,onFinishCommit:qe,onRequestUpdateGitRepo:Ge,onFinishChanges:Ue,onCancelDiscardChanges:Be,onCloseCredentials:Ve}),children:Object(s.jsx)(wc,{icon:Object(s.jsx)(F.a,{icon:ye?$o.faSync:Ko.faCodeMerge,spin:ye}),height:48,lineBefore:!1,sx:{backgroundColor:"neutral_8",borderLeft:"6px solid",borderColor:hc(me)},paddingLeft:"10px",rightIcon:Object(s.jsx)(F.a,{icon:Yo.faAngleRight}),children:Object(s.jsx)(R.a,{variant:"h4",inheritColor:!0,children:"notConnected"===me?"Not connected":h&&h.target_branch})})})}))})),no:Object(s.jsx)(Fe.Box,{px:3,children:Object(s.jsx)(Si,{sx:{opacity:0,transition:"opacity ease 0.2s"},barColor:"neutral_6"})})}):Object(s.jsx)(Fe.Box,{px:3,children:Object(s.jsx)(Si,{sx:{opacity:0,transition:"opacity ease 0.2s"},barColor:"neutral_6"})}),y&&Object(s.jsx)(pc.a,{resource:[Et.d.Users,Et.d.Roles],action:Et.a.Read,yes:Object(s.jsx)(ai,{content:Object(s.jsx)(Ec,{onNavigate:u}),children:Object(s.jsx)(wc,{icon:Object(s.jsx)(F.a,{icon:tc.faUser}),rightIcon:Object(s.jsx)(F.a,{icon:Yo.faAngleRight}),children:"Admin"})})}),Object(s.jsx)(ai,{content:Object(s.jsx)(vi,{username:b,features:t,passwordModalOpen:T,featuresModalOpen:I,onChangePassword:o,onChangeFeature:r,onLogout:l,onSendFeedback:i,onPowerUserIconClick:x,onSupport:c,onChangePasswordModal:function(e){return A(e)},onChangeFeaturesModal:function(e){return L(e)}}),children:Object(s.jsx)(wc,{"data-qa":"navbar-user-badge_li",icon:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(ei,{show:!!Ee,top:"7px",left:"33px",color:"primary_3",borderColor:"neutral_7",size:"12px"}),Object(s.jsx)(bc,{variant:"small",username:b,m:"-2px"})]}),rightIcon:Object(s.jsx)(F.a,{icon:Yo.faAngleRight}),children:b})})]})})})}var Ti={onLogout:wt.h,onChangePassword:wt.a.request,onChangeFeature:wt.i.request,onFetchFeatures:wt.d.request,onTrainModel:Vo.k.request,onFetchGitRepositories:_c.e.request,onStartPollingStatus:_c.h,onStopPollingStatus:_c.i,onUploadModel:Vo.l.request},Ai=function(){return Object(rr.c)("https://rasahq.typeform.com/to/NSJvZM")};var _i=Object(pe.b)((function(e){return{username:e.auth.username,role:e.auth.role,features:e.auth.features,modelIsTraining:e.models.modelIsTraining,activeRepositoryStatus:e.gitRepositories.activeRepositoryStatus,activeGitRepository:e.gitRepositories.activeGitRepository,loadingFetchStatus:e.gitRepositories.loading.fetchGitRepositoryStatus,loadingCommitGitChanges:e.gitRepositories.loading.updateGitRepository}}),Ti)((function(e){var t=e.username,n=e.onLogout,r=e.onPowerUserIconClick,a=Object(Le.a)(e,["username","onLogout","onPowerUserIconClick"]),o=Object(we.b)(),c=Object(we.p)().currentVersion,i=Object(he.g)().push;return null===t?null:Object(s.jsx)(ki,Object(Ce.a)({onLogout:function(){return n(null)},onSupport:function(){var e=new URLSearchParams({body:"**Version: Rasa ".concat(o?"Enterprise":"X"," ").concat(c,"**\n\n"),category:"rasa-x"}),t="https://forum.rasa.com/new-topic?".concat(e.toString());window.location.href=t},onSendFeedback:Ai,onPowerUserIconClick:r,onNavigate:i,username:t},a))})),Di={onStartPollingHealth:Vo.j,onFetchFeatures:wt.d.request};var Ri=Object(pe.b)((function(e){return{accessToken:e.auth.accessToken,role:e.auth.role,modelIsTraining:e.models.modelIsTraining,latestModelIsNew:e.models.latestModelIsNew,uploadingModel:e.models.loading.uploadModel,trainingError:e.models.error.training,cleanTrainState:e.models.cleanState.training,cleanUploadState:e.models.cleanState.uploading,conversationDeletionFailed:e.messages.conversationDeletionFailed,modelUploadError:e.models.error.uploadModel,modelExists:e.models.modelExists}}),Di)((function(e){var t=e.authRequired,n=e.accessToken,r=e.role,o=e.onFetchFeatures,c=(e.onStartPollingHealth,e.latestModelIsNew),i=e.uploadingModel,l=e.modelIsTraining,u=e.trainingError,d=e.cleanTrainState,b=e.cleanUploadState,f=e.conversationDeletionFailed,p=e.modelUploadError,h=e.modelExists,j=e.component,O=Object(Le.a)(e,["authRequired","accessToken","role","onFetchFeatures","onStartPollingHealth","latestModelIsNew","uploadingModel","modelIsTraining","trainingError","cleanTrainState","cleanUploadState","conversationDeletionFailed","modelUploadError","modelExists","component"]),x=Object(pe.c)(),v=a.useState(!1),g=Object(Se.a)(v,2),m=g[0],y=g[1],C=Object(we.l)(),S=C.userGroups,w=C.userId,E=st(),k=E.addToast,T=E.removeToast,A=Object(pe.d)((function(e){return e.users.currentUser})),D=He();a.useEffect((function(){o()}),[o]),a.useEffect((function(){x(Pe.b.request())}),[x]);var R=a.useCallback((function(){D("powerUser")}),[D]),F=a.useCallback((function(){y(!1)}),[y]),I=a.useCallback((function(){return y(!0)}),[]),L=a.useMemo((function(){return t&&(!n||r&&"none"===r[0])}),[n,t,r]),N=a.useMemo((function(){return null===S||void 0===S?void 0:S.includes("power_user")}),[S]),U=a.useMemo((function(){var e;return(null===A||void 0===A||null===(e=A.data)||void 0===e?void 0:e.viewed_hints)||[]}),[A]);return a.useEffect((function(){!L&&w&&N&&!U.includes("powerUser")&&k({head:"Congratulations! You have earned free Rasa swag",content:"You have been using Rasa X a lot lately. We want to celebrate this by sending you a t-shirt on us and offer you the opportunity to help shape our roadmap. Let us know how to get a hold of you, and we will send you an email with more details.",variant:"primary",timeout:-1,key:"powerUserToast",onUnmount:function(){R()},actions:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(_.a,{variant:"inverse",large:!0,ml:4,onClick:function(){T("powerUserToast"),y(!0),R()},children:"Sure, thanks!"}),Object(s.jsx)(_.a,{variant:"plain",large:!0,onClick:function(){T("powerUserToast"),R()},children:"I'll pass"})]})})}),[U,R,N,S,w,k,L,T]),L?Object(s.jsx)(he.b,{to:{pathname:"/login"}}):Object(s.jsx)(he.c,Object(Ce.a)(Object(Ce.a)({},O),{},{render:function(e){var t=e.history,n=Object(Le.a)(e,["history"]);return Object(s.jsx)(qo,{trainingError:u,latestModelIsNew:c,modelIsTraining:l,uploadingModel:i,cleanUploadState:b,cleanTrainState:d,conversationDeletionFailed:f,modelUploadError:!!p,modelExists:h,onNavigate:t.push,children:Object(s.jsxs)(Fe.Flex,{sx:{height:"100%",minWidth:"".concat(1e3,"px")},children:[Object(s.jsxs)(Fe.Box,{flex:"0 0 auto",children:[Object(s.jsx)(_i,{onPowerUserIconClick:N&&A&&!U.includes("powerUserSubmitted")?I:void 0}),w&&Object(s.jsx)(Wo,{open:m,userId:w,onClose:F,onDataSubmit:function(){return D("powerUserSubmitted")}})]}),Object(s.jsx)(j,Object(Ce.a)({history:t},n))]})})}}))})),Fi=n(1010),Ii=(n(861),n(1687),n(1688),n(1689),n(1690),n(1691),n(1694),n(1008)),Li=n(1009),Ni=n.n(Li);function Ui(){var e=Object(ve.a)(["\n  .CodeMirror {\n    ","\n    height: auto;\n    margin-left: -24px;\n\n    & * {\n      ","\n      letter-spacing: 1px;\n    }\n\n    &-line {\n      .cm-header,\n      .cm-variable-2,\n      .cm-atom {\n        ","\n      }\n\n      .cm-quote {\n        ","\n      }\n\n      .cm-variable,\n      .cm-variable-3 {\n        ","\n      }\n    }\n\n    &-gutters {\n      background-color: transparent;\n      border: 0;\n      margin-left: 28px;\n\n      &.lineerrors {\n        margin-left: -70px;\n      }\n    }\n\n    &-gutter-elt {\n      left: 28px;\n    }\n\n    &-linenumber {\n      ","\n      padding: 0;\n    }\n\n    &-sizer {\n      padding-left: 28px;\n    }\n\n    &-foldmarker {\n      cursor: pointer;\n      border-radius: 1px;\n      width: 16px;\n      height: 8px;\n      line-height: 1px;\n      display: inline-block;\n      letter-spacing: -3px;\n      margin-left: 4px;\n      ","\n      color: transparent;\n      position: relative;\n\n      &:after {\n        content: '...';\n        position: absolute;\n        left: 0;\n        ","\n      }\n    }\n\n    &-foldgutter {\n      width: 20px;\n\n      &-open,\n      &-folded {\n        cursor: pointer;\n        ","\n        text-align: center;\n      }\n\n      &-open:after {\n        content: '\\25BE';\n      }\n\n      &-folded:after {\n        content: '\\25B8';\n      }\n    }\n  }\n"],["\n  .CodeMirror {\n    ","\n    height: auto;\n    margin-left: -24px;\n\n    & * {\n      ","\n      letter-spacing: 1px;\n    }\n\n    &-line {\n      .cm-header,\n      .cm-variable-2,\n      .cm-atom {\n        ","\n      }\n\n      .cm-quote {\n        ","\n      }\n\n      .cm-variable,\n      .cm-variable-3 {\n        ","\n      }\n    }\n\n    &-gutters {\n      background-color: transparent;\n      border: 0;\n      margin-left: 28px;\n\n      &.lineerrors {\n        margin-left: -70px;\n      }\n    }\n\n    &-gutter-elt {\n      left: 28px;\n    }\n\n    &-linenumber {\n      ","\n      padding: 0;\n    }\n\n    &-sizer {\n      padding-left: 28px;\n    }\n\n    &-foldmarker {\n      cursor: pointer;\n      border-radius: 1px;\n      width: 16px;\n      height: 8px;\n      line-height: 1px;\n      display: inline-block;\n      letter-spacing: -3px;\n      margin-left: 4px;\n      ","\n      color: transparent;\n      position: relative;\n\n      &:after {\n        content: '...';\n        position: absolute;\n        left: 0;\n        ","\n      }\n    }\n\n    &-foldgutter {\n      width: 20px;\n\n      &-open,\n      &-folded {\n        cursor: pointer;\n        ","\n        text-align: center;\n      }\n\n      &-open:after {\n        content: '\\\\25BE';\n      }\n\n      &-folded:after {\n        content: '\\\\25B8';\n      }\n    }\n  }\n"]);return Ui=function(){return e},e}var Bi=Object(l.default)(Ii.Controlled)(Ui(),Qe.color,Qe.typography,Object(Qe.system)({headerColor:{property:"color",scale:"colors"}}),Object(Qe.system)({quoteColor:{property:"color",scale:"colors"}}),Object(Qe.system)({variableColor:{property:"color",scale:"colors"}}),Object(Qe.system)({lineNumberColor:{property:"color",scale:"colors"}}),Object(Qe.system)({foldMarkerBg:{property:"color",scale:"colors"}}),Object(Qe.system)({foldMarkerColor:{property:"color",scale:"colors"}}),Object(Qe.system)({lineNumberColor:{property:"color",scale:"colors"}}));function Mi(e){var t=e.value,n=e.onChange,r=e.language,o=e.readOnly,c=void 0===o?[]:o,i=e.errors,u=e.disabled,d=a.useContext(l.ThemeContext),b=a.useState(null),f=Object(Se.a)(b,2),p=f[0],h=f[1],j=st().addToast,O=a.useMemo((function(){return new RegExp("^(".concat(c.map((function(e){return e.title})).join("|"),")\\s*:(\\s*[\\n\\r]+(?:^[-\\s\\t]+.*[\\n\\r]+|^-.*)*)"),"gm")}),[c]),x=a.useCallback((function(e,t){for(var n,r=e.getDoc();null!==(n=O.exec(t));){var a=r.posFromIndex(n.index),o=r.posFromIndex(n.index+n[0].length);if(r.findMarksAt(a).length>0)return;e.foldCode(a),r.markText(a,o,{css:"color: ".concat(Object(Qe.get)(d,"colors.neutral_6")),inclusiveRight:!1,attributes:{title:n[1],readOnly:!0}})}}),[O,d]),v=a.useCallback((function(){var e=document.createElement("div");return e.innerHTML=Ni.a.renderToStaticMarkup(Object(s.jsx)(Fe.Box,{children:Object(s.jsx)(F.a,{icon:Fi.faExclamationCircle,color:Object(Qe.get)(d,"colors.secondary_3")})})),e}),[d]),g=a.useCallback((function(e){e.clearGutter("lineerrors"),i&&i.map((function(t){return e.setGutterMarker(t-1,"lineerrors",v())}))}),[i,v]);a.useEffect((function(){if(p&&u){var e=p.getDoc();e.markText(e.posFromIndex(0),e.posFromIndex(t.length),{css:"color: ".concat(Object(Qe.get)(d,"colors.neutral_6")),attributes:{readOnly:!0}})}}),[u,p,d,t]),a.useEffect((function(){p&&!u&&x(p,t)}),[p,t,u,x]);var m=a.useCallback((function(e){return h(e)}),[]),y=a.useCallback((function(e,t,r){[].concat(Object(ye.a)(e.getDoc().findMarksAt(t.from)),Object(ye.a)(e.getDoc().findMarksAt(t.to))).some((function(e){var t;if(null===(t=e.attributes)||void 0===t?void 0:t.readOnly){var n=c.find((function(t){return t.title===e.attributes.title}));n&&n.alert&&j(n.alert)}return!0}))||n(r)}),[j,n,c]);return Object(s.jsx)(Bi,{value:t,options:{mode:r,lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","lineerrors"]},editorDidMount:m,onBeforeChange:y,onChange:g})}function Pi(e){var t=e.config,n=e.error,r=e.onSave,o=Object(we.k)();a.useEffect((function(){o("view:config:loaded")}),[o]);var c=a.useState(t),i=Object(Se.a)(c,2),l=i[0],u=i[1],d=a.useState(n),b=Object(Se.a)(d,2),f=b[0],p=b[1],h=st().addToast;a.useEffect((function(){f&&h({head:f.name,content:f.message,variant:"error"})}),[f,h]),a.useEffect((function(){u(t)}),[t]),a.useEffect((function(){p(n)}),[n]);var j=l!==t;return Object(s.jsx)(At.a,{title:Object(s.jsxs)(Fe.Flex,{alignItems:"center",children:["Model Configuration"," ",Object(s.jsx)(Xr,{content:Object(s.jsxs)(Fe.Box,{style:{cursor:"default",maxWidth:"240px",textAlign:"left"},children:["Edit the"," ",Object(s.jsx)(Fe.Box,{as:"a",color:"neutral_0",target:"_blank",href:"http://yaml.org/start.html",children:"yaml"})," ","configuration file for your Rasa model. You can learn more about the available options in"," ",Object(s.jsx)(Fe.Box,{as:"a",color:"neutral_0",target:"_blank",href:"https://rasa.com/docs/",children:"the Rasa documentation"})]})})]}),scrollable:!0,rightContent:Object(s.jsx)(pc.a,{resource:Et.d.Models,attributes:["settings"],action:Et.a.Update,yes:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(_.a,{onClick:function(){u(t)},variant:"secondary",large:!0,mr:2,disabled:!j,children:"Discard"}),Object(s.jsx)(_.a,{onClick:function(){r(l)},large:!0,mr:3,disabled:!j,children:"Save changes"})]})}),children:Object(s.jsxs)(Fe.Box,{children:[j&&Object(s.jsx)(he.a,{message:"Are you sure you want to navigate away before saving the new configuration file?"}),Object(s.jsx)(D.a,{p:4,sx:{boxShadow:"0 2px 4px 0 rgba(207, 207, 207, 0.21)",border:0,borderRadius:"large"},children:Object(s.jsx)(Mi,{language:"yaml",value:l,onChange:function(e){return u(e)}})})]})})}Bi.defaultProps={color:"neutral_8",headerColor:"primary_1",quoteColor:"green_1",variableColor:"neutral_8",lineNumberColor:"neutral_6",foldMarkerBg:"primary_1",foldMarkerColor:"neutral_0",fontFamily:"mono",fontSize:"1",lineHeight:"normal"};var Hi={onFetchConfig:nr.c.request,onSave:nr.h.request};var qi=Object(pe.b)((function(e){return{config:e.projects.config,error:e.projects.error}}),Hi)((function(e){var t=e.onFetchConfig,n=Object(Le.a)(e,["onFetchConfig"]);return a.useEffect((function(){t()}),[t]),Object(s.jsx)(Pi,Object(Ce.a)({},n))})),Gi=n(534),Wi=n(1011);var Vi={primary:{bg:"primary_2",color:"neutral_0"},error:{bg:"secondary_2",color:"neutral_0"},warning:{bg:"yellow_3",color:"yellow_1",borderColor:"yellow_2",border:"solid 1px"},success:{bg:"cyan_3",color:"#56bdba",borderColor:"cyan_2",border:"solid 1px"},alertThatUsesColoursThatArentInTheStyleguide:{bg:"#e8fff7",color:"#56bdba",border:"solid 1px",borderColor:"#88deca"}},Yi={small:{width:"28px",height:"28px"},medium:{width:"32px",height:"32px"},large:{width:"40px",height:"40px"},xl:{width:"56px",height:"56px"}},zi=function(){return(zi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ki={bg:"primary_2",border:"none",borderRadius:"normal",boxShadow:"button",color:"neutral_0",fontSize:1,fontWeight:1,lineHeight:"normal",px:3,py:"6px","&.large":{fontSize:2,py:"10px"},"&:hover":{bg:"primary_1"},"&:disabled, &.disabled":{color:"neutral_6",bg:"neutral_3",boxShadow:"none"}},Qi={borderRadius:"normal",fontSize:1,fontWeight:1,lineHeight:"normal",px:3,py:"5px","&.large":{fontSize:2,py:"9px"},"&:hover, &.hover":{borderColor:"primary_1",color:"primary_1"},"&:disabled, &.disabled":{borderColor:"neutral_5",color:"neutral_6"}},Xi=zi(zi({},Qi),{bg:"neutral_0",border:"1px solid",borderColor:"primary_2",color:"primary_2"}),Ji={bg:"transparent",border:"none",color:"neutral_0",fontSize:1,fontWeight:1,lineHeight:"small",p:0,"&.large":{fontSize:2}},Zi={bg:"transparent",border:"none",borderRadius:"normal",color:"neutral_6",fontSize:"10px",lineHeight:0,p:2,"&:hover":{color:"neutral_7"},"&.active":{color:"primary_1"}},$i={bg:"transparent",border:"none",borderRadius:"normal",color:"neutral_6",fontSize:"16px",lineHeight:0,p:"12px","&.active":{bg:"transparent",color:"primary_2"},"&:hover, &.hover":{bg:"primary_2",color:"neutral_0"}},es={primary:Ki,primaryDark:zi(zi({},Ki),{boxShadow:"none"}),login:zi(zi({},Ki),{letterSpacing:"1.1px !important",lineHeight:"28px"}),secondary:Xi,secondaryDashed:zi(zi({},Qi),{bg:"neutral_1",border:"1px dashed",borderColor:"neutral_5",color:"neutral_6"}),dark:{bg:"neutral_8",borderRadius:"normal",color:"neutral_0",fontSize:1,fontWeight:1,lineHeight:"normal",px:3,py:"6px","&.large":{fontSize:2,py:"10px"}},inverse:{bg:"transparent",border:"1px solid",borderColor:"neutral_0",borderRadius:"normal",color:"neutral_0",fontSize:1,fontWeight:1,lineHeight:"normal",px:3,py:"6px","&.large":{fontSize:2,py:"10px"}},plain:Ji,plainDropdown:zi(zi({},Ji),{color:"neutral_8","&:disabled, &.disabled":{color:"neutral_6"}}),icon:$i,iconInverse:zi(zi({},$i),{color:"neutral_0","&:hover, &.hover":zi(zi({},$i["&:hover, &.hover"]),{color:"primary_1",bg:"neutral_0"})}),headerIcon:{bg:"neutral_0",border:"none",borderRadius:0,color:"neutral_6",fontSize:"16px",lineHeight:0,p:"28px","&.active":{bg:"primary_2",color:"neutral_0"},"&:hover, &.hover":{"&.active":{bg:"primary_1",color:"neutral_0"},bg:"neutral_1",color:"neutral_6"}},secondaryHeaderIcon:{bg:"neutral_0",border:"none",borderRadius:0,width:"56px",height:"56px",color:"neutral_6",fontSize:"12px",lineHeight:0,"&:hover, &.hover":{color:"primary_2"},"&.active":{bg:"primary_1",color:"neutral_0"}},plainIcon:Zi,plainIconDark:zi(zi({},Zi),{"&:hover, &.hover":zi(zi({},Zi["&:hover"]),{color:"neutral_1"})}),barIcon:{bg:"transparent",border:"none",borderRadius:0,color:"primary_2",fontSize:"16px",lineHeight:0,p:"24px","&.active":{bg:"primary_2",color:"neutral_0"},"&:hover, &.hover":{"&.active":{bg:"primary_1",color:"neutral_0"},bg:"neutral_1",color:"primary_1"}},onboardingIcon:zi(zi({},Ki),{bg:"neutral_0",color:"primary_2",padding:0,border:"1px solid",borderColor:"primary_4",borderRadius:50,fontSize:"20px",width:"48px",height:"48px","&:hover, &.hover":{bg:"neutral_1",color:"neutral_7"},"&.active":{color:"primary_1"}}),link:zi(zi({},Ji),{color:"primary_2",fontSize:"13px",lineHeight:"20px",fontWeight:400,"&:hover":{textDecoration:"underline"}}),smallLink:zi(zi({},Ji),{color:"primary_2",fontSize:"11px",lineHeight:"12px",fontWeight:400}),circle:zi(zi({},Ki),{width:65,height:65,borderRadius:65,lineHeight:0}),secondaryFill:zi(zi({},Xi),{"&:hover, &.hover":{bg:"primary_1",color:"neutral_0"}})},ts=function(){return(ts=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ns={content:'""',borderRadius:"1000px",position:"absolute",top:"-4px",bottom:"-4px",left:"-4px",right:"-4px",zIndex:-1},rs={alert:Vi,avatar:Yi,checkbox:{default:{color:"neutral_0",borderRadius:"4px","input:checked + &":{bg:"primary_2",border:"none",borderColor:"transparent"},"input:focus + &::before":ts(ts({},ns),{bg:"primary_4"})},primary:{color:"primary_2",borderRadius:"4px","input:checked + &":{bg:"neutral_0"},"input:focus + &::before":ts(ts({},ns),{bg:"primary_3"})},radio:{color:"primary_2",borderRadius:"20px","input:checked + &":{bg:"neutral_0",border:"1px solid",borderColor:"primary_2"}}},modal:{default:{},transparentBg:{}},separator:{left:{"& > :first-of-type":{pr:"12px"},"&:before":{display:"none"}},center:{"& > :first-of-type":{px:"12px"}},right:{"& > :first-of-type":{pl:"12px"},"&:after":{display:"none"}}},table:{default:{borderRadius:"large","& .table-row:last-of-type":{border:"none",borderBottomLeftRadius:"large",borderBottomRightRadius:"large"}},flattened:{borderTopRightRadius:0,borderTopLeftRadius:0,borderBottomLeftRadius:"large",borderBottomRightRadius:"large"}}},as={button:es,option:{default:{color:"neutral_8","&:hover":{bg:"neutral_1"}},primary:{color:"primary_2","&:hover":{bg:"neutral_1",color:"primary_1","&.active":{bg:"primary_1",color:"neutral_0"}}}}},os={heading:{h1:{fontSize:6},h2:{fontSize:4},h3:{fontSize:3},h4:{fontSize:2},h5:{fontSize:1}},text:{bodyPrimary:{fontFamily:"sansSerif",color:"neutral_8",fontSize:3,lineHeight:"normal"},bodySecondary:{fontFamily:"sansSerif",color:"neutral_8",fontSize:2,lineHeight:"normal"},captionPrimary:{fontFamily:"sansSerif",color:"neutral_6",fontSize:2,lineHeight:"small"},captionSecondary:{fontFamily:"sansSerif",color:"neutral_6",fontSize:0,lineHeight:"tight"},metadata:{fontFamily:"sansSerif",color:"neutral_7",fontSize:0,lineHeight:"tight"},code:{color:"neutral_8",fontFamily:"mono",fontSize:1,lineHeight:"normal"},inverse:{fontFamily:"sansSerif",color:"neutral_0",fontSize:3,lineHeight:"normal"}}},cs=[11,12,13,14,16,20,24,32,48,64,72],is={large:"36px",big:"24px",normal:"20px",small:"16px",tight:"12px"},ss=[400,700],ls={primary_1:"#4A3DD4",primary_2:"#574AE2",primary_3:"#6C5EF9",primary_4:"#DDDCF6",neutral_0:"#FFFFFF",neutral_1:"#F6F7FB",neutral_2:"#F2F4FA",neutral_3:"#ECEFF7",neutral_4:"#DDE2EF",neutral_5:"#CED5E7",neutral_6:"#979FB4",neutral_7:"#2C3951",neutral_8:"#252D40",secondary_1:"#972422",secondary_2:"#C6423F",secondary_3:"#E85653",secondary_4:"#F8CBCA",orange_1:"#EB9015",orange_2:"#FF9F1C",orange_3:"#F8DEBB",yellow_1:"#E4B912",yellow_2:"#FFD121",yellow_3:"#FBF2D1",green_1:"#48A9A6",green_2:"#4DD6D2",green_3:"#D6EBEA",blue_1:"#3158D6",blue_2:"#446FF8",blue_3:"#D0E3FC",cyan_1:"#4DD6D2",cyan_2:"#87E5E2",cyan_3:"#DEFBFA",dark_1:"#2C3951",dark_2:"#263146",grey:"#dde2ef",black:"#333333",white:"#ffffff",active:"#e6f7ff",dark_grey_temp:"#6B7694"},us=(["#bae25b","#94c6ff","#ff5a5a","#50c4ab","#ffd036","#98fdff","#f9946a","#ad96f0","#5c8eff","#fbb6ff","#546c82","#c3c3c3"].map((function(e){return e.slice(1)})),{color:ls.neutral_8,lineHeight:parseFloat(is.big),fontSize:cs[2],canvasFontConfig:ss[0]+" "+cs[2]+"px Lato"}),ds={breakpoints:["0","500px","800px","1200px","1900px"],colors:ls,colours:ls,fontSizes:cs,fontWeights:ss,gradients:{primary_1:"linear-gradient(56deg, rgba(113, 22, 208, 0.95), #4e61e1)",secondary_1:"linear-gradient(90deg, rgba(236,239,247,0.2) 0%, rgba(236,239,247,1) 50%, rgba(236,239,247,0.2) 100%)"},heights:[32,40,48,56,64],letterSpacings:[.6,.7,.9,1.4],lineHeights:is,space:[0,4,8,16,24,32,40,48,56,64,72,80,128,256,512],fonts:{mono:'"IBM Plex Mono", "Courier New", Courier, monospace',sansSerif:'"Lato", -apple-system, BlinkMacSystemFont, "avenir next", avenir, "helvetica neue", helvetica, ubuntu, roboto, noto, "segoe ui", arial, sans-serif'},active:{background:ls.active},radii:{tiny:2,small:4,normal:8,large:16},actions:{default:{color:"dark_grey_temp"},incorrect:{color:"dark_grey_temp",textDecoration:"line-through"},correct:{color:ls.primary_2,fontWeight:ss[1]}},shadows:{sm:"0 6px 21px 0 rgba(152, 152, 152, 0.06)",md:"0 3px 6px 0 rgba(96,97,149,0.20)",lg:"0 11px 43px 0 rgba(120, 119, 150, 0.1)",selectBox:"0 2px 8px 0 "+ls.neutral_5,card:"0 2px 4px 0 rgba(207, 207, 207, 0.21)",button:"0 2px 4px 0 rgba(207, 207, 207, 0.67)",pageTitle:"0 2px 6px 0 "+ls.neutral_3},menuItem:{default:{color:ls.neutral_6,backgroundColor:"transparent","&:hover":{color:ls.neutral_0,backgroundColor:ls.dark_2}}},text:os,buttons:as,variants:rs,sentenceEditor:us};function bs(e,t){var n="string"===typeof t?t:ds.breakpoints[t],r=Object(a.useMemo)((function(){return window.matchMedia("("+e+": "+n+")")}),[e,n]),o=Object(a.useState)(!!r.matches),c=o[0],i=o[1];return Object(a.useEffect)((function(){var e=function(){return i(!!r.matches)};return r.addEventListener("change",e),e(),function(){r.removeEventListener("change",e)}}),[r]),c}var fs=n(53),ps=n(223),hs=n.n(ps),js=function(){return(js=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Os=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},xs=a.forwardRef((function(e,t){var n=e.showWhenDisabled,r=e.active,a=e.hover,o=e.fullWidth,c=e.large,i=e.block,l=e.variant,u=void 0===l?"primary":l,d=Os(e,["showWhenDisabled","active","hover","fullWidth","large","block","variant"]),b=["icon","headerIcon","secondaryHeaderIcon"].includes(u)&&!n,f=d.disabled||!d.onClick&&!d.href;return Object(s.jsx)(fs.b,js({as:"button",variant:"button."+u,className:hs()({active:r,hover:a,large:c,disabled:d.disabled}),ref:t,sx:js(js({},i?{borderRadius:0}:{}),{alignSelf:"center",cursor:f?"not-allowed":"pointer",letterSpacing:0,outline:0,position:"relative",transition:"all .2s ease","&:disabled, &.disabled":{boxShadow:"none",display:b?"none":void 0},width:o?"100%":null})},d),void 0)})),vs=n(125),gs=function(){return(gs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ms=Object(vs.default)(fs.c)(Object(Qe.compose)(Qe.borderRadius,Qe.boxShadow)),ys=a.forwardRef((function(e,t){return Object(s.jsx)(ms,gs({ref:t},e),void 0)}));ys.defaultProps={bg:"neutral_0",borderRadius:"normal",boxShadow:"card",p:3};var Cs=n(513),Ss=function(){return(Ss=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ws=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Es=Object(vs.default)((function(e){e.color,e.fontSize,e.opacity;var t=ws(e,["color","fontSize","opacity"]);return Object(s.jsx)(Cs.a,Ss({},t),void 0)}))(Object(Qe.compose)(Qe.space,Qe.color,Qe.fontSize));function ks(e){var t=e.icon,n=ws(e,["icon"]);return Object(s.jsx)(Es,Ss({icon:t,style:{width:"1em"}},n),void 0)}ks.defaultProps={color:"inherit",fontSize:"inherit"};var Ts=a.memo(ks);a.createContext((function(){}));var As=function(){return Object(d.b)()},_s=function(){return(_s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ds=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Rs=a.forwardRef((function(e,t){var n=e.sx,r=e.loading,a=e.inheritColor,o=e.variant,c=void 0===o?"bodyPrimary":o,i=Ds(e,["sx","loading","inheritColor","variant"]);return Object(s.jsx)(fs.g,_s({as:"code"===c?"code":"p",variant:"text."+c},i,{ref:t,sx:_s(_s(_s({display:"block",fontWeight:400,letterSpacing:r?"0px important":0,m:0,maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"},a?{color:"inherit !important"}:{}),r?{color:function(e){return e.colours.neutral_1+" !important"}}:{}),n||{})}),void 0)})),Fs=function(){return(Fs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Is=function(e){switch(null===e||void 0===e?void 0:e.split("-")[0]){case"top":return{bottom:0};case"bottom":return{top:"-5px"};case"left":return{right:"-5px"};case"right":return{left:"-5px"}}return{}},Ls="normal",Ns=a.forwardRef((function(e,t){var n=e.children,r=e.style,o=void 0===r?{}:r,c=e.disableArrow,i=e.arrowStyle,l=void 0===i?{}:i,u=e.arrowRef,d=e.id,b=e["data-popper-placement"],f=Object(h.a)();return a.useEffect((function(){b&&(f.set(Fs({opacity:0},function(e){switch(null===e||void 0===e?void 0:e.split("-")[0]){case"top":return{y:-10};case"bottom":return{y:10};case"left":return{x:-10};case"right":return{x:10};default:return{}}}(b))),f.start({opacity:1,x:0,y:0}))}),[f,b]),Object(s.jsx)("div",Fs({"data-popper-placement":b,style:Fs({display:"inline-block",zIndex:99},o),id:d,ref:t},{children:Object(s.jsx)(j.a.div,Fs({animate:f},{children:Object(s.jsxs)(fs.a,Fs({sx:{display:"inline-block",bg:"neutral_8",color:"neutral_0",borderRadius:Ls,offset:.1}},{children:[Object(s.jsx)(Rs,Fs({variant:"bodySecondary",sx:{py:2,px:4},inheritColor:!0},{children:n}),void 0),!c&&Object(s.jsx)(fs.a,{ref:u,sx:Fs(Fs({"&, &::before":{width:"10px",height:"10px",position:"absolute",zIndex:-1},"&::before":{content:'""',transform:"rotate(45deg)",bg:"neutral_8",top:0,left:0}},l),Is(b))},void 0)]}),void 0)}),void 0)}),void 0)})),Us=function(){return(Us=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Bs=a.createContext((function(){}));var Ms=0;function Ps(e,t){void 0===t&&(t={});var n=a.useMemo((function(){return"tooltip-"+Ms++}),[]),r=a.useState(!1),o=r[0],c=r[1],i=a.useState(null),l=i[0],u=i[1],d=a.useState(null),b=d[0],f=d[1],h=a.useState(null),j=h[0],O=h[1],x=a.useContext(Bs),v=As(),g=Object(p.a)(l,b,{placement:t.placement||"auto",modifiers:[{name:"arrow",options:{element:j,padding:v.radii.normal}},{name:"offset",options:{offset:[0,8]}}]}),m=g.styles,y=g.attributes;return a.useEffect((function(){if(l&&e&&!t.disabled)return l.addEventListener("mouseenter",n),l.addEventListener("mouseleave",r),l.addEventListener("focus",n),l.addEventListener("blur",r),function(){l.removeEventListener("mouseenter",n),l.removeEventListener("mouseleave",r),l.removeEventListener("focus",n),l.removeEventListener("blur",r)};function n(){c(!0)}function r(){c(!1)}}),[l,e,t.disabled]),a.useEffect((function(){l&&l.setAttribute("aria-describedby",n)}),[l,n]),a.useEffect((function(){if(o&&!t.disabled){var r=Object(s.jsx)(Ns,Us({id:n,ref:f,style:y.popper?m.popper:{position:"absolute",left:0,transform:"translateX(-100%)"}},y.popper,{disableArrow:t.disableArrow,arrowStyle:m.arrow,arrowRef:O},{children:e}),void 0);x(r)}else x(null)}),[y.popper,e,n,t.disableArrow,O,x,f,o,m.arrow,m.popper,t.disabled]),u}var Hs={default:{bg:"neutral_0",borderColor:"neutral_5","&:focus-within:not(:disabled):not(.disabled), &:focus:not(:disabled):not(.disabled)":{borderColor:"primary_2"},"&::placeholder, & input::placeholder":{color:"neutral_6"},"&:hover":{borderColor:"neutral_6"},"&:invalid, &.invalid":{borderColor:"secondary_2"},"&:disabled, &.disabled":{bg:"neutral_1",color:"neutral_6"}},search:{color:"neutral_8",border:"none",bg:"transparent","&.active":{bg:"neutral_1"}},inverse:{color:"neutral_0",bg:"primary_2",borderColor:"neutral_5","&:focus-within:not(:disabled):not(.disabled), &:focus:not(:disabled):not(.disabled)":{borderColor:"neutral_0"},"&::placeholder, & input::placeholder":{color:"neutral_5"},"&:hover":{borderColor:"neutral_3"},"&:invalid, &.invalid":{borderColor:"secondary_3"},"&:disabled, &.disabled":{color:"neutral_5"}}},qs=function(){return(qs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Gs=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Ws=qs({fontFamily:"sansSerif",border:"1px solid",borderRadius:"normal",boxSizing:"border-box",outline:0,"input&":{minHeight:"40px"},"& input":{minHeight:"38px"},px:3,resize:"none",transition:"all ease .2s","&.block":{borderRadius:0},"&.darkenPlaceholder::placeholder, &.darkenPlaceholder input::placeholder":{color:"inherit !important",opacity:"1 !important"},"&.noBorder":{bg:"transparent",border:"none"},"&.widthAuto":{minWidth:"208px"},"&.fullHeight, & .fullHeight":{height:"100%"},"textarea&":{overflowY:"auto",py:2,"&:not(.fullHeight)":{maxHeight:"60px"}}},Object.fromEntries(Object.entries(Hs).map((function(e){return["&.variant--"+e[0],e[1]]})))),Vs=a.forwardRef((function(e,t){var n,r=e.active,a=e.affixBottom,o=e.block,c=e.colorNuance,i=e.containerProps,l=e.customPrefix,u=e.darkenPlaceholder,d=e.fullHeight,b=e.fullWidth,f=e.invalid,p=e.noBorder,h=e.onChange,j=e.onChangeValue,O=e.onKeyDown,x=e.onReturn,v=e.placeholder,g=e.prefix,m=e.rows,y=e.suffix,C=e.value,S=e.variant,w=void 0===S?"default":S,E=e.width,k=Gs(e,["active","affixBottom","block","colorNuance","containerProps","customPrefix","darkenPlaceholder","fullHeight","fullWidth","invalid","noBorder","onChange","onChangeValue","onKeyDown","onReturn","placeholder","prefix","rows","suffix","value","variant","width"]),T=qs({as:k.textarea?"textarea":"input"},k.textarea?{rows:void 0===m?1:m}:{}),A=b?"100%":E,_=hs()(((n={active:r,block:o,invalid:f,disabled:k.disabled,widthAuto:!A,fullHeight:d,noBorder:p,darkenPlaceholder:u})["variant--"+w]=!!w,n)),D=k.p,R=k.px,F=k.py,I=k.pt,L=k.pr,N=k.pb,U=k.pl,B=k.m,M=k.mx,P=k.my,H=k.mt,q=k.mr,G=k.mb,W=k.ml,V=Gs(k,["p","px","py","pt","pr","pb","pl","m","mx","my","mt","mr","mb","ml"]),Y=qs({m:B,mx:M,my:P,mt:H,mr:q,mb:G,ml:W,p:D,px:R,py:F,pt:I,pr:L,pb:N,pl:U,className:_,width:A,sx:qs(qs({},Ws),c?{overflow:"hidden",position:"relative","&::before":{content:'""',top:0,left:0,height:"100%",width:"4px",position:"absolute",backgroundColor:c}}:{})},i),z={py:2},K=qs(qs(qs(qs(qs({},z),V),{ref:t,value:C}),T),{onChange:function(e){h&&h(e),j&&j(e.currentTarget.value)},onKeyDown:function(e){var t;O&&O(e),x&&(t=x,function(e){t&&"Enter"===e.key&&(e.preventDefault(),t(e.currentTarget.value))})(e)}});if(!g&&!y&&!l&&!a)return Object(s.jsx)(Rs,qs({},Y,K,{placeholder:v,variant:"bodySecondary"}),void 0);var Q="string"!==typeof v;return Object(s.jsx)(Rs,qs({as:"div"},Y,{variant:"bodySecondary"},l&&{pl:0},{children:Object(s.jsxs)(fs.d,qs({alignItems:"center",sx:{height:"100%"}},{children:[Object(s.jsxs)(fs.d,qs({flex:"1 1",flexWrap:"wrap",alignItems:"center",sx:qs({},d&&{height:"100%"})},{children:[g&&Object(s.jsx)(fs.d,qs({alignSelf:"stretch",alignItems:"center",pr:1,mr:2,sx:{borderRight:"1px solid",borderColor:"neutral_5"}},{children:g}),void 0),l||null,Object(s.jsxs)(fs.a,qs({flex:"1 1",sx:qs({position:"relative"},d&&{height:"100%"})},{children:[Q&&""===C&&Object(s.jsx)(Rs,qs({},z,{as:"div",children:v,sx:{position:"absolute",height:"100%",width:"100%",zIndex:1,whiteSpace:"nowrap"}}),void 0),Object(s.jsxs)(fs.d,qs({flexDirection:"column",sx:{height:"100%"}},{children:[Object(s.jsx)(Rs,qs({placeholder:Q?void 0:v,flex:"1 1",sx:qs({position:"relative",zIndex:2,border:"0 none",bg:"transparent",color:"inherit",fontSize:"inherit",outline:0,width:"100%",resize:"none"},d&&{height:"100%"})},K),void 0),a||null]}),void 0)]}),void 0)]}),void 0),y&&Object(s.jsx)(fs.d,qs({flex:"0 0 auto"},{children:y}),void 0)]}),void 0)}),void 0)})),Ys=a.memo((function(e){var t=e.autoFocus,n=void 0===t||t,r=e.restartDisabled,o=e.onFocus,c=e.onSendMessage,i=a.useState(""),s=i[0],l=i[1],u=function(e){var t=Object(a.useState)(0),n=t[0],r=t[1],o=Object(a.useRef)(null),c=Object(a.useCallback)((function(e){o.current=e}),[]);return Object(a.useEffect)((function(){var e=o.current;if(e){var t=window.getComputedStyle(e),n=t.fontSize,a=t.lineHeight,c=t.paddingBottom,i=t.paddingTop,s=e.rows;e.rows=1;var l="normal"===a?1.2*parseFloat(n):parseFloat(a),u=e.scrollHeight-(parseFloat(c)+parseFloat(i)),d=Math.floor(u/l);e.rows=s,r(d)}}),[e]),{rows:n,setTextarea:c,textarea:o}}(s),d=u.setTextarea,b=u.textarea,f=u.rows,p=bs("max-device-width",1),h=Ps(!p&&"Restart"),j=Ps(!p&&"Send"),O=a.useCallback((function(){s&&(l(""),c(s))}),[s,c]),x=a.useCallback((function(){l(""),c("/restart")}),[c]);return a.createElement(fs.d,{sx:{height:"72px"},onClick:function(){var e;return p&&(null===(e=b.current)||void 0===e?void 0:e.focus())},alignItems:"center",pl:[0,3,4],pr:[0,2,0]},a.createElement(fs.a,{flex:"1 0 auto",width:"0"},a.createElement(Vs,{autoFocus:n,"data-qa":"chat-input_textarea",fontSize:3,fullWidth:!0,noBorder:!0,onChangeValue:l,onFocus:o,onReturn:O,placeholder:"Start typing a message...",textarea:!0,rows:f,value:s,ref:d})),!r&&a.createElement(fs.a,null,a.createElement(xs,{ref:h,variant:"headerIcon",p:[0,"12px","28px"],onClick:x},a.createElement(Ts,{icon:$o.faSync}))),a.createElement(fs.a,null,a.createElement(xs,{ref:j,variant:"headerIcon",p:[0,"12px","28px"],disabled:""===s,showWhenDisabled:!0,onClick:O},a.createElement(Ts,{icon:Wi.faPaperPlane}))))})),zs=n(1012),Ks=n.n(zs),Qs=function(){return(Qs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Xs=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Js=a.forwardRef((function(e,t){var n=e.children,r=e.highlighted,o=e.first,c=e.px,i=void 0===c?[0,3,4]:c,s=e.py,l=void 0===s?[0,1,2]:s,u=e.sx,d=void 0===u?{}:u,b=(e.css,Xs(e,["children","highlighted","first","px","py","sx","css"]));return a.createElement(fs.a,Qs({px:i,py:l,sx:Qs({bg:r?"neutral_2":"transparent",borderColor:r?"primary_2":"transparent",pt:o?4:2,borderStyle:"solid",borderWidth:"0 2px 0 0"},d),ref:t},b),n)}));function Zs(e){for(var t=e.data,n=e.sx,r=e.event,o=e.highlighted,c=e.selected,i=e.forwardedRef,s=t.onMessageClick,l=t.renderAction,u=t.events.filter((function(e){return e.timestamp<r.timestamp}));u.length>0&&"user"!==u[0].event&&"bot"!==u[0].event;)u=u.slice(1);return a.createElement(Js,{sx:n,highlighted:o,onClick:function(){return s(r)},ref:i,"data-e2e":"EventContainer-"+r.event+"-"+r.timestamp,"data-qa":"conversation-message-action_div"},null===l||void 0===l?void 0:l({event:r,selected:c}))}var $s=n(1014),el=function(){return(el=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},tl=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var nl=function(){return(nl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},rl=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var al={Flex:function(e){var t=e.sx,n=void 0===t?{}:t,r=rl(e,["sx"]);return Object(s.jsx)(fs.d,nl({},r,{sx:nl(nl({},n),{"--parent-hovered":"none","--parent-hovered-inverted":"block","&:hover":nl(nl({},n&&n["&:hover"]||{}),{"--parent-hovered":"block","--parent-hovered-inverted":"none"})})}),void 0)},Box:function(e){var t=e.inverted,n=e.alwaysVisible,r=tl(e,["inverted","alwaysVisible"]);return Object(s.jsx)(fs.a,el({},r,{sx:el({display:n?"block":"var(--parent-hovered"+(t?"-inverted":"")+")"},r.sx)}),void 0)}},ol=function(){return(ol=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},cl=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function il(e){e.ref;var t=e.src,n=e.placeholder,r=cl(e,["ref","src","placeholder"]),o=a.useState(!1),c=o[0],i=o[1];return a.useEffect((function(){var e,n=new Image;t&&(e=[t,function(){return i(!0)},function(){return i(!1)}],n.src=e[0],n.onerror=e[1],n.onload=e[2])}),[t]),Object(s.jsx)(s.Fragment,{children:c&&n?n:Object(s.jsx)(fs.f,ol({src:t},r),void 0)},void 0)}var sl=function(){return(sl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function ll(e){var t=e.children;return Object(s.jsx)(fs.a,sl({as:"span",sx:{fontFamily:"sansSerif"}},{children:t}),void 0)}function ul(e){var t=e.children,n=e.href;return Object(s.jsx)(fs.a,sl({as:"a",href:n,onClick:function(e){return e.stopPropagation()},rel:"noopener noreferrer",target:"_blank",sx:{color:"inherit",overflowWrap:"break-word",fontFamily:"sansSerif"}},{children:t}),void 0)}function dl(e){var t=e.text,n=e.markdown,r=e.truncate;return n?Object(s.jsx)(Do.a,{skipHtml:!1,allowedElements:["p","br","em","strong","a","li","ul","img"],components:{p:ll,a:ul},plugins:[Uo.a,Lo.a],rehypePlugins:r?[[Fo.a,{maxChars:200}]]:[],children:t},void 0):Object(s.jsx)(ll,{children:t},void 0)}var bl=n(538),fl=function(){return(fl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},pl=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function hl(e){var t=e.top,n=e.right,r=e.bottom,a=e.left,o=pl(e,["top","right","bottom","left"]);return Object(s.jsx)(fs.c,fl({},o,{sx:fl({flexShrink:0,borderColor:"neutral_4",borderTopStyle:t?"solid":"",borderTopWidth:t?"1px":"",borderRightStyle:n?"solid":"",borderRightWidth:n?"1px":"",borderBottomStyle:r?"solid":"",borderBottomWidth:r?"1px":"",borderLeftStyle:a?"solid":"",borderLeftWidth:a?"1px":""},o.sx)}),void 0)}var jl=n(1013),Ol={primary:{bg:"primary_2",color:"neutral_0",px:"20px",py:"10px"},secondary:{bg:"neutral_3",color:"neutral_8",px:"20px",py:"10px"},flagged:{bg:"secondary_2",color:"neutral_0",px:"20px",py:"10px"},neutral:{bg:"neutral_0",color:"neutral_8",px:"20px",py:"10px"},custom:{bg:"neutral_3",color:"neutral_8",padding:0},customHighlighted:{bg:"neutral_0",color:"neutral_8",padding:0}},xl=function(){return(xl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},vl=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function gl(e){var t=e.sx,n=e.reverseAlign,r=void 0!==n&&n,o=e.variant,c=void 0===o?"primary":o,i=e.borderRadius,s=vl(e,["sx","reverseAlign","variant","borderRadius"]);return a.createElement(fs.a,xl({maxWidth:"408px",width:[0,"stretch"],fontSize:2,variant:c,sx:xl(xl(xl(xl(xl({},Ol[c]||{}),{letterSpacing:0,lineHeight:"normal",overflowWrap:"break-word"}),t||{}),r?{alignSelf:"flex-end"}:{alignSelf:"flex-start"}),i?{borderRadius:i}:r?{borderRadius:"20px 4px 20px 20px"}:{borderRadius:"4px 20px 20px 20px"})},s))}function ml(e){var t=e.reverseAlign,n=e.variant,r=e.sx,o=e.customContent,c=e.truncateText,i=jl.a.dump(o),s=c&&i&&i.length>200,l=s&&i&&i.substring(0,200)+"...",u=a.useState(!0),d=u[0],b=u[1],f=a.useMemo((function(){return d&&s?l:i}),[d,i,l]);return a.createElement(gl,{reverseAlign:t,variant:n,sx:r},a.createElement(hl,{py:3,px:"20px",sx:{fontSize:1},bottom:!0},a.createElement("strong",null,"Custom output payload:")),a.createElement(fs.a,{pt:2,pb:3,px:"20px"},a.createElement(Rs,{sx:{whiteSpace:"pre",textOverflow:"initial",overflowX:"scroll",fontSize:0},variant:"code"},f),s&&a.createElement(xs,{paddingTop:2,color:"primary_1",variant:"link",onClick:function(e){b(!d),e.stopPropagation()}},"See ",d?"more":"less")," "))}var yl=n(333),Cl=n(136),Sl=function(){return(Sl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},wl=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function El(e){var t,n=e.sx,r=e.variant,a=void 0===r?"medium":r,o=e.children,c=e.username,i=wl(e,["sx","variant","children","username"]);return Object(s.jsx)(fs.d,Sl({variant:"avatar."+a,justifyContent:"center",alignItems:"center",fontSize:4,color:"neutral_0",bg:"cyan_2"},i,{sx:Sl({textAlign:"center",borderRadius:"50%",lineHeight:"1em"},n||{})},{children:o||(t=c,t?t.split(" ").slice(0,2).map((function(e){return e.slice(0,1).toUpperCase()})).join(""):null)||null}),void 0)}function kl(e){var t=e.user,n=e.userAvatar,r=e.botAvatar,o=e.interactive;return t?void 0!==n?null===n?null:a.createElement(El,{variant:"medium"},n):o?a.createElement(El,{variant:"medium",username:t}):a.createElement(El,{variant:"medium",bg:"neutral_3"},a.createElement(Ts,{fontSize:14,icon:Cl.faUser})):void 0!==r?null===r?null:a.createElement(El,{variant:"medium"},r):a.createElement(El,{variant:"medium"},a.createElement(Ts,{icon:yl.faMehBlank}))}function Tl(e){var t=e.onClick,n=e.buttons,r=void 0===n?[]:n;return r&&0!==r.length?a.createElement(a.Fragment,null,Array.isArray(r)&&a.createElement(fs.d,{mt:2,px:"12px",flexWrap:"wrap",justifyContent:"end"},r.map((function(e,n){return a.createElement(xs,{disabled:!t,key:e&&e.payload||"new-button-"+n,onClick:function(n){n.stopPropagation(),t&&t(e?e.payload:"")},mr:1,mb:1,variant:"secondaryFill"},e&&e.title||"New Button")})))):null}function Al(e){var t=e.botAvatar,n=e.children,r=e.data,o=e.event,c=e.highlighted,i=e.interactive,s=e.truncateText,l=e.last,u=e.onMessageButtonClick,d=e.optimistic,b=e.renderAction,f=e.renderMessageAnnotater,p=e.renderMessageFlagger,h=e.selected,j=void 0!==h&&h,O=e.text,x=e.timestamp,v=e.user,g=e.userAvatar,m=a.useCallback((function(){}),[]),y=Ps(x&&Object(bl.a)(new Date(1e3*x),"h:mm a, d MMM yyyy"),{placement:v?"right":"left"}),C=!!v||!!d,S=a.useMemo((function(){return(null===o||void 0===o?void 0:o.is_flagged)?"flagged":c&&!C?"neutral":C?"primary":"secondary"}),[null===o||void 0===o?void 0:o.is_flagged,c,C]),w=!!s&&!!O&&!v&&O.length>200,E=a.useState(!0),k=E[0],T=E[1];return a.createElement(a.Fragment,null,a.createElement(al.Flex,{flexDirection:v?"row-reverse":"row",alignItems:"end"},a.createElement(fs.d,{sx:{flexShrink:0}},a.createElement(kl,{user:v,userAvatar:g,botAvatar:t,interactive:i})),a.createElement(fs.d,{justifyContent:v?"flex-end":"flex-start",mx:2,width:["calc(100% - 100px)","auto","auto"]},a.createElement(fs.d,{flexDirection:"column",style:{maxWidth:"320px"},ref:y},r&&r.image&&a.createElement(il,{onLoad:m,src:r.image,width:1,sx:{borderRadius:"16px 16px "+(O?"0px 0px":"16px 16px")}}),!O&&!r&&!n&&a.createElement(gl,{reverseAlign:C,variant:S},a.createElement(Rs,{sx:{color:"neutral_6",fontStyle:"italic"}},"There is no response text here")),(O||n)&&a.createElement(gl,{"data-qa":"conversation-message-bubbles_div",style:r&&r.image?{borderRadius:"0 0 16px 16px"}:{},reverseAlign:C,variant:S},a.createElement("div",null,O&&a.createElement(dl,{truncate:w&&k,text:O,markdown:!v}),n),w&&a.createElement(xs,{paddingTop:2,color:v?"neutral_0":"primary_1",variant:"link",onClick:function(e){T(!k),e.stopPropagation()}},"See ",k?"more":"less")),r&&r.custom&&a.createElement(ml,{truncateText:s,reverseAlign:C,variant:c&&!C?"customHighlighted":"custom",sx:O?{marginTop:"8px"}:{},customContent:r.custom}),r&&r.attachment&&!r.custom&&!r.image&&a.createElement(gl,{reverseAlign:C,variant:S,style:O?{marginTop:"8px",width:"auto"}:{width:"auto"}},a.createElement(Rs,{sx:{color:"neutral_6",fontSize:"14px",fontStyle:"italic"}},a.createElement(Ts,{icon:$s.faPaperclip,color:"neutral_6",fontSize:"12px",mr:1}),r.attachment)))),o&&(null===f||void 0===f?void 0:f({event:o,selected:j})),o&&(null===p||void 0===p?void 0:p({event:o,selected:j}))),a.createElement(Tl,{buttons:r&&r.buttons,onClick:l?u:null}),o&&(null===b||void 0===b?void 0:b({event:o,selected:j})))}function _l(e){var t,n,r=e.data,o=e.event,c=e.forwardedRef,i=e.highlighted,s=e.last,l=e.selected,u=e.sx,d=r.botAvatar,b=r.interactive,f=r.truncateText,p=r.onMessageButtonClick,h=r.onMessageClick,j=r.renderAction,O=r.renderMessageAnnotater,x=r.renderMessageFlagger,v=r.userAvatar,g=r.username,m=o.timestamp,y=a.useCallback((function(e){"Enter"===e.key&&h(o)}),[o,h]),C=(null===(n=null===(t=o.metadata)||void 0===t?void 0:t.rasa_x_id)||void 0===n?void 0:n.toString())||"";return a.createElement(Js,{sx:u,highlighted:i,role:"button",onClick:function(){return h(o)},onKeyPress:y,tabIndex:0,"data-e2e":"EventContainer-"+o.event+"-"+o.timestamp,ref:c,id:C},a.createElement(Al,{botAvatar:d,data:"bot"===o.event&&o.data||null,event:o,highlighted:i,interactive:b,truncateText:f,last:s,onMessageButtonClick:p,optimistic:"user"===o.event&&!!o.isOptimistic,renderAction:j,renderMessageAnnotater:O,renderMessageFlagger:x,selected:l,text:o.text,timestamp:m,user:"user"===o.event?g:null,userAvatar:v}))}Al.defaultProps={data:null,text:null,children:null,highlighted:!1,selected:!1,user:!1,optimistic:!1,onMessageButtonClick:null,last:!1};var Dl=function(){return(Dl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Rl=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function Fl(e){var t=e.barColor,n=void 0===t?"neutral_4":t,r=e.variant,a=void 0===r?"center":r,o=Rl(e,["barColor","variant"]),c={bg:n,content:'" "',height:"1px",display:"block",flex:"1 1 auto"};return Object(s.jsx)(fs.d,Dl({variant:"separator."+a,m:0},o,{sx:{width:"100%",alignItems:"center",whiteSpace:"nowrap","&::before":c,"&::after":c}}),void 0)}function Il(e){var t=e.forwardedRef,n=e.sx;return a.createElement(Fl,{py:6,px:4,ref:t,sx:n},a.createElement(Rs,{as:"span",variant:"metadata",color:"neutral_6"},"Restart"))}function Ll(e){var t=e.forwardedRef,n=e.event.timestamp,r=e.sx;return a.createElement(Fl,{py:6,px:4,ref:t,sx:r},a.createElement(Rs,{as:"span",variant:"metadata",color:"dark_grey_temp"},"Conversation session started on ",Object(bl.a)(new Date(1e3*n),"d MMM yyyy")))}var Nl,Ul,Bl=n(198),Ml=n(1015),Pl=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Hl=Object(Bl.b)(Nl||(Nl=Pl(["\n  from { opacity: 1; }\n  to { opacity: 0; }\n"],["\n  from { opacity: 1; }\n  to { opacity: 0; }\n"]))),ql=Object(vs.default)(Ts)(Ul||(Ul=Pl(["\n  animation: "," 1s ease-in-out infinite;\n  animation-direction: alternate;\n"],["\n  animation: "," 1s ease-in-out infinite;\n  animation-direction: alternate;\n"])),Hl),Gl=a.memo((function(e){var t=e.forwardedRef,n=e.sx;return a.createElement(Js,{sx:n,ref:t,"data-e2e":"EventContainer-Typing"},a.createElement(Al,null,a.createElement(ql,{icon:Ml.faEllipsisH,size:"2x"})))})),Wl=function(){return(Wl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function Vl(e){var t,n,r=e.data,o=e.index,c=e.sx,i=e.forwardedRef,s=r.events,l=r.selectedTimestamp,u=r.renderAction,d=o>=Ks()(s,(function(e){return"bot"===e.event})),b=s[o],f={data:r,index:o,sx:c,highlighted:b.timestamp<=l&&(b.nextBreakEvent||1/0)>l,last:d,forwardedRef:i,selected:b.timestamp===l,renderAction:u};return"restart"===b.event?a.createElement(Il,Wl({},f,{event:b})):"session_started"===b.event?a.createElement(Ll,Wl({},f,{event:b})):"typing"===b.event?a.createElement(Gl,Wl({},f,{event:b})):"user_featurization"===b.event?null:"user"!==b.event&&"bot"!==b.event||!b.text&&("bot"!==b.event||!(null===(t=b.data)||void 0===t?void 0:t.custom)&&!(null===(n=b.data)||void 0===n?void 0:n.image))?a.createElement(Zs,Wl({},f,{event:b})):a.createElement(_l,Wl({},f,{event:b}))}var Yl=function(){return(Yl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},zl=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},Kl=a.forwardRef((function(e,t){return a.createElement(Vl,Yl({forwardedRef:t},e))}));function Ql(e){var t=a.useState(null),n=t[0],r=t[1],o=a.useState(!0),c=o[0],i=o[1];a.useEffect((function(){var e=window.location.hash;""!==e&&setTimeout((function(){var t=e.replace("#",""),n=document.getElementById(t);n&&n.scrollIntoView()}),0)}),[]);var s=a.useMemo((function(){return e.awaitingResponse?zl(zl([],e.events),[{event:"typing",timestamp:-1}]):e.events}),[e.awaitingResponse,e.events]);a.useEffect((function(){null!==n&&c&&s.length>0&&(n.scrollTop=n.scrollHeight-n.clientHeight)}),[s,n,c]);var l=a.useCallback((function(){if(null!==n){var e=n.scrollTop===n.scrollHeight-n.clientHeight;i(e)}}),[i,n]);return a.createElement(fs.d,{flexDirection:"column",justifyContent:"flex-start",ref:r,height:"100%",overflow:"auto",onScroll:l,sx:{'[data-e2e^="EventContainer-"]:first-of-type':{marginTop:["auto",null,"16px"]},'[data-e2e^="EventContainer-"]:last-of-type':{marginBottom:["12px",null,"16px"]}}},s.map((function(t,n){return a.createElement(Kl,{data:Yl(Yl({},e),{events:s}),index:n,sx:{},key:n})})))}var Xl=a.memo((function(e){var t=e.awaitingResponse,n=e.botAvatar,r=e.conversation,o=e.truncateText,c=e.noInteract,i=e.onChatFocus,s=e.onMessageClick,l=e.onSendMessage,u=e.placeholder,d=e.renderAction,b=e.renderMessageAnnotater,f=e.renderMessageFlagger,p=e.restartDisabled,h=e.timestamp,j=e.userAvatar,O=e.username,x=bs("max-device-width",1),v=a.useMemo((function(){return!r||0===r.length||3===r.length&&r.map((function(e){return e.event})).join(",")===["action","session_started","action"].join(",")}),[r]);return a.createElement(fs.d,{flexDirection:"column",sx:{height:"100%",overflow:"auto"}},a.createElement(fs.a,{flex:"1 1 80%",sx:{overflow:"auto"}},a.createElement(fs.d,{flexDirection:"column",sx:{height:"100%"}},a.createElement(fs.a,{flex:"1 1 auto",sx:{overflow:"auto"},"data-e2e":"Conversation__Container"},v?u:a.createElement(Ql,{awaitingResponse:t,botAvatar:n,events:r,interactive:!!l||!c,truncateText:o,onMessageButtonClick:l||null,onMessageClick:s||function(){},renderAction:d,renderMessageAnnotater:b,renderMessageFlagger:f,selectedTimestamp:h||-1,userAvatar:j,username:O})))),l&&!c&&a.createElement(fs.a,{flex:"0 1",width:1,sx:{backgroundColor:"neutral_0",borderTop:"1px solid",borderColor:"neutral_4",position:["fixed",null,"initial"],bottom:[0,null,"initial"]}},a.createElement(Ys,{autoFocus:!x,restartDisabled:p,onFocus:i,onSendMessage:l})))}));n(1016);n(403);var Jl=n(1018),Zl=n(1017);var $l="rasa-webchat-widget-container";function eu(e){var t,n,r,o=e.defaultOpen,c=e.children,i=e.height,s=e.width,l=a.useState(!1),u=l[0],d=l[1],b=a.useState(o||!1),f=b[0],p=b[1],h=a.useRef(null),O=As(),x=a.useMemo((function(){return{open:{height:i,width:s,borderStyle:"solid"},closed:{width:0,height:0,borderStyle:"none"}}}),[O]);a.useEffect((function(){d((function(e){return f||e}))}),[f]),t=h,n=function(){return p(!1)},a.useEffect((function(){if(n){var e=function(e){if(t.current){var a=e.target;t.current.contains(a)||r&&function(e,t){for(var n=e;null!==n.parentElement;){if(t(n))return!0;n=n.parentElement}return!1}(a,r)||n(e)}};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}}),[n,r,t]);var v=a.useMemo((function(){return f?A.faTimes:u?Zl.faCommentDots:Jl.faComment}),[u,f]);return a.createElement(fs.d,{id:$l,sx:{flexDirection:"column",alignItems:"flex-end",position:"fixed",bottom:20,right:20,zIndex:98},ref:h},(f||u)&&a.createElement(j.a.div,{variants:x,initial:"closed",animate:f?"open":"closed",style:{backgroundColor:O.colors.neutral_0,borderRadius:O.radii.normal,borderWidth:"1px",borderColor:O.colors.neutral_4,overflow:"hidden",marginBottom:"14px"}},c),a.createElement(fs.a,null,a.createElement(xs,{large:!0,variant:"circle",onClick:function(){return p((function(e){return!e}))}},a.createElement(Ts,{fontSize:"22px",icon:v}))))}eu.containerId=$l,eu.containerId;var tu=n(1019);function nu(e){var t=e.children,n=e.content,r=e.docs,o=e.nextStep,c=e.step,i=e.title,l=e.canBeShown,u=Object(Le.a)(e,["children","content","docs","nextStep","step","title","canBeShown"]),d=Object(pe.d)((function(e){return e.users.currentUser})),b=He(),f=Te(),p=f.hintsEnabled,h=f.currentHint,j=f.allHints,O=f.nextHints,v=f.setHintsEnabled,g=f.addHint,m=f.updateCurrentHint;a.useEffect((function(){if(d){var e=d.data&&d.data.viewed_hints&&d.data.viewed_hints.includes(c);g({source:c,nextSource:o,canBeShown:l&&!e})}}),[d,g,c,o,l]);var y=a.useMemo((function(){return j.map((function(e,t){return Object(s.jsx)(Fe.Flex,{mr:"5px",sx:{backgroundColor:"#fff",borderRadius:"2px",display:"inline-block",height:"4px",marginTop:"auto",opacity:e===h?1:.4,transition:"all ease .2s",width:e===h?"10px":"4px"},as:"li"},t)}))}),[h,j]);return h?Object(s.jsx)(Ne.a,Object(Ce.a)(Object(Ce.a)({borderRadius:"large",boxShadow:"8px 9px 21px 0 rgba(0, 0, 0, 0.25)",bg:"primary_2",p:4,pt:3,textAlign:"left",heading:i,visible:h===c,disabled:!p,interactive:!0,placement:"bottom-end",onHide:function(){h===c&&v(!1)},content:Object(s.jsxs)(Fe.Box,{sx:{width:"352px"},children:[Object(s.jsxs)(x.a,{color:"neutral_0",as:"div",variant:"bodySecondary",children:[n,r&&Object(s.jsxs)(s.Fragment,{children:[" ",Object(s.jsx)(x.a,{fontWeight:600,as:"a",target:"_blank",href:r,color:"neutral_0",sx:{textDecoration:"none",display:"initial"},children:"Learn more here"}),"."]})]}),Object(s.jsxs)(Fe.Flex,{mt:4,children:[Object(s.jsx)(Fe.Flex,{flexDirection:"row",as:"ul",m:0,p:0,sx:{listStyle:"none"},children:y}),Object(s.jsx)(Fe.Flex,{sx:{marginLeft:"auto"},children:O.length>1?Object(s.jsxs)(_.a,{variant:"plain",onClick:function(){b(c),m(!0)},children:["Next ",Object(s.jsx)(F.a,{icon:tu.faLongArrowRight})]}):Object(s.jsx)(_.a,{variant:"inverse",onClick:function(){b(c),m(!0)},children:"Done"})})]})]})},u),{},{children:t})):Object(s.jsx)(s.Fragment,{children:t})}nu.defaultProps={appendTo:document.body,offset:[0,8]};var ru=n(1022),au=n(1021),ou=n(1020),cu=n(1023);function iu(e){var t=e.conversation,n=Object(pe.c)(),r=t.sender_id,o=a.useCallback((function(e,t){n(t?wn.u.request({conversationId:r,tags:[e]}):wn.t.request({conversationId:r,tag:e}))}),[r,n]),c=a.useCallback((function(e){n(wn.u.request({conversationId:r,tags:[e]}))}),[r,n]);return Object(s.jsx)(jr,{onCreate:c,onTagChange:o,selectedTags:t.tags})}var su=n(2029);function lu(e){var t=e.color,n=e.bg,r=e.borderColor;return"string"===typeof t&&(n=Object(da.c)(.75,t),t=Object(da.b)(.25,t),r=Object(da.a)(n)>.9?t:n),Object(s.jsx)(su.a,Object(Ce.a)(Object(Ce.a)({},e),{},{bg:n,px:3,py:"6px",color:t,width:"100%",borderWidth:"1px",borderStyle:"solid",borderColor:r,borderRadius:"normal"}))}function uu(e){var t=e.conversation,n=Object(pe.c)(),r=Object(pe.d)((function(e){return e.projects.tags})),o=a.useState(!1),c=Object(Se.a)(o,2),i=c[0],l=c[1];return a.useEffect((function(){n(nr.d.request())}),[n]),Object(s.jsxs)(Fe.Flex,{width:"100%",flexWrap:"wrap",justifyContent:"center",flexDirection:"column",children:[Object(s.jsxs)(Fe.Flex,{mb:"12px",width:"100%",justifyContent:"space-between",alignItems:"center",children:[Object(s.jsx)(R.a,{variant:"h4",color:"neutral_6",children:"TAGS"}),Object(s.jsx)(yn,{visible:i,popupWidth:"320px",content:Object(s.jsx)(iu,{conversation:t}),borderRadius:"normal",onClose:function(){return l(!1)},children:Object(s.jsx)(_.a,{variant:"icon",p:"8px",onClick:function(){return l(!i)},children:Object(s.jsx)(F.a,{icon:Gc.faCog})})})]}),t.tags.map((function(e){var t=r.find((function(t){return t.id===e}));return void 0===t?null:Object(s.jsx)(lu,{color:"#".concat(t.color),mb:2,children:t.value},t.id)}))]})}var du=function(e){var t=e.active,n=e.title,r=e.icon,o=e.onIconClick,c=a.useMemo((function(){switch(r){case"check-circle":return t?ou.faCheckCircle:Vn.faCheckCircle;case"bookmark":return t?au.faBookmark:ru.faBookmark;case"trash-alt":return t?cu.faTrashAlt:Kn.faTrashAlt}}),[r,t]);return Object(s.jsxs)(Fe.Flex,{width:"100%",justifyContent:"space-between",alignItems:"center",py:1,children:[Object(s.jsx)(x.a,{variant:"bodySecondary",children:n}),Object(s.jsx)(_.a,{p:2,active:t,variant:"icon",onClick:o,children:Object(s.jsx)(F.a,{icon:c})})]})};function bu(e){var t=e.conversation,n=e.conversationId,r=e.onConversationDelete,o=e.onUpdatedReviewStatus,c=Object(pe.c)(),i=function(e){return"Tester"===(null===e||void 0===e?void 0:e.latest_input_channel)?"Tester":e&&"rasa"!==e.latest_input_channel?e.sender_name:"Anonymous user"}(t),l=a.useState(!1),u=Object(Se.a)(l,2),d=u[0],b=u[1],f=a.useCallback((function(e){c(wn.C.request({conversationId:n,status:e})),o()}),[n,c,o]);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(Fe.Flex,{width:"100%",flexDirection:"column",alignItems:"center",mt:10,"data-qa":"conversation-info-panel_div",children:[Object(s.jsxs)(Fe.Flex,{px:"100px",mb:3,children:[Object(s.jsx)(bc,{variant:"xl",mr:-44,children:Object(s.jsx)(F.a,{icon:yl.faMehBlank})}),Object(s.jsx)(bc,{variant:"xl",bg:"neutral_3",ml:-44,children:Object(s.jsx)(F.a,{icon:Cl.faUser})})]}),Object(s.jsx)(x.a,{variant:"bodySecondary",sx:{fontWeight:"bold"},children:"Conversation between"}),Object(s.jsxs)(x.a,{variant:"bodySecondary",textAlign:"center",sx:{fontWeight:"bold"},children:["Demobot and ",i]}),Object(s.jsx)(x.a,{mt:2,mb:7,variant:"captionPrimary",children:null===t||void 0===t?void 0:t.latest_input_channel}),Object(s.jsxs)(Fe.Flex,{width:"100%",flexDirection:"column",alignItems:"flex-start",px:4,py:3,sx:{borderTopStyle:"solid",borderTopWidth:"1px",borderColor:"neutral_3"},children:[Object(s.jsx)(R.a,{pb:3,variant:"h4",color:"neutral_6",children:"ACTIONS"}),Object(s.jsx)(du,{active:"reviewed"===(null===t||void 0===t?void 0:t.review_status),title:"Mark as reviewed",icon:"check-circle",onIconClick:function(){return f("reviewed"!==(null===t||void 0===t?void 0:t.review_status)?"reviewed":"unread")}}),Object(s.jsx)(du,{active:"saved_for_later"===(null===t||void 0===t?void 0:t.review_status),title:"Save for later",icon:"bookmark",onIconClick:function(){return f("saved_for_later"!==(null===t||void 0===t?void 0:t.review_status)?"saved_for_later":"unread")}}),Object(s.jsx)(du,{title:"Delete",icon:"trash-alt",onIconClick:function(){return b(!0)}})]}),t&&Object(s.jsx)(Fe.Flex,{width:"100%",flexDirection:"column",alignItems:"flex-start",px:4,py:"10px",sx:{borderTopStyle:"solid",borderTopWidth:"1px",borderColor:"neutral_3"},children:Object(s.jsx)(uu,{conversation:t})})]}),Object(s.jsxs)(pr,{title:"Delete conversation?",open:d,onClose:function(){return b(!1)},style:{width:"412px"},noSeparator:!0,px:4,py:0,children:[Object(s.jsx)(x.a,{children:"Are you sure you want to delete this conversation? This action cannot be undone."}),Object(s.jsxs)(Fe.Flex,{flexDirection:"row-reverse",mt:5,mb:5,children:[Object(s.jsx)(_.a,{large:!0,mx:1,variant:"primary",onClick:function(){b(!1),r()},children:"Delete"}),Object(s.jsx)(_.a,{large:!0,mx:1,variant:"secondary",onClick:function(){return b(!1)},children:"Cancel"})]})]})]})}var fu=l.default.ul.withConfig({displayName:"Accordion",componentId:"sc-1oehtxo-0"})([""," list-style:none;"],Qe.space);fu.defaultProps={p:0,m:0};var pu=a.memo(fu);function hu(){var e=Object(ve.a)(["\n      transform: rotate(90deg);\n    "]);return hu=function(){return e},e}var ju=Object(l.default)(Fe.Flex).withConfig({displayName:"AccordionSection__Content",componentId:"q2jvwm-0"})(["display:",";"],(function(e){return e.expanded?"block":"none"})),Ou=Object(l.default)(Fe.Flex).withConfig({displayName:"AccordionSection__IconContainer",componentId:"q2jvwm-1"})(["transition:transform ease 0.1s;",""],(function(e){return e.expanded&&Object(l.css)(hu())})),xu=Object(l.default)(Fe.Flex).withConfig({displayName:"AccordionSection__StyledFlex",componentId:"q2jvwm-2"})(["cursor:pointer;"]);function vu(e){var t=e.title,n=e.children,r=Object(Le.a)(e,["title","children"]),o=a.useState(r.expanded),c=Object(Se.a)(o,2),i=c[0],l=c[1];return Object(s.jsxs)(Xt.a,{bottom:!0,children:[Object(s.jsxs)(xu,{p:20,flexDirection:"row",alignItems:"center",onClick:function(){return l(!i)},children:[Object(s.jsx)(Ou,{alignItems:"center",size:24,mr:2,justifyContent:"center",expanded:i,children:Object(s.jsx)(F.a,{icon:Yo.faAngleRight})}),Object(s.jsx)(R.a,{variant:"h4",children:t})]}),Object(s.jsx)(ju,{pl:7,pr:5,pb:5,expanded:i,children:n})]})}function gu(e){var t=e.elements,n=a.useState(0),r=Object(Se.a)(n,2),o=r[0],c=r[1],i=a.useState(t.find((function(e){return e.default}))||t[0]),l=Object(Se.a)(i,2),u=l[0],d=l[1];a.useEffect((function(){d((function(e){return t.find((function(t){return t.title===e.title}))}))}),[t]);var b=a.useMemo((function(){return t.map((function(e,t){return Object(s.jsx)(Fe.Flex,{justifyContent:"center",alignItems:"center",as:"li",px:3,py:2,minWidth:100,textAlign:"center",sx:Object(Ce.a)({borderRadius:"normal",borderBottomRightRadius:0,borderBottomLeftRadius:0,cursor:"pointer",border:"solid 1px transparent",transition:"all ease 0.15s",whiteSpace:"nowrap"},e.title===u.title?{borderStyle:"solid",borderWidth:"1px",borderColor:"neutral_5",borderBottomColor:"neutral_1",backgroundColor:"neutral_1"}:{}),onClick:function(){var t;d(e),c((function(e){return e+1})),null===(t=e.onChange)||void 0===t||t.call(e)},children:Object(s.jsx)(x.a,{variant:"bodySecondary",fontSize:1,color:e.title===u.title?"neutral_8":"primary_2",children:e.title})},t)}))}),[t,u]);return Object(s.jsxs)(Fe.Box,{children:[Object(s.jsx)(Fe.Flex,{flexDirection:"row",as:"ul",sx:{listStyle:"none",position:"relative",zIndex:1},m:0,p:0,mr:4,children:b}),Object(s.jsx)(Fe.Box,{mt:"-1px",sx:{boxShadow:"0 6px 21px 0 rgba(152, 152, 152, 0.06), 0 2px 4px 0 #f2f4fa",borderRadius:"normal"},children:Object(s.jsx)(Bc,{disabled:0===u.content.length,preformatted:!0,fullSize:!0,css:u.title===t[0].title?{borderTopLeftRadius:0}:{},onCopy:u.onCopy&&u.onCopy,children:0===u.content.length?"No story yet":u.content},o)})]})}var mu=n(1024),yu=n.n(mu);function Cu(e){var t=e.conversation,n=Object(we.k)(),r=a.useMemo((function(){return t.filter((function(e){return"slot"===e.event})).reduce((function(e,t){return Object(Ce.a)(Object(Ce.a)({},e),{},{[t.name]:t.value})}),{})}),[t]),o=a.useMemo((function(){return Object.keys(r).map((function(e){return"".concat(e,": ").concat(r[e])})).join("\n")}),[r]),c=Object.keys(r);return 0===c.length?Object(s.jsx)(Bc,{disabled:!0,fullSize:!0,bg:"neutral_0",children:"No slots"}):Object(s.jsx)(Bc,{preformatted:!0,fullSize:!0,bg:"neutral_0",onCopy:function(){return n("entity:slots:copied")},clipboardText:o,children:Object(s.jsx)(s.Fragment,{children:c.map((function(e){return Object(s.jsxs)("div",{style:{marginBottom:"1em"},children:[Object(s.jsx)("div",{children:Object(s.jsx)("b",{children:e})}),Object(s.jsx)("div",{children:(t=r[e],"boolean"===typeof t||null===t?Object(s.jsx)("i",{children:String(t)}):"object"!==typeof t?t:Object(s.jsx)(yu.a,{name:!1,src:t,enableClipboard:!1}))})]},e);var t}))})})}function Su(e){var t=e.editable,n=e.onClearStory,r=e.onCopy,o=e.onSaveStory,c=(e.storyName,e.conversation),i=e.onSaveE2ETest,l=e.saveE2ETestLoading,u=e.activeGitRepository,d=Object(pe.d)((function(e){return e.messages.story}))||"",b=Object(pe.d)((function(e){return e.messages.testStory}))||"",f=a.useState(!1),p=Object(Se.a)(f,2),h=p[0],j=p[1],O=a.useState(!1),x=Object(Se.a)(O,2),v=x[0],g=x[1],m=Object(we.k)();a.useEffect((function(){g(!1)}),[d]);var y=a.useCallback((function(){i(b),g(!0)}),[b,i]),C=a.useMemo((function(){return!u||v&&!l}),[v,l,u]);return Object(s.jsxs)(pu,{children:[Object(s.jsxs)(vu,{title:"Story till now",expanded:!0,children:[Object(s.jsx)(gu,{elements:[{title:"Story",content:d.split("\n"),onChange:function(){return j(!1)},onCopy:function(){return m("entity:story:copied")}},{title:"Test story",content:b.split("\n"),onChange:function(){m("entity:e2eStory:opened"),j(!0)},onCopy:function(){return m("entity:e2eStory:copied")}}]}),d.length>0&&(h?Object(s.jsx)(Fe.Flex,{flexDirection:"row-reverse",mt:3,children:Object(s.jsx)(pc.a,{resource:Et.d.Tests,action:Et.a.Create,yes:Object(s.jsx)(Qn.a,{disabled:!!u,content:Object(s.jsx)(Fe.Box,{sx:{textAlign:"center"},children:"Connect to a remote Git repository to save this test story"}),children:Object(s.jsx)(lc,{disabled:C,loading:l,onClick:y,variant:"primary",children:v&&!l?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(F.a,{mr:1,icon:Vn.faCheckCircle})," Saved"]}):"Save test story"})})})}):t?Object(s.jsxs)(Fe.Flex,{mt:3,flexDirection:"row-reverse",mr:-1,children:[Object(s.jsx)(pc.a,{resource:Et.d.Stories,action:Et.a.Create,yes:Object(s.jsx)(_.a,{mx:1,onClick:function(){o&&o({story:{story:d},isMarkdown:!1})},variant:"primary",children:"Save Story"})}),n&&Object(s.jsx)(_.a,{mx:1,onClick:n,ml:1,variant:"secondary",children:"Clear"})]}):Object(s.jsx)(Fe.Flex,{flexDirection:"row-reverse",mt:3,children:Object(s.jsx)(_.a,{onClick:function(){return r&&r()},variant:"primary",children:"Copy to interactive learning"})}))]}),Object(s.jsx)(vu,{title:"Slots",expanded:!0,children:Object(s.jsx)(Cu,{conversation:c})})]})}var wu=function(e,t){return e.start===t.start&&e.end===t.end&&e.extractor===t.extractor};function Eu(e){var t=e.message,n=e.intents,r=void 0===n?[]:n,o=e.correction,c=e.onChangeCorrection,i=e.onFetchExample,l=e.onSaveCorrection,u=e.originalIntent,d=e.entityTypes,b=e.onChange,f=e.entities,p=e.rankedIntents,h=e.synonyms,j=Object(pe.c)(),O=Object(we.k)(),x=a.useState(""),v=Object(Se.a)(x,2),g=v[0],m=v[1];a.useEffect((function(){return m(t.text)}),[t]);var y=a.useCallback((function(e){return j(Bt.c.request(e))}),[j]),C=Object(pe.d)((function(e){return e.examples.draftExampleExists})),S=a.useMemo((function(){return t.text!==g}),[t,g]);Object(we.m)((function(){y(g)}),100,[g]);var w=a.useCallback((function(e){return o&&e.name!==o.intent&&c(Object(Ce.a)(Object(Ce.a)({},o),{},{intent:e.name}))}),[o,c]),E=a.useCallback((function(e){return b(t.text,f.map((function(t){return wu(t,e)?e:t})))}),[f,b,t]),k=a.useCallback((function(e){var n=f?f.filter((function(t){return!wu(t,e)})):[];b(t.text,n)}),[f,b,t]),T=a.useCallback((function(){o&&g&&(O("entity:annotation:corrected"),l(Object(Ce.a)(Object(Ce.a)({},o),{},{text:g})))}),[o,l,g,O]),A=a.useMemo((function(){if(u){var e=r.indexOf(u),t=r.filter((function(t,n){return n!==e}));return[u].concat(Object(ye.a)(t))}return r}),[r,u]);return Object(s.jsx)(Fe.Flex,{flex:"1",flexDirection:"column",children:Object(s.jsxs)(Fe.Box,{children:[o&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(Fe.Flex,{alignItems:"center",mb:2,children:[Object(s.jsx)(R.a,{variant:"h5",mr:1,children:"Sentence"}),Object(s.jsx)(Qn.a,{maxWidth:"350px",content:"Edit and/or annotate this sentence with entities and the correct intent and add it to your training data.",px:3,py:3,children:Object(s.jsx)(F.a,{fontSize:1,color:"neutral_6",icon:Qr.faInfoCircle})})]}),Object(s.jsx)(Fe.Flex,{alignItems:"center",justifyContent:"space-between",flexDirection:"row",mb:3,px:3,py:"6px",sx:{minHeight:"40px",border:"1px solid",borderColor:"neutral_5",borderRadius:"normal","&:hover":{borderColor:"neutral_6"},"&:focus-within:not(:disabled), &:focus:not(:disabled)":{borderColor:"primary_2"}},children:o&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Fe.Box,{width:"100%",children:Object(s.jsx)(Ca,{text:g,entities:o.entities,entityTypes:d,onChange:function(e,t){m(e),t.length>0&&c(Object(Ce.a)(Object(Ce.a)({},o),{},{entities:t,text:e}))}})}),C&&S&&Object(s.jsx)(Fe.Box,{ml:2,children:Object(s.jsx)(Qn.a,{content:"This already exists as training data.",children:Object(s.jsx)(F.a,{fontSize:1,color:"neutral_6",icon:Jt.faExclamationCircle})})})]})}),Object(s.jsx)(R.a,{variant:"h5",mb:2,children:"Correct intent"}),Object(s.jsx)(Wn,{intent:o.intent,intents:A,predictedIntent:u,rankedIntents:p,onChange:w,fullWidth:!0}),f.length>0&&Object(s.jsxs)(Fe.Box,{mt:4,mb:3,children:[Object(s.jsx)(ht.a,{variant:"center",mb:3,children:Object(s.jsx)(R.a,{variant:"h5",children:"Correct entities"})}),Object(s.jsx)(ca,{entityTypes:d,entityGroups:[],entityRoles:[],disableRolesAndGroups:!0,onChangeEntity:E,onRemoveEntity:k,text:t.text,entities:f,synonyms:h})]})]}),Object(s.jsxs)(Fe.Flex,{mt:4,children:[Object(s.jsx)(Fe.Box,{flex:"1"}),Object(s.jsxs)(Fe.Box,{children:[Object(s.jsx)(_.a,{disabled:!o||!o.isDirty&&!S,onClick:function(){m(t.text),i(t.text)},variant:"secondary",children:"Cancel"}),Object(s.jsx)(_.a,{disabled:!o||!o.isDirty&&(C||g.length<=0),variant:"primary",ml:2,onClick:T,children:"Save to training data"})]})]})]})})}var ku=n(1025),Tu=n(334),Au=function(){return(Au=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},_u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function Du(e){var t=_u(e,[]);return Object(s.jsx)(O.a,Au({sx:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}},t),void 0)}var Ru=Object(Qe.variant)({key:"actions"}),Fu=a.forwardRef((function(e,t){var n=e.children,r=e.variant,a=e.confidence,o=Object(Le.a)(e,["children","variant","confidence"]);return Object(s.jsx)(Du,{children:Object(s.jsxs)(x.a,Object(Ce.a)(Object(Ce.a)({variant:"captionSecondary",sx:Ru({variant:r})},o),{},{ref:t,children:[n,"number"===typeof a&&Object(s.jsxs)(Fe.Box,{as:"span",sx:{ml:1,fontWeight:"normal"},children:["(",qn(a),")"]})]}))})}));Fu.defaultProps={fontSize:0,letterSpacing:0,color:"dark_grey_temp"};var Iu=Fu,Lu=a.memo((function(e){var t=e.date,n=e.color,r=fn()(1e3*t);return Object(s.jsx)(x.a,{color:n,variant:"metadata",title:r.format("D MMM YYYY h:mm a"),children:r.format("h:mm a")})})),Nu=function(e){var t=e.newIntent,n=e.oldIntent,r=e.confidence,a=t!==n;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(Qn.a,{content:"Intent and Confidence",placement:"bottom",children:[Object(s.jsx)(Iu,{variant:a?"incorrect":"default",confidence:a?null:r,children:n}),a&&t&&Object(s.jsx)(Iu,{ml:1,variant:"correct",children:t})]})})},Uu=l.default.div.withConfig({displayName:"MessagePreview__DotSeparator",componentId:"sc-1qsh8rv-0"})(["width:4px;height:4px;background-color:#979fb4;border-radius:50%;margin-right:12px;margin-left:12px;"]);function Bu(e){var t=e.action,n=e.message,r=e.confidence,o=e.correction,c=(e.entityTypes,e.originalIntent),i=(e.onChangeCorrection,e.onFlagMessage),l=(e.synonyms,n.text),u=n.timestamp,d=n.event,b="bot"===d&&!!l&&l.length>200,f=a.useState(!0),p=Object(Se.a)(f,2),h=p[0],j=p[1],O=b&&l.substring(0,200)+"...",v=a.useMemo((function(){return h&&b?O:l}),[h,l,O,b]),g=a.useCallback((function(){i(n.timestamp,!n.is_flagged)}),[i,n]);return Object(s.jsxs)(Fe.Flex,{pl:4,pr:6,py:5,sx:{borderBottomStyle:"solid",borderBottomWidth:"1px",borderColor:"neutral_4"},children:[Object(s.jsx)(Fe.Box,{mr:3,sx:{minWidth:"40px "},children:Object(s.jsx)(bc,{variant:"large",bg:"user"===d?"neutral_3":"cyan_2",children:Object(s.jsx)(F.a,{icon:"user"===d?Cl.faUser:yl.faMehBlank})})}),Object(s.jsxs)(Fe.Flex,{flexDirection:"column",children:[Object(s.jsx)(x.a,{variant:"bodySecondary",mb:2,as:"div",children:v}),b&&Object(s.jsxs)(_.a,{paddingBottom:3,alignSelf:"flex-start",color:"primary_1",variant:"link",onClick:function(e){j(!h),e.stopPropagation()},children:["See ",h?"more":"less"]}),Object(s.jsxs)(Fe.Flex,{flexDirection:"row",alignItems:"center",children:[Object(s.jsx)(Lu,{color:"dark_grey_temp",date:u}),"user"===n.event&&o&&c&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Uu,{}),Object(s.jsx)(Nu,{newIntent:o.intent,oldIntent:c,confidence:r}),Object(s.jsx)(Uu,{}),Object(s.jsx)(_.a,Object(Ce.a)(Object(Ce.a)({variant:"plainIcon",color:"dark_grey_temp",onClick:g},n.is_flagged&&{color:"secondary_2"}),{},{children:Object(s.jsx)(F.a,{icon:n.is_flagged?Tu.faFlagAlt:ku.faFlagAlt})}))]}),"bot"===n.event&&t&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Uu,{}),Object(s.jsx)(Qn.a,{content:"Action and Confidence",placement:"bottom",children:Object(s.jsxs)(Iu,{children:[t,r&&Object(s.jsxs)("span",{style:{marginLeft:"4px"},children:["(",r.toFixed(2),")"]})]})})]})]})]})]})}function Mu(e){var t=e.conversation,n=void 0===t?[]:t,r=e.conversationId,o=e.editable,c=e.entityTypes,i=e.correction,l=e.onChangeCorrection,u=e.onClose,d=e.onCopy,b=e.onFlagMessage,f=e.onFetchExample,p=e.onSaveCorrection,h=e.onSaveStory,j=e.intents,O=e.storyName,x=e.timestamp,v=e.synonyms,g=e.onSaveE2ETest,m=e.saveE2ETestLoading,y=e.activeGitRepository,C=a.useMemo((function(){return n.findIndex((function(e){return e.timestamp===x}))}),[n,x]),S=a.useMemo((function(){return n[C]}),[n,C]),w=Object(pe.d)((function(e){return e.examples.draftExampleExists})),E=Object(we.f)(null===S||void 0===S?void 0:S.timestamp);a.useEffect((function(){"user"===(null===S||void 0===S?void 0:S.event)&&(null===S||void 0===S?void 0:S.timestamp)!==E&&f(S.text)}),[S,E,f]);var k=["user","bot"].includes(null===S||void 0===S?void 0:S.event)?S:null,T=a.useMemo((function(){for(var e=C-1;e>=1&&"bot"===n[e].event;)e--;return e>=0&&"action"===n[e].event?n[e]:null}),[C,n]),D=a.useMemo((function(){return"user"===(null===S||void 0===S?void 0:S.event)&&(null===S||void 0===S?void 0:S.parse_data)?S.parse_data.intent.confidence:"bot"===(null===S||void 0===S?void 0:S.event)&&null!==(e=null===T||void 0===T?void 0:T.confidence)&&void 0!==e?e:null;var e}),[S,T]),R=a.useMemo((function(){var e,t;return"user"===(null===S||void 0===S?void 0:S.event)&&null!==(e=null===(t=S.parse_data)||void 0===t?void 0:t.intent_ranking)&&void 0!==e?e:[]}),[S]),I=a.useMemo((function(){return T?T.name:null}),[T]),L=a.useMemo((function(){return function(e,t){var n=void 0!==t?e.findIndex((function(e){return e.timestamp===t})):-1,r=n<0?e.length-1:n,a=Object(ye.a)(e).reverse(),o=e.length-r,c=a.slice(o).findIndex((function(e){return"session_started"===e.event||"restart"===e.event})),i=c>=0?c+o:e.length,s=e.length-i;return e.slice(s,r+1)}(n,x)}),[n,x]),N=a.useCallback((function(e,t){return l(Object(Ce.a)(Object(Ce.a)({},i),{},{entities:t}))}),[i,l]),U=a.useMemo((function(){return k&&function(e){var t,n;if("user"===e.event&&(null===(t=e.parse_data)||void 0===t?void 0:t.response_selector)){var r=e.parse_data.intent.name,a=e.parse_data.response_selector,o=Object.keys(a)[0],c=a&&o&&a[o].full_retrieval_intent;return c&&c.length>0&&c.split("/")[0]===r?c:r}return"user"===e.event&&(null===(n=e.parse_data)||void 0===n?void 0:n.intent.name)?e.parse_data.intent.name:null}(k)}),[k]),B=k&&"user"===k.event?{intent:U,entities:[],text:k.text}:null;return Object(s.jsxs)(Fe.Flex,{"data-qa":"conversation-inspector_div",flexDirection:"column",children:[Object(s.jsx)(_.a,{fontSize:5,variant:"plainIcon",onClick:u,p:3,style:{alignSelf:"flex-end",position:"absolute"},children:Object(s.jsx)(F.a,{icon:A.faTimes})}),k&&Object(s.jsx)(Bu,{message:k,onChangeCorrection:l,onFlagMessage:b,entityTypes:c,correction:i||B,synonyms:v,confidence:D,action:I,originalIntent:U}),Object(s.jsxs)(pu,{children:["user"===(null===k||void 0===k?void 0:k.event)&&Object(s.jsx)(vu,{title:w?"This message already exists as training data":"Create training data",expanded:!0,children:Object(s.jsx)(Fe.Box,{children:Object(s.jsx)(Eu,{onChange:N,onFetchExample:f,entityTypes:c,onChangeCorrection:l,onSaveCorrection:p,correction:i||B,conversationId:r,message:k,intents:j,rankedIntents:R,entities:i?i.entities:[],synonyms:v,originalIntent:U})})}),Object(s.jsx)(Su,{activeGitRepository:y,saveE2ETestLoading:m,onSaveE2ETest:g,onSaveStory:h,editable:o,onCopy:d,storyName:O,conversation:L})]})]})}var Pu=n(1026),Hu=n(325);function qu(e){var t=e.onChange,n=a.useState("All time"),r=Object(Se.a)(n,2),o=r[0],c=r[1],i=a.useState(""),u=Object(Se.a)(i,2),d=u[0],b=u[1],f=a.useState(""),p=Object(Se.a)(f,2),h=p[0],j=p[1],O=a.useState(!1),x=Object(Se.a)(O,2),v=x[0],g=x[1],m=a.useContext(l.ThemeContext),y=a.useMemo((function(){return Mt.e.map((function(e){return{label:e.label,action:function(){c(e.label),t({from:e.from,to:e.to||null})}}}))}),[t]),C=function(e){var n=fn()(d,["DD/MM/YYYY","D/M/YYYY"],!0),r=fn()(h,["DD/MM/YYYY","D/M/YYYY"],!0);n.isValid()&&r.isValid()&&(c("".concat(d," - ").concat(h)),e(),t({from:Object(Mt.b)(n),to:Object(Mt.b)(r)||null}))},S={label:"",customLabel:function(e){return Object(s.jsx)(pn.a,{text:"Custom",px:4,pt:3,mb:4,sx:{borderTop:"1px solid;",borderColor:"neutral_1"},children:Object(s.jsxs)(Fe.Flex,{alignItems:"center",children:[Object(s.jsx)(pt.a,{width:"140px",placeholder:"dd/mm/yyyy",value:d,onChangeValue:function(e){return b(e)},onReturn:function(){return C(e)},maxLength:10}),Object(s.jsx)(F.a,{icon:dn.faMinus,ml:2,mr:2,style:{width:"4px",color:"neutral_8"}}),Object(s.jsx)(pt.a,{width:"140px",placeholder:"dd/mm/yyyy",value:h,onChangeValue:function(e){return j(e)},onReturn:function(){return C(e)},maxLength:10})]})})}};return Object(s.jsx)(Ra,{options:[].concat(Object(ye.a)(y),[S]),clearDateRangeInputs:function(){b(""),j("")},onClose:function(){return g(!1)},visible:v,children:Object(s.jsx)(_.a,{variant:"headerIcon",onClick:function(){return g(!v)},children:Object(s.jsxs)(Fe.Box,{sx:{width:"245px",textAlign:"left"},children:[Object(s.jsx)(F.a,{icon:Pu.faCalendarAlt}),Object(s.jsx)("span",{style:{margin:"0 auto 0 8px",color:Object(Qe.get)(m,"colours.neutral_8"),fontSize:Object(Qe.get)(m,"fontSizes.3")},children:o}),Object(s.jsx)(F.a,{icon:Hu.faChevronDown,pull:"right",color:"neutral_7",fontSize:"12px",pt:"2px"})]})})})}var Gu=rn.c.filter,Wu=function(e){var t="min"===e.operator?"\u2265":"\u2264";return"".concat(t," ").concat(e.value)},Vu={channels:{label:"Channels",test:function(e){return e.length>0},transformContent:function(e){return e.map((function(e){return rn.a[e]||e})).join(", ")}},intents:{label:"Intents",test:function(e){return e.length>0},transformContent:function(e){return e.join(", ")}},entities:{label:"Entities",test:function(e){return e.length>0},transformContent:function(e){return e.join(", ")}},actions:{label:"Actions",test:function(e){return e.length>0},transformContent:function(e){return e.join(", ")}},policies:{label:"Policy",test:function(e){return e.length>0},transformContent:function(e){return e[0]}},reviewStatus:{label:"Status",test:function(e){return e&&e.length>0},transformContent:function(e){var t;return null===(t=rn.b.find((function(t){return t.status===e})))||void 0===t?void 0:t.label}},slots:{label:"Slots",test:function(e){return e.length>0},transformContent:function(e){var t={};e.forEach((function(e){e.split(",").forEach((function(e){var n=e.split(":"),r=n[0],a=n[1];r in t?t[r].push(a):t[r]=[a]}))}));for(var n="",r=0,a=Object.entries(t);r<a.length;r++){var o=Object(Se.a)(a[r],2),c=o[0],i=o[1];n=n+(n.length>0?" | ":"")+"".concat(c,": ").concat(i)}return n}},tags:{label:"Tags",test:function(e){return e.length>0},transformContent:function(e){return e.map((function(e){return e.value})).join(", ")}},nluConfidence:{label:"NLU Confidence",test:function(e){return null!==e},transformContent:function(e){return Wu(e)}},coreConfidence:{label:"Core Confidence",test:function(e){return null!==e},transformContent:function(e){return Wu(e)}},minimumMessages:{label:"Minimum user messages",test:function(e){return null!==e},transformContent:function(e){return e}},flaggedOnly:{label:"Flagged only",test:function(e){return e},transformContent:function(e){return null}},storiesNotRecognised:{label:"Stories not in training data",test:function(e){return e},transformContent:function(e){return null}}},Yu=a.memo((function(e){var t=e.filter,n=e.onChange,r=Object.keys(Vu).filter((function(e){return Vu[e].test(t[e])}));return 0===r.length?Object(s.jsx)(x.a,{variant:"captionPrimary",sx:{fontStyle:"italic",marginLeft:"8px"},children:"No filters applied"}):Object(s.jsx)(Fe.Flex,{children:r.map((function(e){return Object(s.jsx)(Fe.Box,{ml:2,children:Object(s.jsx)(Ga.a,{label:Vu[e].label,content:Vu[e].transformContent(t[e]),active:!0,onChange:function(){return n(Object(Ce.a)(Object(Ce.a)({},t),{},{[e]:Gu[e]}))}})},e)}))})})),zu=n(7),Ku=n.n(zu),Qu=n(1027),Xu=n(1028),Ju=n.n(Xu),Zu=n(62),$u=a.memo((function(e){var t=e.active,n=e.client,r=e.timestamp,a=e.channel,o=e.onSelect,c=e.flagged,i=(e.ref,e.tags),l=Object(Le.a)(e,["active","client","timestamp","channel","onSelect","flagged","ref","tags"]),u=Object(we.k)();return Object(s.jsxs)(Fe.Flex,Object(Ce.a)(Object(Ce.a)({sx:{overflow:"hidden",cursor:"pointer",height:"72px",transition:"background-color ease 0.2s","&:hover":{bg:"neutral_1"}},px:4,py:3,onClick:function(){u("entity:conversation:selected"),o(n)},bg:t?"neutral_1":"neutral_0",alignItems:"center"},l),{},{children:[Object(s.jsx)(Fe.Box,{mr:3,children:Object(s.jsx)(bc,{variant:"large",bg:"neutral_3",children:Object(s.jsx)(F.a,{icon:Cl.faUser})})}),Object(s.jsxs)(Du,{children:[Object(s.jsx)(R.a,{variant:"h5",color:"neutral_8",children:"number"===typeof r?fn.a.unix(r).format("h:mm a, D MMM YYYY"):"No timestamp"}),a&&Object(s.jsx)(x.a,{color:"dark_grey_temp",variant:"captionPrimary",lineHeight:"normal",children:a})]}),Object(s.jsx)(Fe.Box,{flex:"1"}),i.length>0&&Object(s.jsx)(Fe.Flex,{flexDirection:"row-reverse",children:i.map((function(e){return Object(s.jsx)(_n,{color:"#".concat(e.color),title:e.value,mr:"-4px"},e.id)}))}),c&&Object(s.jsx)(Fe.Flex,{flex:"0 1 24px",fontSize:"8px",color:"secondary_2",alignItems:"center",justifyContent:"center",children:Object(s.jsx)(F.a,{icon:Tu.faFlagAlt})})]}))}));function ed(e){e.ref;var t=Object(Le.a)(e,["ref"]);return Object(s.jsxs)(Fe.Flex,Object(Ce.a)(Object(Ce.a)({px:4,py:3,alignItems:"center",sx:{overflow:"hidden",cursor:"pointer",height:"72px",transition:"background-color ease 0.2s","&:hover":{bg:"neutral_1"}}},t),{},{children:[Object(s.jsx)(Fe.Box,{mr:3,children:Object(s.jsx)(bc,{variant:"large",bg:"neutral_3",children:Object(s.jsx)(F.a,{icon:Cl.faUser})})}),Object(s.jsxs)(Du,{children:[Object(s.jsx)(R.a,{variant:"h5",color:"neutral_3",loading:!0,children:"\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588"}),Object(s.jsx)(x.a,{color:"neutral_3",variant:"captionPrimary",lineHeight:"normal",loading:!0,children:"\u2588\u2588\u2588\u2588\u2588"})]})]}))}var td=a.memo((function(e){var t=e.conversations,n=e.conversationId,r=e.loading,o=e.onSelectConversation,c=e.onLoadMoreRows,i=e.filter,l=e.total,u=Object(pe.c)(),d=Object(pe.d)((function(e){return e.projects.tags}));a.useEffect((function(){u(nr.d.request())}),[u]);var b=a.useCallback(function(){var e=Object(Qu.a)(Ku.a.mark((function e(t){var n,a;return Ku.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.startIndex,a=t.stopIndex,c&&!r){e.next=3;break}return e.abrupt("return");case 3:return e.abrupt("return",c({filter:i,offset:n,limit:a-n+1}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i,c,r]),f=a.useCallback((function(e){var r=e.key,a=e.index,c=e.style,i=t[a];if(!i)return Object(s.jsx)(ed,{style:c},r);var l=i.tags.map((function(e){return d.find((function(t){return t.id===e}))})).filter((function(e){return void 0!==e}));return Object(s.jsx)($u,{style:c,active:n===i.sender_id,client:i.sender_id,timestamp:i.latest_event_time,channel:i.latest_input_channel,onSelect:o,flagged:i.has_flagged_messages,tags:l,"data-qa":"conversation-list-item_div"},r)}),[t,n,o,d]),p=Object.keys(t).length,h=a.useMemo((function(){var e=p+1;return e<l&&!(0===l)?e:l}),[p,l]);return Object(s.jsxs)(s.Fragment,{children:[r&&Ju()(t)&&Object(s.jsx)(ft,{mt:20,children:"Loading conversations"}),Object(s.jsx)(Zu.a,{children:function(e){return Object(s.jsx)(Zu.e,{isRowLoaded:function(e){var n=e.index;return void 0!==t[n]},loadMoreRows:b,rowCount:l,children:function(t){var n=t.onRowsRendered,r=t.registerChild;return Object(s.jsx)(Zu.f,{ref:r,onRowsRendered:n,height:e.height,width:e.width-1,overscanRowCount:20,rowCount:h,rowHeight:72,rowRenderer:f})}})}})]})})),nd=n(1033);function rd(e){var t=e.children,n=e.offset,r=e.placement,o=e.currentUser,c=Te(),i=c.hintsEnabled,l=c.allHints,u=c.nextHints,d=c.setHintsEnabled,b=c.updateCurrentHint,f=a.useMemo((function(){return o.data&&o.data.viewed_hints&&0!==o.data.viewed_hints.length?"View ".concat(u.length," remaining hints to make the most of this screen."):"Learn how to make most of this screen in ".concat(l.length," small steps!")}),[o,l,u]);return Object(s.jsx)(Ne.a,{offset:n,placement:r,disabled:i,boxShadow:"-3px 5px 13px 0 rgba(43, 58, 172, 0.29)",bg:"primary_2",appendTo:document.body,arrow:!1,borderRadius:"large",interactive:!0,content:Object(s.jsxs)(Fe.Flex,{sx:{width:"max-content"},p:3,alignItems:"center",children:[Object(s.jsx)(F.a,{icon:nd.faLightbulbOn,fontSize:"20px",mx:"12px"}),Object(s.jsx)(x.a,{color:"neutral_0",mr:8,children:f}),Object(s.jsx)(_.a,{variant:"inverse",large:!0,onClick:function(){b(!1),d(!0)},children:"Show me"})]}),children:t})}function ad(e){var t=e.onClick;return Object(s.jsx)(_.a,{variant:"smallLink",onClick:t,children:"Correct action"})}function od(e){var t=e.event,n=e.onUndoMessage,r=t.timestamp,o=t.event,c=a.useMemo((function(){return"confidence"in t?t.confidence:"user"===t.event&&t.parse_data?t.parse_data.intent.confidence:null}),[t]),i=Object(rn.f)(t),l="user"===o,u=k(a.useMemo((function(){return"action"===o||l?"".concat((e=l?"intent":o,e.charAt(0).toUpperCase()+e.slice(1))).concat(null===c?"":" and confidence"):null;var e}),[l,c,o]),{placement:l?"bottom-end":"bottom-start"});return"bot"===o||"user"===t.event&&t.isOptimistic?null:Object(s.jsxs)(lr.Flex,{flexDirection:l?"row-reverse":"row",mt:2,mr:7,children:[Object(s.jsx)(Fe.Box,{children:Object(s.jsx)(Iu,{ref:u,confidence:c,children:i})}),n&&r&&Object(s.jsx)(lr.Box,{alwaysVisible:!1,alignSelf:"center",px:2,children:Object(s.jsx)(Fe.Flex,{children:Object(s.jsx)(ad,{onClick:function(){return n(r)}})})})]})}var cd=n(533);function id(e){var t=e.event,n=e.selected,r=k(n?"Annotating message: You are viewing details about this message on the right.":"Incorrect intent? Annotate this message");return"user"!==t.event?null:Object(s.jsx)(lr.Box,{alignSelf:"center",alwaysVisible:n,children:Object(s.jsx)(_.a,Object(Ce.a)(Object(Ce.a)({variant:"plainIcon",onClick:function(e){},ref:r},n&&{color:"neutral_7"}),{},{children:Object(s.jsx)(F.a,{icon:cd.faHighlighter,fontSize:3})}))})}function sd(e){var t=e.event,n=e.onFlagMessage,r=t.timestamp,a=t.is_flagged,o=k("Something went wrong? Flag this message to find it easily later");return Object(s.jsx)(lr.Box,{alwaysVisible:a,alignSelf:"center",children:Object(s.jsx)(_.a,Object(Ce.a)(Object(Ce.a)({variant:"plainIcon",onClick:function(e){e.stopPropagation(),n(r,!a)},ref:o},a&&{color:"secondary_2"}),{},{children:Object(s.jsx)(F.a,{icon:Tu.faFlagAlt})}))})}var ld=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};function ud(e){var t=e.environment,n=e.environments,r=e.chatToken,o=e.onClose,c=e.onFetchChatToken,i=a.useState(t),l=Object(Se.a)(i,2),u=l[0],d=l[1],b=a.useState(""),f=Object(Se.a)(b,2),p=f[0],h=f[1],j=a.useState(""),O=Object(Se.a)(j,2),v=O[0],g=O[1],m=st().addToast,y=a.useMemo((function(){return n.filter((function(e){return e!==u})).map((function(e){return{value:e,label:ld(e)}}))}),[n,u]),C=a.useCallback((function(e){return e&&!Array.isArray(e)&&d(e.value)}),[d]),S=a.useCallback((function(){c({botName:p,description:v})}),[p,v,c]),w=a.useCallback((function(){/localhost|127\.0\.0\.1|::1|\.local|^$/i.test(window.location.hostname)&&m({head:"Link contains \u201clocalhost\u201d",key:"generatedLocalhostLink",content:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Fe.Box,{as:"a",color:"neutral_0",href:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#share-your-bot-deployment",target:"_blank",children:"View docs"})," ","on how to make this local instance accessible."]})})}),[m]);return Object(s.jsxs)(Fe.Flex,{flexDirection:"column",children:[Object(s.jsxs)(Fe.Flex,{"data-e2e":"ShareBotDialogue",flexDirection:"column",px:6,py:5,style:{textAlign:"left",width:"580px"},"data-qa":"share-bot-popup_div",children:[y.length>0&&Object(s.jsx)(Fe.Flex,{mb:4,flexDirection:"column",children:Object(s.jsx)(pn.a,{text:"Environment to be tested",children:Object(s.jsx)(cn.a,{placeholder:"Select the environment guest testers should be able to access",onChange:C,value:{value:u,label:ld(u)},items:y})})}),Object(s.jsx)(Fe.Flex,{mb:4,flexDirection:"column",children:Object(s.jsx)(pn.a,{text:"Assistant's Details",children:Object(s.jsx)(pt.a,{value:p,onChangeValue:function(e){return h(e)},placeholder:"Enter a name for your bot that your testers should see...",fullWidth:!0})})}),Object(s.jsx)(Fe.Flex,{flexDirection:"column",children:Object(s.jsx)(pn.a,{text:Object(s.jsxs)(Fe.Flex,{alignItems:"center",sx:{cursor:"default"},children:["Description",Object(s.jsx)(Xr,{ml:1,content:"A description of your assistant, that your testers should see."})]}),children:Object(s.jsx)(Fe.Box,{sx:{height:r?"64px":"160px"},children:Object(s.jsx)(pt.a,{textarea:!0,value:v,onChangeValue:function(e){return g(e)},placeholder:"Enter a description of your assistant that you'd like your testers to see...",fullWidth:!0,fullHeight:!0})})})}),r&&Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(Fe.Flex,{mt:4,flexDirection:"column",children:Object(s.jsx)(pn.a,{text:"Share this link with any guest users",children:Object(s.jsxs)(Bc,{fullSize:!0,onCopy:w,children:[window.location.origin,"/guest/conversations/",u,"/",r]})})})}),Object(s.jsx)(xt,{variant:"success",m:0,py:"14px",mt:4,children:Object(s.jsxs)(x.a,{as:"i",variant:"bodySecondary",lineHeight:"initial",inheritColor:!0,children:[Object(s.jsx)(Fe.Box,{as:"strong",children:"Note:"})," Remember to use an incognito browser to be able to test the link yourself."]})})]}),Object(s.jsx)(Fe.Card,{sx:{borderTop:"1px solid",borderColor:"neutral_2"},children:Object(s.jsxs)(Fe.Flex,{px:4,py:3,flexDirection:"row-reverse",children:[Object(s.jsx)(_.a,{"data-e2e":"Button--Generate-Link",onClick:S,large:!0,ml:2,children:"Generate link"}),Object(s.jsx)(_.a,{large:!0,variant:"secondary",onClick:function(){return o&&o()},children:"Cancel"})]})})]})}function dd(e){var t=e.children,n=e.offset,r=e.onClose,a=e.visible,o=Object(Le.a)(e,["children","offset","onClose","visible"]);return Object(s.jsx)(yn,{content:Object(s.jsx)(ud,Object(Ce.a)({onClose:r},o)),title:Object(s.jsx)(R.a,{variant:"h2",children:"Share your assistant with Guest Testers"}),offset:n,visible:a,onClose:r,children:Object(s.jsx)(Qn.a,{content:"Share with guest testers",hideOnClick:!0,disabled:a,children:t})})}var bd=n.p+"static/media/filters_placeholder.841cdfaf.svg";function fd(e){var t=e.filtersApplied,n=e.filtersExpanded,r=e.setFiltersExpanded,a=e.canHintBeShown,o=Object(we.k)();return Object(s.jsx)(pc.a,{resource:Et.d.Metadata,action:Et.a.Read,yes:Object(s.jsx)(nu,{title:"Filter Conversations",content:"Filter through real conversations to find the ones that may need improvement.",docs:"https://rasa.com/docs/rasa-x/user-guide/review-conversations/#filtering-conversations",step:"filterConversations",nextStep:"shareYourBot",canBeShown:a,children:Object(s.jsx)(Xt.a,{right:!0,children:Object(s.jsx)(_.a,{variant:"barIcon",color:t||n?void 0:"neutral_6",active:n,onClick:function(){o(n?"view:conversations:filters:hide":"view:conversations:filters:show"),r(!n)},children:Object(s.jsx)(F.a,{icon:Dt.faSlidersH})})})})})}function pd(e){var t=e.restartPolling;return Object(s.jsxs)(xt,{variant:"error",children:[Object(s.jsx)(x.a,{variant:"metadata",lineHeight:"initial",inheritColor:!0,children:"There was an error loading messages and polling has been stopped."}),Object(s.jsx)(_.a,{onClick:t,variant:"plain",children:"Restart polling"})]})}function hd(e){var t=e.awaitingResponse,n=e.chatToken,r=e.conversationEvents,o=e.conversationId,c=e.conversations,i=e.correction,l=e.currentUser,u=e.entityTypes,d=e.environment,b=e.environments,f=e.error,p=e.filter,h=e.filterBarIsEmpty,j=e.filterIsEmpty,O=e.intents,x=e.onChangeCorrection,v=e.onCreateConversation,g=e.onFetchConversationIntents,m=e.onFetchConversations,y=e.onFetchConversationSlotNames,C=e.onFetchExample,S=e.onFetchIntents,w=e.onFetchEntities,E=e.onFetchActions,k=e.onFetchPolicies,T=e.onFetchChannels,A=e.onFetchEntityTypes,D=e.onFlagMessage,R=e.onFetchChatToken,I=e.onLoadMoreConversations,L=e.onSaveExampleFromCorrection,N=e.onSaveStory,U=e.onStartPolling,B=e.onStopPolling,M=e.onUnflagMessage,P=e.timestamp,H=e.totalConversations,q=(e.username,e.synonyms),G=e.onSaveE2ETest,W=e.saveE2ETestLoading,V=e.activeGitRepository;a.useEffect((function(){S(),g(),y(),w(),E(),k(),T(),A(),m({filter:p,offset:0,limit:20})}),[p,E,m,w,A,S,g,y,k,T]);var Y=Object(pe.c)(),z=Object(he.g)().push,K=Te(),Q=K.hintsEnabled,X=K.setInitialHint,J=K.setCurrentHint,Z=K.nextHints,$=Object(we.k)(),ee=We(),te=ee.setOnboardingShown,ne=ee.currentOnboardingStep,re=ee.currentOnboardingHint;a.useEffect((function(){$("view:conversations:loaded")}),[$]);var ae=a.useState(!1),oe=Object(Se.a)(ae,2),ce=oe[0],ie=oe[1],se=a.useState(!1),le=Object(Se.a)(se,2),ue=le[0],de=le[1],be=Object.values(c)[0],fe=o||(null===be||void 0===be?void 0:be.sender_id)||null,je=fe?r[fe]:void 0;a.useEffect((function(){fe&&Y(wn.o.request(Object(Ce.a)({conversationId:fe},P&&{until:P})))}),[fe,Y,P]);var Oe=Object(pe.d)((function(e){return e.messages.loading.conversations})),xe=Object(pe.d)((function(e){return e.messages.loading.conversation})),ve=a.useMemo((function(){return Object.values(c).find((function(e){return e.sender_id===fe}))}),[fe,c]),ge=P?"Story from conversation with ".concat(fe," on ").concat(fn()(1e3*P).format("MMMM Do YYYY")):"",me=a.useCallback((function(){if(fe){var e=Object.values(c).findIndex((function(e){return e.sender_id===fe})),t=e>0&&c[e-1].sender_id||c[1]&&c[1].sender_id||"";Y(wn.c.request({conversationId:fe})),z("/conversations/".concat(t))}}),[fe,c,Y,z]);a.useEffect((function(){var e="connectToChannels";return X(e),J(e),fe?(x(null),U({conversationId:fe}),function(){return B()}):function(){}}),[fe,x,U,B,J,X]);var ye=a.useCallback((function(e){var t=P===e.timestamp?"/conversations/".concat(fe):"/conversations/".concat(fe,"/").concat(e.timestamp);$("entity:event:selected"),z(t)}),[z,fe,$,P]),Ee=a.useCallback((function(){z("/conversations/".concat(fe))}),[z,fe]),ke=a.useCallback((function(e){z("/conversations/".concat(e))}),[z]),Ae=a.useCallback((function(e,t){if(fe){var n={conversationId:fe,timestamp:e};t?($("entity:event:flagged"),D(n)):($("entity:event:unflagged"),M(n))}}),[D,M,fe,$]),_e=a.useCallback((function(){$("actions:share-bot:show"),de(!0)}),[de,$]),De=a.useCallback((function(e){var t={use_channels:e.channels.length>0,use_intents:e.intents.length>0,use_entities:e.entities.length>0,use_actions:e.actions.length>0,use_policies:e.policies.length>0,use_slots:e.slots.length>0,use_tags:e.tags.length>0,core_confidence:e.coreConfidence,nlu_confidence:e.nluConfidence,minimum_messages:e.minimumMessages,flagged_only:e.flaggedOnly,stories_not_recognised:e.flaggedOnly,review_status:e.reviewStatus};$("view:conversations:filters:apply",t),m({filter:e,offset:0,limit:20}),ie(!1)}),[m,$]),Re=a.useCallback((function(e){$("view:conversation:filters:apply:date"),De(Object(Ce.a)(Object(Ce.a)({},p),{},{date:e}))}),[De,p,$]),Ie=Object(s.jsxs)(Fe.Flex,{justifyContent:"flex-end",children:[!(0===H&&j&&!Oe)&&Object(s.jsx)(pc.a,{resource:Et.d.Metadata,action:Et.a.Read,yes:Object(s.jsx)(Xt.a,{left:!0,children:Object(s.jsx)(qu,{onChange:Re})})}),Object(s.jsx)(pc.a,{resource:Et.d.ChatToken,action:Et.a.Update,yes:Object(s.jsx)(Xt.a,{left:!0,children:Object(s.jsx)(fc,{title:"Get your assistant talking to real people",content:"Generate a link to invite test users to talk to your assistant.",links:[{title:"Learn more about sharing your assistant with test users",href:"//rasa.com/docs/rasa-x/user-guide/share-assistant"}],actions:Object(s.jsx)(_.a,{variant:"inverse",onClick:function(){te(!1),de(!0)},children:"Let's do it"}),name:"share_bot",children:Object(s.jsx)(nu,{title:"Share your bot",content:"Improve your assistant by getting someone else to test it.",docs:"https://rasa.com/docs/rasa-x/user-guide/share-assistant",step:"shareYourBot",canBeShown:!0,children:Object(s.jsx)(dd,{environment:d,environments:b,onClose:function(){return de(!1)},onFetchChatToken:R,chatToken:n,offset:[0,0],visible:ue,children:Object(s.jsx)(_.a,{variant:"headerIcon",active:ue||"share_bot"===re,style:{position:"relative"},onClick:function(){ue?de(!1):("messages_message_sent"===ne&&te(!1),ce&&ie(!1),de(!0))},children:Object(s.jsx)(F.a,{icon:Gi.faShareAlt})})})})})})}),Object(s.jsx)(nu,{title:"Connect your assistant to an external channel",content:"Connect your assistant and let it talk to real users.",docs:"https://rasa.com/docs/rasa-x/user-guide/share-assistant/#external-channels",step:"connectToChannels",nextStep:"annotateConversations",canBeShown:!0,children:Object(s.jsx)(nu,{title:"Annotate Conversations",content:"Label entities and correct incorrectly predicted intents to improve your assitant.",docs:"https://rasa.com/docs/rasa-x/user-guide/annotate-nlu-examples/#annotating-in-conversations",step:"annotateConversations",nextStep:"filterConversations",canBeShown:!0,children:l&&Z.length>0&&Object(s.jsx)(Xt.a,{left:!0,sx:{display:"inline-block",position:"relative"},children:Object(s.jsx)(rd,{offset:[8,8],placement:"bottom-end",currentUser:l,children:Object(s.jsxs)(_.a,{color:Q?"primary_1":void 0,variant:"headerIcon",onClick:function(){return console.log("You'd think clicking this button would do something")},children:[Object(s.jsx)(ei,{show:!Q,top:"24px",right:"26px"}),Object(s.jsx)(F.a,{icon:Zo.faLightbulb})]})})})})})]}),Le=a.useCallback((function(){$("view:conversations:filters:hide"),ie(!1)}),[ie,$]),Ne=Object(s.jsx)(pc.a,{resource:Et.d.Metadata,action:Et.a.Read,yes:Object(s.jsx)(Fe.Box,{flex:"0 1",children:Object(s.jsx)(Wr,{children:Object(s.jsx)(Un,{filter:p,expanded:ce,offset:[4,4],onApply:function(e){"Conversation"===e.type&&De(e),ce&&ie(!ce)},onCancel:Le})})})}),Ue=Object(s.jsx)(pc.a,{resource:Et.d.Metadata,action:Et.a.Read,yes:Object(s.jsx)(Xt.a,{width:1/4,right:!0,sx:{maxHeight:"100%",maxWidth:"304px"},children:Object(s.jsx)(Wr,{children:Object(s.jsx)(td,{total:H,conversations:c,conversationId:fe,onSelectConversation:ke,filter:p,onLoadMoreRows:I,loading:Oe})})})}),Be=Object(s.jsx)(Xt.a,{top:!0,sx:{height:"100%",overflow:"hidden"},children:Object(s.jsxs)(Fe.Flex,{flexDirection:"column",sx:{bg:"neutral_0",height:"100%",overflow:"hidden"},children:[Object(s.jsx)(Xt.a,{bottom:!0,sx:{zIndex:100,bg:"neutral_1"},children:Object(s.jsxs)(Fe.Flex,{alignItems:"center",flex:"1",children:[Object(s.jsx)(fd,{filtersApplied:!h,filtersExpanded:ce,setFiltersExpanded:ie,canHintBeShown:H>0}),Object(s.jsx)(Fe.Box,{flex:"1",pl:16,children:Object(s.jsx)(Yu,{filter:p,onChange:De})}),h||Object(s.jsx)(Fe.Box,{mr:2,pr:24,children:Object(s.jsx)(_.a,{variant:"plain",color:"primary_1",onClick:function(){$("view:conversations:filters:reset"),De(Object(Ce.a)(Object(Ce.a)({},rn.e),{},{date:p.date}))},children:"Clear filters"})})]})}),Ne,Object(s.jsxs)(Fe.Flex,{sx:{height:"100%",overflow:"auto"},justifyContent:"center",children:[!Oe&&!j&&0===H&&Object(s.jsx)(qa,{heading:"There is nothing here",body:h?"Please try a different date range":"Please try a different set of filters for better results",image:bd,bg:"neutral_0"}),(Oe||H>0||j)&&Object(s.jsxs)(s.Fragment,{children:[Ue,Object(s.jsxs)(Fe.Flex,{flex:"1 1",children:[Object(s.jsx)(Xt.a,{right:!0,flex:"1 0",width:.6,children:Object(s.jsxs)(Wr,{children:[f&&fe&&Object(s.jsx)(pd,{restartPolling:function(){return U({conversationId:fe,environment:d})}}),!je&&xe&&Object(s.jsx)(ft,{mt:20,children:"Loading messages"}),fe&&je&&Object(s.jsx)("div",{style:f?{height:"calc(100% - 72px)"}:{height:"100%"},children:Object(s.jsx)(Xl,{truncateText:!0,awaitingResponse:t,username:fe,conversation:je,renderMessageAnnotater:id,renderMessageFlagger:function(e){return Object(s.jsx)(sd,Object(Ce.a)({onFlagMessage:Ae},e))},renderAction:od,onMessageClick:ye,timestamp:P})})]})}),Object(s.jsx)(Fe.Box,{width:.4,style:{maxWidth:"400px",overflow:"auto"},children:Object(s.jsxs)(Wr,{children:[0===P&&fe&&je&&Object(s.jsx)(bu,{conversation:ve,conversationId:fe,onConversationDelete:me,onUpdatedReviewStatus:function(){m({filter:p,offset:0,limit:20}),p.reviewStatus&&z("/conversations/")}}),0!==P&&je&&fe&&Object(s.jsx)(Mu,{activeGitRepository:V,saveE2ETestLoading:W,onSaveE2ETest:G,entityTypes:u,editable:!1,onChangeCorrection:x,onClose:Ee,timestamp:P,conversation:je,onCopy:function(){$("entity:story:copied-to-il"),v({data:{conversation_id_to_copy_from:fe,interactive:!0,until:P},storyName:ge})},storyName:ge,conversationId:fe,onFlagMessage:Ae,onFetchExample:C,intents:O,correction:i,onSaveCorrection:L,onSaveStory:N,synonyms:q})]})})]})]})]})]})});return Object(s.jsxs)(At.a,{title:"Conversations (".concat(H,")"),rightContent:Ie,noPadding:!0,children:[0===H&&j&&!Oe&&Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(qa,{heading:"No conversations yet!",body:"When users talk to your assistant, their conversations will show up here.",image:Za,actions:Object(s.jsx)(pc.a,{resource:Et.d.ChatToken,action:Et.a.Update,yes:Object(s.jsx)(_.a,{"data-e2e":"Button--Share-First-Use",disabled:ue,onClick:_e,large:!0,children:"Share your bot"})}),bg:"neutral_0"})}),Be]})}var jd=n(36),Od=Object(Ht.a)((function(e){return e.filter}),(function(e){return Ut()(e,rn.c.filter)})),xd={filterBarIsEmpty:Object(Ht.a)((function(e){return e.filter}),(function(e){return Ut()(Object(Ce.a)(Object(Ce.a)({},e),{},{date:rn.c.filter.date}),rn.c.filter)})),filterIsEmpty:Od},vd=n(39),gd={onChangeCorrection:Bt.a,onChangeEnvironment:wn.a,onChangeFilter:wn.b,onCreateConversation:jd.h.request,onFetchActions:wn.h.request,onFetchChatToken:wn.f.request,onFetchConversationIntents:wn.k.request,onFetchConversationSlotNames:wn.m.request,onFetchConversationSlotValues:wn.n.request,onFetchConversations:wn.p.request,onFetchEntities:wn.j.request,onFetchEntityTypes:Bt.f.request,onFetchEnvironments:Vo.c.request,onFetchExample:Bt.g.request,onFetchIntents:Bt.i.request,onFetchPolicies:wn.l.request,onFetchChannels:wn.i.request,onFlagMessage:wn.s.request,onSaveExampleFromCorrection:Bt.k.request,onSaveStory:vd.i.request,onSelectIntent:wn.y,onStartPolling:wn.z,onStopPolling:wn.A,onUnflagMessage:wn.B.request,onSaveE2ETest:wn.v.request};var md=Object(pe.b)((function(e,t){return{awaitingResponse:e.messages.awaitingResponse,chatToken:e.messages.chatToken,conversationEvents:e.messages.conversationEvents,conversationId:t.match.params.conversationId,conversationIntents:e.messages.intents,conversations:e.messages.conversations,correction:e.examples.correction,currentUser:e.users.currentUser,draftFilter:e.messages.draftFilter,entityTypes:e.examples.entityTypes,environment:e.messages.environment,environments:e.models.environments,error:e.messages.error,filter:e.messages.filter,filterBarIsEmpty:xd.filterBarIsEmpty(e.messages),filterIsEmpty:xd.filterIsEmpty(e.messages),intents:e.examples.intents,policies:e.messages.policies,role:e.auth.role,selectedIntent:e.messages.selectedIntent,timestamp:Number(t.match.params.timestamp)||0,totalConversations:e.messages.total,conversationsFetched:e.messages.conversationsFetched,username:e.auth.username,synonyms:e.synonyms.synonyms,saveE2ETestLoading:e.messages.loading.e2eTest,activeGitRepository:e.gitRepositories.activeGitRepository}}),gd)((function(e){var t=Object(we.g)(wn.p);return Object(s.jsx)(hd,Object(Ce.a)(Object(Ce.a)({},e),{},{onLoadMoreConversations:t}))})),yd=n(244),Cd=n(106),Sd=n.n(Cd);function wd(e){var t=e.domain,n=e.codeErrors,r=e.onClearDraft,o=e.onDelete,c=e.onSave,i=e.onCodeErrors,l=a.useState(t.content_yaml),u=Object(Se.a)(l,2),d=u[0],b=u[1],f=a.useState(t.filename),p=Object(Se.a)(f,2),h=p[0],j=p[1],O=a.useState(t),x=Object(Se.a)(O,2),v=x[0],g=x[1],m=a.useState(!1),y=Object(Se.a)(m,2),C=y[0],S=y[1];a.useEffect((function(){b(t.content_yaml),j(t.filename),S(!1),g(t)}),[t,b,j,S,g]),a.useEffect((function(){try{Sd.a.load(d),n.length>0&&i([])}catch(e){if(function(e){return e instanceof Cd.YAMLException}(e))n.length>0&&n.some((function(t){return t===e.mark.line}))||i(n.filter((function(t){return t!==e.mark.line})).concat([e.mark.line]))}}),[d,i,n]);var w=Object(he.g)().push,E=st().removeToast,k=a.useMemo((function(){return[{title:"responses",alert:{head:"Want to edit your responses?",content:"We recommend editing and creating responses directly from the Responses section. Editing responses is currently disabled on this page to avoid duplication of data.",key:"responsesPreventEdit",actions:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(_.a,{ml:4,large:!0,variant:"inverse",onClick:function(){w("/responses"),E("responsesPreventEdit")},children:"Go to Responses"}),Object(s.jsx)(_.a,{large:!0,variant:"plain",onClick:function(){return E("responsesPreventEdit")},children:"Never mind"})]})}}]}),[w,E]),T=d!==v.content_yaml||C||!("id"in v),A=Object(we.e)(Et.d.Stories,Et.a.Delete),D=a.useCallback((function(){S(!0)}),[S]);return Object(s.jsx)(Xt.a,{right:!0,sx:{overflow:"hidden"},flex:"1",children:Object(s.jsxs)(Fe.Flex,{style:{height:"100%"},flexDirection:"column",children:[Object(s.jsx)(Xt.a,{flex:"0 0 48px",bottom:!0,children:Object(s.jsxs)(Fe.Flex,{style:{height:"100%"},pr:4,alignItems:"center",children:[Object(s.jsx)(R.a,{variant:"h4",children:C?Object(s.jsx)(pt.a,{value:h,onChangeValue:j,ml:2}):Object(s.jsxs)(Fe.Box,{pl:3,children:[t.filename,Object(s.jsx)(_.a,{mx:1,variant:"icon",onClick:D,children:Object(s.jsx)(F.a,{icon:Ta.faEdit})})]})}),Object(s.jsxs)(Fe.Flex,{flex:"1",flexDirection:"row-reverse",mr:-1,alignItems:"center",children:[A&&Object(s.jsx)(Qn.a,{content:"Delete domain file",children:Object(s.jsx)(_.a,{mx:1,variant:"icon",onClick:function(){return"id"in t&&o&&o(t)},disabled:!o||!("id"in t),children:Object(s.jsx)(F.a,{icon:Kn.faTrashAlt})})}),T&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(_.a,{mx:1,variant:"primary",onClick:function(){return c(Object(Ce.a)(Object(Ce.a)({},t),{},{content_yaml:d,filename:h}))},disabled:n.length>0||0===h.length,children:"Save"}),Object(s.jsx)(_.a,{mx:1,variant:"secondary",onClick:function(){"id"in t?(b(t.content_yaml),j(t.filename)):r(),S(!1)},children:"Cancel"})]})]})]})}),Object(s.jsx)(Fe.Box,{flex:"1",style:{overflow:"auto "},children:Object(s.jsx)(Mi,{language:"yaml",value:d,onChange:b,readOnly:k,errors:n})})]})})}var Ed=n(193),kd=n.n(Ed);function Td(e){var t=e.location,n=e.element,r=e.value,a=e.onNavigate,o=(e.copyToDomain,e.removeFromDomain,"in_training_data"===t),c="in_domain"===t;return Object(s.jsxs)(lr.Flex,{flexDirection:"row",mb:2,children:[Object(s.jsxs)(x.a,{variant:"bodySecondary",lineHeight:"normal",inheritColor:!0,children:["The ",n," ",Object(s.jsx)("strong",{children:r})," was found in the"," ",o?"training data":"domain"," but is missing in the"," ",o?"domain":"training data","."]}),Object(s.jsx)(lr.Box,{children:Object(s.jsxs)(Fe.Flex,{flexDirection:"row",children:[c&&"action"===n&&Object(s.jsx)(_.a,{ml:3,variant:"plain",onClick:function(){return a("/responses")},fontSize:13,children:"Create response"}),c&&["intent","entity"].includes(n)&&Object(s.jsx)(_.a,{ml:3,variant:"plain",onClick:function(){return a("/data")},fontSize:13,children:"Create NLU example"})]})})]})}var Ad=a.memo((function(e){var t=e.domain,n=e.onChange,r=e.domainWarnings,o=e.onNavigate,c=e.errors,i=st().addToast,l=a.useState(!1),u=Object(Se.a)(l,2),d=u[0],b=u[1],f=a.useState([]),p=Object(Se.a)(f,2),h=p[0],j=p[1],O=a.useMemo((function(){return r.filter((function(e){return!h.find((function(t){return t.element===e.element&&t.location===e.location&&t.value===e.value}))}))}),[r,h]),v=a.useCallback((function(){i({head:"Invalid YAML file",variant:"error",content:"It looks like something is wrong with your YAML file. Please update it and try again.",key:"InvalidYaml"})}),[i]),g=a.useCallback((function(e,r){var a=kd()(e),o=Object(Ce.a)({},t);Array.isArray(t[a])?o=Object(Ce.a)(Object(Ce.a)({},o),{},{[a]:o[a].filter((function(e){return e!==r}))}):t[a]instanceof Object&&delete o[a][r],n(Sd.a.dump(o)),j((function(t){return[].concat(Object(ye.a)(t),[{location:"in_domain",element:e,value:r}])}))}),[t,n]),m=a.useCallback((function(e,r){var a=kd()(e);n(Sd.a.dump(Object(Ce.a)(Object(Ce.a)({},t),{},{[a]:[].concat(Object(ye.a)(t[a]),[r])}))),j((function(t){return[].concat(Object(ye.a)(t),[{location:"in_training_data",element:e,value:r}])}))}),[t,n]);return 0===O.length?null:Object(s.jsx)(xt,{m:0,block:!0,children:Object(s.jsxs)(Fe.Flex,{justifyContent:"start",flexDirection:"column",sx:{cursor:"default",width:"100%",maxHeight:8.5*parseFloat(le.lineHeights.normal)+"px"},children:[Object(s.jsxs)(x.a,{variant:"bodySecondary",lineHeight:"initial",inheritColor:!0,sx:{overflow:"visible"},children:[O.length," inconsistenc",O.length>1?"ies were":"y was"," detected with you domain file(s).",Object(s.jsxs)(_.a,{variant:"plain",onClick:function(){return b(!d)},ml:2,fontSize:13,children:["Show ",d?"less":"more"]})]}),d&&Object(s.jsx)(Fe.Flex,{as:"ul",flexDirection:"column",pl:4,mx:0,mt:3,mb:2,sx:{overflowY:"auto"},children:O.map((function(e){return Object(s.jsx)(Td,Object(Ce.a)(Object(Ce.a)({},e),{},{onNavigate:o,copyToDomain:0===c.length?m:v,removeFromDomain:0===c.length?g:v}),"".concat(e.element,"-").concat(e.location,"-").concat(e.value))}))})]})})}));function _d(e){var t=e.selected,n=e.value,r=e.onClick;return Object(s.jsx)(Fe.Flex,{onClick:r,sx:{height:"48px",cursor:"pointer",position:"relative","&:after":{content:"",width:"4px",height:"48px",position:"absolute",right:"0px",transform:"scaleY(".concat(t?1:0,")"),opacity:t?1:0,transition:"transform cubic-bezier(0.51, 0.92, 0.24, 1.15) 0.2s",bg:"primary_2"},"&:hover":{bg:"neutral_1"}},px:4,bg:t?"neutral_1":"transparent",alignItems:"center",children:Object(s.jsx)(x.a,{variant:"bodySecondary",children:n})})}function Dd(e){var t=e.items,n=e.selected,r=e.onChange;return Object(s.jsx)(Fe.Flex,{flexDirection:"column",children:t.map((function(e){var t=e.filename;return Object(s.jsx)(_d,{selected:t===n,value:t,onClick:function(){return r(t)}},t)}))})}function Rd(){var e=Object(ve.a)(["\n  "," "," ","\n  cursor: pointer;\n  transition: all ease 0.2s;\n"]);return Rd=function(){return e},e}var Fd=l.default.li(Rd(),Qe.space,Aa.d,Qe.color);function Id(e){var t=e.options;return Object(s.jsx)("ul",{style:{listStyle:"none",paddingLeft:0,textAlign:"left"},children:t.map((function(e){var t=Object(s.jsx)(Fd,{onClick:e.onClick,color:"neutral_8",children:e.label},e.label);return e.render?Object(s.jsx)("div",{children:e.render(t)},e.label):t}))})}Fd.defaultProps={px:4,py:"14px",bgHover:"neutral_1"};var Ld=n(338);function Nd(e){var t=e.domainFiles,n=e.domainWarnings,r=e.onCreateDomainFile,o=e.onDeleteDomainFile,c=e.onSaveDomainFile,i=Object(he.g)().push,l=a.useState([]),u=Object(Se.a)(l,2),d=u[0],b=u[1],f=a.useState(t[0]||null),p=Object(Se.a)(f,2),h=p[0],j=p[1],O=a.useState(!1),x=Object(Se.a)(O,2),v=x[0],g=x[1],m=a.useMemo((function(){if(h){var e=new Blob([h.content_yaml],{type:"application/x-yaml"});return window.URL.createObjectURL(e)}}),[h]);a.useEffect((function(){var e=!h&&t[0]||h&&"id"in h&&t.find((function(e){return e.id===h.id}));e&&e!==h&&j(e)}),[t,h,j]);var y=a.useCallback((function(){g(!1),j({filename:"domain-".concat(t.length,".yml"),content_yaml:"- "})}),[t,g,j]),C=a.useCallback((function(e){"id"in e?(c(e),j(t.find((function(t){return t.id===e.id})))):(r({domainFile:e}),j(t[0]))}),[r,c,j,t]),S=a.useCallback((function(e){o(e),e.id===t[0].id?j(t[1]):j(t[0])}),[o,t]),w=a.useCallback((function(e){var t=e.target.files&&e.target.files[0];if(t){var n=new FileReader;n.onload=function(){"string"===typeof n.result&&r({domainFile:{content_yaml:n.result,filename:t.name},storeResponses:!0}),g(!1)},n.readAsText(t)}}),[r]),E=a.useMemo((function(){return[{label:"Create new domain file",onClick:y},{label:"Upload domain file",render:function(e){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Fe.Box,{as:"label",htmlFor:"domain-upload-handler",children:e}),Object(s.jsx)(Fe.Box,{as:"input",id:"domain-upload-handler",accept:".yaml, .yml",type:"file",onChange:w,sx:{display:"none"}})]})}}]}),[y,w]),k=a.useMemo((function(){return Object(s.jsx)(pc.a,{resource:Et.d.Domain,action:Et.a.Update,yes:Object(s.jsx)(yn,{content:Object(s.jsx)(Id,{options:E}),offset:[0,8],visible:v,onClose:function(){return g(!1)},children:Object(s.jsx)(_.a,{variant:"headerIcon",active:v,onClick:function(){return g((function(e){return!e}))},children:Object(s.jsx)(F.a,{icon:Cn.faPlus})})})})}),[v,E]),T=a.useMemo((function(){return Object(s.jsx)(pc.a,{resource:Et.d.Domain,action:Et.a.Read,yes:Object(s.jsx)(Qn.a,{content:"Export domain",children:Object(s.jsx)(_.a,{as:"a",download:(null===h||void 0===h?void 0:h.filename)||"domain.yml",href:m,variant:"headerIcon",onClick:function(){},children:Object(s.jsx)(F.a,{icon:yd.faArrowToBottom})})})})}),[m,h]),A=a.useMemo((function(){return[k,T]}),[k,T]),D=a.useState(""),R=Object(Se.a)(D,2),I=R[0],L=R[1],N=a.useMemo((function(){return I?t.filter((function(e){return e.content_yaml.includes(I)})):t}),[t,I]),U=Object(s.jsx)(Xt.a,{sx:{height:"100%"},left:!0,children:Object(s.jsx)(Ld.a,{style:{height:"100%"},resource:Et.d.Domain,total:t.length,searchQuery:I,onSearch:L,buttons:A})});return Object(s.jsx)(At.a,{title:Object(s.jsx)(Fe.Box,{width:251,children:"Domain"}),content:U,noPadding:!0,children:Object(s.jsxs)(Fe.Flex,{bg:"neutral_0",sx:{height:"100%",overflow:"hidden"},children:[Object(s.jsx)(Xt.a,{right:!0,flex:"0 0 300px",children:Object(s.jsx)(Dd,{items:N,selected:null===h||void 0===h?void 0:h.filename,onChange:function(e){var n=t.find((function(t){return t.filename===e}));n&&j(n)}})}),Object(s.jsxs)(Fe.Flex,{flexDirection:"column",flex:"1",children:[h&&n.length>0&&Object(s.jsx)(Ad,{onNavigate:i,onChange:function(){},domain:h,domainWarnings:n,errors:d}),h&&Object(s.jsx)(wd,{codeErrors:d,domain:h,onClearDraft:function(){return j(t[0])},onCodeErrors:b,onDelete:t.length>1?S:void 0,onSave:C})]})]})})}var Ud={onCreateDomainFile:nr.a.request,onDeleteDomainFile:nr.b.request,onSaveDomainFile:nr.i.request,onFetchDomains:nr.f.request,onFetchDomain:nr.e.request,onFetchDomainWarnings:nr.g.request};var Bd=Object(pe.b)((function(e){return{domainFiles:e.projects.domainFiles,error:e.projects.error,domainWarnings:e.projects.domainWarnings}}),Ud)((function(e){var t=e.onFetchDomains,n=e.onFetchDomainWarnings,r=e.domainFiles,o=Object(Le.a)(e,["onFetchDomains","onFetchDomainWarnings","domainFiles"]);return a.useEffect((function(){t(),n()}),[t,n]),Object(s.jsx)(Nd,Object(Ce.a)({domainFiles:r},o))})),Md=n(1034);var Pd=n(54),Hd=n.p+"static/media/rasa_horizontal_logo.187bf9a3.svg";function qd(){var e=Object(ve.a)(["\n  @media (max-device-width: ",") {\n    border: 0;\n    box-shadow: 0 4px 11px 0 rgba(152, 163, 193, 0.17);\n    z-index: 1;\n    width: 100%;\n  }\n  @media (max-device-width: ",") {\n    border-radius: 0;\n    margin: 0;\n    padding: 16px;\n  }\n"]);return qd=function(){return e},e}function Gd(){var e=Object(ve.a)(["\n  height: 100%;\n  min-height: 100%;\n  @media (max-device-width: ",") {\n    flex-direction: column;\n  }\n  @media (max-device-width: ",") {\n    padding: 0;\n    height: 100%;\n  }\n"]);return Gd=function(){return e},e}var Wd=Object(l.default)(Fe.Flex)(Gd(),Object(Pd.a)("breakpoints.2"),Object(Pd.a)("breakpoints.1")),Vd=Object(l.default)(Fe.Card)(qd(),Object(Pd.a)("breakpoints.2"),Object(Pd.a)("breakpoints.1"));function Yd(e){var t=e.awaitingResponse,n=e.botDescription,r=e.botName,o=e.conversationEvents,c=e.environment,i=e.onSendMessage,u=e.onStartPolling,d=e.onStopPolling,b=e.timestamp,f=e.username,p=a.useContext(l.ThemeContext),h=function(e,t){var n="string"===typeof t?t:le.breakpoints[t],r=Object(a.useMemo)((function(){return window.matchMedia("("+e+": "+n+")")}),[e,n]),o=Object(a.useState)(!!r.matches),c=o[0],i=o[1];return Object(a.useEffect)((function(){var e=function(){return i(!!r.matches)};return r.addEventListener("change",e),e(),function(){r.removeEventListener("change",e)}}),[r]),c}("max-device-width",1),j=a.useState(!0),O=Object(Se.a)(j,2),v=O[0],g=O[1];a.useEffect((function(){return f?(u({conversationId:f,environment:c,guest:!0}),function(){return d()}):function(){}}),[f,c,u,d]);var m=a.useCallback((function(e){i({senderId:f,text:e,environment:c})}),[f,c,i]),y=a.useMemo((function(){var e;return null===(e=o[f])||void 0===e?void 0:e.filter((function(e){return["bot","user","typing"].includes(e.event)}))}),[o,f]);return Object(s.jsx)(Wd,{bg:"neutral_3",alignItems:"center",justifyContent:"center",p:4,children:Object(s.jsx)(Vd,{flex:"0 1 976px",sx:{borderRadius:"large",boxShadow:"0 4px 11px 0 rgba(152, 163, 193, 0.17)",overflow:"hidden",height:"700px",["@media (max-device-width: ".concat(p.breakpoints[1],")")]:{"&&":{height:"auto",padding:0,overflow:"unset"}}},my:3,children:Object(s.jsxs)(Wd,{sx:{height:"100%"},children:[Object(s.jsx)(Vd,{bg:"neutral_0",width:400,p:6,pb:11,sx:{borderRight:"1px solid",borderColor:"neutral_4"},children:Object(s.jsxs)(Fe.Flex,{flexDirection:"column",sx:{height:"100%"},children:[Object(s.jsxs)(Fe.Flex,{justifyContent:"space-between",alignItems:"flex-start",children:[Object(s.jsx)(Fe.Image,{src:Hd,alt:"Rasa Logo",sx:{width:"77px",["@media (max-device-width: ".concat(p.breakpoints[1],")")]:{width:"50px"}}}),h&&!v&&Object(s.jsx)(_.a,{variant:"plainIcon",p:0,onClick:function(){g(!v)},children:Object(s.jsx)(F.a,{icon:Md.faEllipsisV,color:"neutral_6",fontSize:"24px"})})]}),v&&Object(s.jsxs)(Fe.Box,{mt:[21,21,5],px:[2,2,0],children:[Object(s.jsx)(Fe.Box,{flex:"1"}),Object(s.jsxs)(R.a,{fontWeight:400,variant:"h1",fontSize:[0,15,20],lineHeight:[0,1.33,"28px"],letterSpacing:3,sx:{maxWidth:"240px",["@media (max-device-width: ".concat(p.breakpoints[1],")")]:{maxWidth:"initial"}},children:["You have been invited to have a conversation with"," ",r?Object(s.jsx)("strong",{children:r}):"an AI assistant"]}),n&&Object(s.jsx)(x.a,{lineHeight:"big",mt:[0,3,4],sx:{["@media (max-device-width: ".concat(p.breakpoints[1],")")]:{fontSize:"13px"}},children:n})]})]})}),Object(s.jsx)(Fe.Flex,{bg:"neutral_0",flex:1,justifyContent:"center",flexDirection:"column",pb:[0,72,0],onTouchMove:function(){g(!1)},children:Object(s.jsx)(Xl,{onChatFocus:function(){return h&&g(!1)},awaitingResponse:t,username:f,conversation:y,onSendMessage:m,timestamp:b,userAvatar:Object(s.jsx)(F.a,{fontSize:14,icon:Cl.faUser})})})]})})})}var zd={onSendMessage:wn.w,onStartPolling:wn.z,onStopPolling:wn.A,onFetchTemporaryAccessToken:wt.f.request,onFetchBotDetails:wn.e.request,onFetchConversation:wn.q};var Kd=Object(pe.b)((function(e,t){return{awaitingResponse:e.messages.awaitingResponse,chatToken:t.match.params.chatToken,conversationEvents:e.messages.conversationEvents,entities:e.messages.entities,entityTypes:e.examples.entityTypes,role:e.auth.role,timestamp:Number(t.match.params.timestamp)||0,guestUsername:e.auth.guestUsername,environment:t.match.params.environment,loading:e.messages.loading,botName:e.messages.botName,botDescription:e.messages.botDescription}}),zd)((function(e){var t=e.guestUsername,n=e.onFetchTemporaryAccessToken,r=e.onFetchBotDetails,o=e.onFetchConversation,c=e.chatToken,i=Object(Le.a)(e,["guestUsername","onFetchTemporaryAccessToken","onFetchBotDetails","onFetchConversation","chatToken"]),l=Object(pe.d)((function(e){return e.auth.guestAccessToken}));return a.useEffect((function(){l&&t?(r(),o({conversationId:t})):n({chatToken:c})}),[c,n,r,o,l,t]),null===t?null:Object(s.jsx)(Yd,Object(Ce.a)({username:t},i))}));function Qd(e){var t=e.status,n=Object(Le.a)(e,["status"]),o=a.useMemo((function(){switch(t){case r.a.OK:return{icon:To.faCheckCircle,color:"cyan_1"};case r.a.OUTDATED:case r.a.NOT_CALCULATED_YET:case r.a.LATEST_FAILED_AND_RESULTS_ARE_OK:case r.a.LATEST_FAILED_AND_RESULTS_ARE_OUTDATED:return{icon:Jt.faExclamationCircle,color:"secondary_3"};default:return{icon:bt.faCircleNotch,color:"primary_2"}}}),[t]),c=o.icon,i=o.color;return Object(s.jsx)(F.a,Object(Ce.a)({icon:c,color:i,fontSize:"16px",spin:t===r.a.IN_PROGRESS},n))}var Xd=n(1035),Jd=fn()().utcOffset()/60,Zd=function(e){return fn()().hours(e).minutes(0).seconds(0).format("LT")},$d=function(e){return e<0?24+e:e>=24?e-24:e},eb=Object(ye.a)(Array(24).keys()).map((function(e){return{value:$d(e-Jd),label:Zd(e)}}));function tb(e){var t=e.onClose;return Object(s.jsxs)(Fe.Flex,{flexDirection:"column",style:{textAlign:"left",width:"580px",color:"black"},children:[Object(s.jsxs)(Fe.Flex,{flexDirection:"column",px:6,children:[Object(s.jsx)(Fe.Box,{py:5,children:"To run an evaluation and view intent insights, run the following command in your project directory:"}),Object(s.jsx)(Bc,{fullSize:!0,children:"rasa test nlu --cross-validation"}),Object(s.jsxs)(Fe.Box,{py:5,children:["In server mode, evaluations run automatically every 24 hours."," ",Object(s.jsx)(Fe.Box,{as:"a",color:"primary_1",target:"_blank",href:"https://rasa.com/docs/rasa-x/installation-and-setup/installation-guide#server-quick-install",children:"Learn more about how to deploy Rasa X in server mode"})]})]}),Object(s.jsx)(Fe.Card,{sx:{borderTop:"1px solid",borderColor:"neutral_2"},children:Object(s.jsx)(Fe.Flex,{px:4,py:3,flexDirection:"row-reverse",justifyContent:"space-between",children:Object(s.jsx)(_.a,{large:!0,onClick:function(){return t&&t()},children:"Done"})})})]})}function nb(e){var t=e.status,n=e.reports,o=e.config,c=e.onUpdateInsightCalculationConfig,i=e.onRunInsightCalculation,l=e.onDownloadNLUReports,u=e.onClose,d=a.useMemo((function(){if(o){var e=o.schedule.split(" ");if(!(e.length<2)){var t=parseInt(e[1]);return{value:t,label:Zd($d(t+Jd))}}}}),[o]),b=a.useMemo((function(){if(t===r.a.IN_PROGRESS&&n.active){var e=fn()(1e3*n.active.started_at).format("LT");return Object(s.jsxs)(x.a,{color:"black",children:["Last evaluation ",Object(s.jsxs)(x.a,{as:"span",sx:{display:"inline",fontWeight:"bold"},children:["started at ",e," and still in progress."]})]})}if(n.latestSuccessful&&n.latestSuccessful.finished_at){var a=fn()(1e3*n.latestSuccessful.started_at),o=fn()(1e3*n.latestSuccessful.finished_at),c=a.format("on LL"),i=o.format("on LL"),l=Object(s.jsxs)(x.a,{as:"span",sx:{display:"inline",fontWeight:"bold"},children:["started at ",a.format("LT"),c===i?" ":c+" ","and ended at ",o.format("LT")," ",i,"."]});return t===r.a.LATEST_FAILED_AND_RESULTS_ARE_OUTDATED?Object(s.jsxs)(x.a,{color:"black",children:["The last evaluation failed due to an error. The previous evaluation ",l," Since then some changes were made to the assistant."]}):t===r.a.LATEST_FAILED_AND_RESULTS_ARE_OK?Object(s.jsxs)(x.a,{color:"black",children:["The last evaluation failed due to an error. The previous evaluation ",l," Since then no changes were made to the assistant and the evaluations are up to date."]}):t===r.a.OK?Object(s.jsxs)(x.a,{color:"black",children:["The insights on this screen are up to date. Last evaluation ",l," Since then no changes were made to the assistant."]}):Object(s.jsxs)(x.a,{color:"black",children:["The insights on this screen are not up to date. Last evaluation ",l," Since then some changes were made to the assistant"]})}return t===r.a.LATEST_FAILED_AND_RESULTS_ARE_OUTDATED?Object(s.jsx)(x.a,{color:"black",children:"Last evaluation failed due to an error."}):Object(s.jsx)(x.a,{color:"black",children:"The insights have not been calculated yet."})}),[t,n]),f=a.useMemo((function(){return t===r.a.LATEST_FAILED_AND_RESULTS_ARE_OUTDATED||t===r.a.LATEST_FAILED_AND_RESULTS_ARE_OK?"Download results from previous evaluation":"Download full evaluation results"}),[t]);return Object(s.jsxs)(Fe.Flex,{flexDirection:"column",style:{textAlign:"left",width:"580px"},children:[Object(s.jsx)(Fe.Flex,{flexDirection:"column",px:6,pt:5,pb:2,children:Object(s.jsx)(Fe.Flex,{flexDirection:"column",children:Object(s.jsx)(pn.a,{text:"Evaluations are scheduled to run daily at",children:Object(s.jsx)(cn.a,{fullWidth:!0,items:eb,value:d,onChange:function(e){if(o&&e){var t="0 "+e.value+" * * *";c(Object(Ce.a)(Object(Ce.a)({},o),{},{calculator_configuration:o.calculator_configuration||{},schedule:t}))}}})})})}),Object(s.jsxs)(Fe.Flex,{py:5,px:5,sx:{backgroundColor:"neutral_1",borderRadius:"0",flexDirection:"column"},children:[Object(s.jsxs)(Fe.Flex,{children:[Object(s.jsx)(Qd,{status:t,mr:2,mt:"2px"}),b]}),n.latestSuccessful&&Object(s.jsxs)(Fe.Flex,{onClick:function(){var e;(null===(e=n.latestSuccessful)||void 0===e?void 0:e.id)&&l(n.latestSuccessful.id)},mt:4,sx:{color:"primary_1",fontWeight:"bold",cursor:"pointer"},children:[Object(s.jsx)(F.a,{icon:Xd.a,color:"primary_1",fontSize:"16px",mt:"2px",mr:2}),f]})]}),Object(s.jsx)(Fe.Card,{sx:{borderTop:"1px solid",borderColor:"neutral_2"},children:Object(s.jsxs)(Fe.Flex,{px:4,py:3,flexDirection:"row-reverse",justifyContent:"space-between",children:[Object(s.jsx)(_.a,{large:!0,onClick:function(){return u&&u()},children:"Done"}),Object(s.jsx)(_.a,{large:!0,disabled:t===r.a.IN_PROGRESS,onClick:function(){i(),u&&u()},children:"Run evaluation now"})]})})]})}function rb(e){return Object(we.j)()?Object(s.jsx)(nb,Object(Ce.a)({},e)):Object(s.jsx)(tb,Object(Ce.a)({},e))}function ab(e){var t=e.children,n=e.status,r=e.reports,a=e.config,o=e.onUpdateInsightCalculationConfig,c=e.onRunInsightCalculation,i=e.onDownloadNLUReports,l=e.onClose,u=e.offset,d=e.visible,b=Object(Le.a)(e,["children","status","reports","config","onUpdateInsightCalculationConfig","onRunInsightCalculation","onDownloadNLUReports","onClose","offset","visible"]);return Object(s.jsx)(yn,{content:Object(s.jsx)(rb,Object(Ce.a)({status:n,reports:r,config:a,onUpdateInsightCalculationConfig:o,onRunInsightCalculation:c,onDownloadNLUReports:i,onClose:l},b)),title:Object(s.jsx)(R.a,{variant:"h2",children:"Run Evaluations"}),offset:u,visible:d,onClose:l,onClickOutside:function(){},children:t})}function ob(e){var t=e.outdatedResults,n=e.reports,o=e.config,c=e.onUpdateInsightCalculationConfig,i=e.onRunInsightCalculation,l=e.onDownloadNLUReports,u=e.showModal,d=e.setShowModal,b=a.useMemo((function(){return n.active||n.latestSuccessful||n.latestNonSuccessful?n.active||n.latestSuccessful||!n.latestNonSuccessful?n.active?r.a.IN_PROGRESS:n.latestNonSuccessful?(null===(e=n.latestSuccessful)||void 0===e?void 0:e.finished_at)&&n.latestNonSuccessful.finished_at&&n.latestSuccessful.finished_at>n.latestNonSuccessful.finished_at?r.a.OK:t?r.a.LATEST_FAILED_AND_RESULTS_ARE_OUTDATED:r.a.LATEST_FAILED_AND_RESULTS_ARE_OK:t?r.a.OUTDATED:r.a.OK:r.a.LATEST_FAILED_AND_RESULTS_ARE_OUTDATED:r.a.NOT_CALCULATED_YET;var e}),[t,n]),f=a.useMemo((function(){switch(b){case r.a.OK:return"Evaluations are up to date";case r.a.OUTDATED:case r.a.NOT_CALCULATED_YET:return"Evaluations are not up to date";case r.a.LATEST_FAILED_AND_RESULTS_ARE_OK:case r.a.LATEST_FAILED_AND_RESULTS_ARE_OUTDATED:return"Latest evaluation failed";default:return"Evaluations in progress"}}),[b]);return Object(s.jsx)(Xt.a,{left:!0,children:Object(s.jsx)(ab,{status:b,reports:n,config:o,onUpdateInsightCalculationConfig:c,onRunInsightCalculation:i,onDownloadNLUReports:l,visible:u,offset:[0,8],onClose:function(){return d(!1)},children:Object(s.jsxs)(Fe.Flex,{flexDirection:"row",sx:{height:"72px",width:"340px",cursor:"pointer",justifyContent:"space-between",alignItems:"center"},px:3,onClick:function(){d((function(e){return!e}))},children:[Object(s.jsxs)(Fe.Flex,{alignItems:"center",children:[Object(s.jsx)(Qd,{status:b,mr:"12px"}),Object(s.jsx)(x.a,{variant:"bodySecondary",children:f})]}),Object(s.jsx)(_.a,{variant:"plainIcon",onClick:function(){},children:Object(s.jsx)(F.a,{color:"neutral_7",fontSize:"12px",icon:Hu.faChevronDown})})]})})})}var cb=n(1036),ib=n.p+"static/media/nlu_training_placeholder.23524ae2.svg";function sb(e){var t=e.isSearch,n=e.insightsLoading,r=e.modelsLoading,o=e.evaluationRunning,c=e.setShowModal;return o?Object(s.jsx)(ft,{mt:20,children:"Evaluating intents"}):n?Object(s.jsx)(ft,{mt:20,children:"Loading intent insights"}):Object(s.jsx)(qa,{heading:t?"There are no intent insights for this search":"There are no intent insights yet",imageWidth:125,pb:5,image:ib,body:Object(s.jsxs)(a.Fragment,{children:[t&&"Try a different search query.",!t&&"Once an evaluation is completed, the results will appear here."]}),actions:Object(s.jsx)(a.Fragment,{children:!t&&!r&&Object(s.jsx)(_.a,{large:!0,disabled:n,onClick:function(){return c((function(e){return!e}))},children:"Run evaluation"})})})}var lb=function(e){return e/18*100+"%"};function ub(e){var t=e.title,n=e.columnKey,r=e.sortBy,a=e.onArrowClick,o=r===n;return Object(s.jsxs)(Fe.Flex,{flexDirection:"row-reverse",sx:{textAlign:"right"},children:[Object(s.jsx)(Fe.Box,{sx:{width:28,textAlign:"center",cursor:"pointer"},onClick:function(){return a(o?void 0:n)},children:Object(s.jsx)(F.a,{color:o?"primary_1":"neutral_4",icon:cb.faLongArrowDown,fontSize:"16px",mr:"12px",ml:1})}),Object(s.jsx)(Fe.Box,{children:t})]})}function db(e){var t=e.children,n=e.paddingRight;return Object(s.jsx)(Fe.Box,{sx:{textAlign:"right",paddingRight:n||28},children:t})}function bb(e){var t=e.value;e.threshold;return Object(s.jsx)(Fe.Box,{as:"span",px:2,py:1,sx:t<=.5?{backgroundColor:"secondary_4",color:"secondary_1",borderRadius:"8px"}:{},children:t.toFixed(2)})}function fb(e){var t=e.intentInsights,n=a.useMemo((function(){return t.map((function(e){switch(e.source){case"MinimumExampleInsightCalculator":return"Not enough examples";case"ConfusionInsightCalculator":if(!e.details.confusions)break;var t=Object.keys(e.details.confusions);return t.length<=3?"Confused with "+t.join(", "):"Confused multiple times";case"ClassBiasInsightCalculator":return"Possible bias";case"WrongAnnotationInsightCalculator":if(e.details.number_of_wrong_classifications)return"Misclassified ".concat(e.details.number_of_wrong_classifications," times");break;case"NLUInboxConfidenceInsightCalculator":return"Low confidence"}return""}))}),[t]);return 0===n.length?Object(s.jsx)(x.a,{children:"-"}):Object(s.jsxs)(x.a,{variant:"bodySecondary",children:[n[0],n.length>1&&Object(s.jsx)(Qn.a,{content:Object(s.jsx)(Fe.Box,{children:n.slice(1).map((function(e){return Object(s.jsx)(Fe.Box,{children:e})}))}),containerStyle:{display:"inline-block"},children:Object(s.jsxs)(x.a,{as:"span",variant:"bodySecondary",ml:1,sx:{fontWeight:"bold"},children:["+",n.length-1," more"]})})]})}function pb(e){var t=e.intent,n=e.intentInsights,r=e.onNavigate,o=a.useMemo((function(){if(0===n.length)return null;switch(n[0].source){case"MinimumExampleInsightCalculator":case"NLUInboxConfidenceInsightCalculator":default:return{link:"/nlu-inbox?filter=intents%3A"+t,text:"Annotate more examples"};case"ConfusionInsightCalculator":return{link:"/data/training-data?q=intent%3A"+t,text:"Review training data for intent"};case"ClassBiasInsightCalculator":return{link:"/data/training-data?q=intent%3A"+t,text:"Reduce training examples"};case"WrongAnnotationInsightCalculator":return{link:"/data/training-data?q=intent%3A"+t,text:"Verify annotations"}}}),[n,t]);return o?Object(s.jsx)(_.a,{as:"a",variant:"link",onClick:function(){return r(o.link)},children:o.text}):Object(s.jsx)(x.a,{children:"-"})}function hb(e){var t=e.activeModel,n=e.insightsLoading,r=e.modelsLoading,a=e.evaluationRunning,o=e.nluEvaluationResults,c=e.total,i=e.searchQuery,l=e.sortBy,u=e.onSearch,d=e.onColumnSortClick,b=e.onRunInsightCalculation,f=e.loadMore,p=e.pageSize,h=e.setShowModal,j=e.onNavigate;return Object(s.jsx)(Ha,{children:Object(s.jsxs)(Fe.Box,{sx:{minWidth:"790px",width:"100%",height:"100%"},children:[Object(s.jsx)(Lt,{count:0,query:i,label:function(e){return"Search intents..."},onChange:u,onReturn:u}),Object(s.jsx)(Fe.Card,{bg:"neutral_0",p:0,sx:{height:"100%",overflow:"hidden",borderBottomLeftRadius:"large",borderBottomRightRadius:"large"},children:o&&o.length>0?Object(s.jsxs)(Dr,{variant:"flattened",highlight:-1,setHighlightedRow:function(){},onLoadMore:f,rows:o,total:c,rowStyle:{gap:"24px"},pageSize:p,stripeSelection:!0,children:[Object(s.jsx)(Fr,{title:"Intent",width:lb(4),children:function(e){return e.intent_name}}),Object(s.jsx)(Fr,{title:Object(s.jsx)(ub,{columnKey:"number_of_training_examples",sortBy:l,onArrowClick:d,title:"Training examples"}),width:lb(2),children:function(e){return Object(s.jsx)(db,{children:e.number_of_training_examples||0})}}),Object(s.jsx)(Fr,{title:Object(s.jsx)(ub,{columnKey:"precision",sortBy:l,onArrowClick:d,title:"Precision"}),width:lb(2),children:function(e){return Object(s.jsx)(db,{paddingRight:"20px",children:Object(s.jsx)(bb,{threshold:.5,value:e.precision})})}}),Object(s.jsx)(Fr,{title:Object(s.jsx)(ub,{columnKey:"recall",sortBy:l,onArrowClick:d,title:"Recall"}),width:lb(2),children:function(e){return Object(s.jsx)(db,{paddingRight:"20px",children:Object(s.jsx)(bb,{threshold:.5,value:e.recall})})}}),Object(s.jsx)(Fr,{title:"Warnings",width:lb(4),children:function(e){return Object(s.jsx)(fb,{intentInsights:e.intent_insights})}}),Object(s.jsx)(Fr,{title:"Suggestions",width:lb(4),children:function(e){return Object(s.jsx)(pb,{intent:e.intent_name,intentInsights:e.intent_insights,onNavigate:j})}})]}):Object(s.jsx)(sb,{activeModel:t,isSearch:i.length>0,onRunClick:b,insightsLoading:n,evaluationRunning:a,modelsLoading:r,setShowModal:h})})]})})}function jb(e){var t=e.outdatedResults,n=e.insightsLoading,r=e.activeModel,o=e.modelsLoading,c=e.reports,i=e.results,l=e.config,u=e.total,d=e.searchQuery,b=e.sortBy,f=e.onUpdateInsightCalculationConfig,p=e.onRunInsightCalculation,h=e.onDownloadNLUReports,j=e.setSearchQuery,O=e.setSortBy,x=e.loadMore,v=e.pageSize,g=a.useState(!1),m=Object(Se.a)(g,2),y=m[0],C=m[1],S=Object(he.g)().push;return Object(s.jsx)(At.a,{title:"Intent Insights",rightContent:!o&&Object(s.jsx)(ob,{outdatedResults:t,reports:c,config:l,onUpdateInsightCalculationConfig:f,onRunInsightCalculation:p,onDownloadNLUReports:h,showModal:y,setShowModal:C}),children:Object(s.jsx)(Fe.Box,{height:"calc(100% - 54px)",width:"100%",children:Object(s.jsx)(hb,{nluEvaluationResults:i,activeModel:r,total:u,insightsLoading:n,modelsLoading:o,evaluationRunning:void 0!==c.active,searchQuery:d,sortBy:b,onSearch:j,onColumnSortClick:O,onRunInsightCalculation:p,loadMore:x,pageSize:v,setShowModal:C,onNavigate:S})})})}var Ob=n(43),xb=Object(Ht.a)([function(e){return e.models}],(function(e){var t=Object.keys(e).find((function(t){return e[t].tags.some((function(e){return"production"===e||"Active"===e}))}));return t?e[t]:null})),vb=(Object(Ht.a)([function(e){return e.evaluation},function(e){return e.confusionValues},function(e){return e.evaluationFilter}],(function(e,t,n){if(!e)return[];var r=e.intent_evaluation.predictions;if(!n)return[];var a=Object(Se.a)(n,2),o=a[0],c=a[1],i=t[o],s=t[c];return r.filter((function(e){return e.intent===i&&e.predicted===s}))})),{onFetchModels:Vo.f.request,onGetInsightCalculationConfig:Ob.d.request,onUpdateInsightCalculationConfig:Ob.f.request,onRunInsightCalculation:Ob.g.request,onFetchLatestNLUInsightReports:Ob.b.request,onFetchNLUEvaluationResults:Ob.c.request,onDownloadNLUReports:Ob.a,setSearchQuery:Ob.h,setSortBy:Ob.i});var gb=Object(pe.b)((function(e){return{insightsLoading:e.intentInsights.loading["fetchLatestNLUInsightReports_"+r.b.IN_PROGRESS]||e.intentInsights.loading["fetchLatestNLUInsightReports_"+r.b.SUCCESS]||e.intentInsights.loading["fetchLatestNLUInsightReports_"+r.b.FAILURE]||e.intentInsights.loading.fetchNLUEvaluationResults,modelsLoading:e.models.loading.models,reports:e.intentInsights.reports,results:e.intentInsights.results,config:e.intentInsights.config,total:e.intentInsights.total,searchQuery:e.intentInsights.searchQuery,sortBy:e.intentInsights.sortBy}}),vb)((function(e){var t=e.onFetchModels,n=e.onGetInsightCalculationConfig,o=e.onFetchLatestNLUInsightReports,c=e.onFetchNLUEvaluationResults,i=e.reports,l=e.searchQuery,u=e.sortBy;a.useEffect((function(){t({search:"",offset:0,limit:1,tag:"production"}),o({status:r.b.IN_PROGRESS}),o({status:r.b.SUCCESS}),o({status:r.b.FAILURE}),n()}),[t,o,n]),a.useEffect((function(){i.latestSuccessful&&i.latestSuccessful.id&&c({reportId:i.latestSuccessful.id,search:l,offset:0,limit:50,sortBy:u})}),[c,i,l,u]);var d=a.useCallback((function(e){i.latestSuccessful&&i.latestSuccessful.id&&c({reportId:i.latestSuccessful.id,search:l,offset:Math.max(1,e-50),limit:e,sortBy:u})}),[c,i,l,u]),b=Object(pe.d)((function(e){return xb(e.models)})),f=a.useMemo((function(){return!!b&&(!i.latestSuccessful||b.trained_at>=i.latestSuccessful.started_at)}),[b,i]);return Object(s.jsx)(jb,Object(Ce.a)(Object(Ce.a)({},e),{},{activeModel:b,outdatedResults:f,loadMore:d,pageSize:50}))})),mb=n(130),yb=Object(Ht.a)([function(e){return e.loading},function(e){return e.parsedMessage},function(e){return e.predictedActions}],(function(e,t,n){return e.parseMessage||e.confirmPrediction||e.saveEvent?mb.a.Loading:t?mb.a.ClassifyingIntent:n.length>0?mb.a.ConfirmingAction:mb.a.Ready}));function Cb(e){var t=e.onSendMessage,n=Object(pe.c)(),r=Object(pe.d)((function(e){return e.interactiveLearning.strictMode})),o=a.useCallback((function(e){return n(jd.d(e))}),[n]),c=a.useCallback((function(e){null!==e&&o("false"!==e)}),[o]);return Object(we.h)("strict",c),Object(s.jsx)(Fe.Card,{sx:{borderTop:"1px solid",borderColor:"neutral_4"},children:Object(s.jsxs)(Fe.Flex,{children:[Object(s.jsx)(Fe.Box,{flex:"1",children:Object(s.jsx)(Ys,{onSendMessage:t})}),Object(s.jsx)(Fe.Box,{children:Object(s.jsx)(Qn.a,{content:r?"Switch off interactive learning mode and talk to your bot normally.":"Switch on interactive learning mode to validate every step of the conversation. Guide your bot as it classifies and responds to your messages.",children:Object(s.jsx)(_.a,{variant:"headerIcon",active:r,onClick:function(){return o(!r)},children:Object(s.jsx)(F.a,{icon:cd.faHighlighter})})})})]})})}function Sb(e){var t=e.conversationId,n=Object(pe.c)(),r=Object(pe.d)((function(e){return e.interactiveLearning.parsedMessage})),o=Object(pe.d)((function(e){return e.examples.intents})),c=a.useCallback((function(e){n(jd.k.request({conversationId:t,event:{event:"user",text:e.user_input.text,parse_data:e.user_input}}))}),[n,t]),i=a.useCallback((function(e){return r&&n(Object(jd.b)(Object(Ce.a)(Object(Ce.a)({},r),{},{user_input:Object(Ce.a)(Object(Ce.a)({},r.user_input),{},{intent:e})})))}),[n,r]),l=a.useCallback((function(){return n(Object(jd.a)())}),[n]);return r?Object(s.jsxs)(Fe.Flex,{mt:1,flex:"0 0 72px",children:[Object(s.jsx)(Xt.a,{top:!0,width:.5,children:Object(s.jsx)(Fe.Flex,{ml:4,style:{height:"100%"},alignItems:"center",children:Object(s.jsx)(x.a,{variant:"bodySecondary",children:r.user_input.text})})}),Object(s.jsx)(Fe.Flex,{flex:"1",children:Object(s.jsx)(Wn,{autoFocus:!0,block:!0,fullHeight:!0,intent:r.user_input.intent.name,intents:o,onChange:i,onReturn:function(){return r.user_input.intent.name&&c(r)},onEscape:l,rankedIntents:r.user_input.intent_ranking,fullWidth:!0})}),Object(s.jsx)(_.a,{onClick:function(){return r.user_input.intent.name&&c(r)},active:!0,variant:"headerIcon",children:Object(s.jsx)(F.a,{icon:Vn.faCheckCircle})})]}):null}var wb=function(){return{text:"",id:Ke()()}};function Eb(e){var t=e.value,n=e.onChange,r=Object(Se.a)(t,3),a=r[0],o=r[1],c=r[2],i=o.length>0?o:[wb()];return Object(s.jsx)(Fe.Flex,{children:Object(s.jsxs)(Fe.Box,{width:504,style:{height:"374px",overflow:"auto"},children:[Object(s.jsx)(pn.a,{text:"Action name",children:Object(s.jsxs)(Fe.Flex,{alignItems:"center",children:[Object(s.jsx)(Fe.Box,{sx:{maxWidth:c?0:"100px",transition:"all ease 0.1s"},children:Object(s.jsx)(x.a,{mr:1,children:"utter_"})}),Object(s.jsx)(Fe.Box,{children:Object(s.jsx)(pt.a,{placeholder:"Response name",fullWidth:!0,value:a.name,onChangeValue:function(e){return n([Object(Ce.a)(Object(Ce.a)({},a),{},{name:e}),o,c])}})})]})}),Object(s.jsxs)(Fe.Flex,{mt:3,as:"label",flexDirection:"row",alignItems:"start",children:[Object(s.jsx)(on.a,{mt:"2px",mr:2,checked:c,onChange:function(){n([a,[],!c])}}),Object(s.jsxs)(x.a,{as:"span",variant:"bodySecondary",style:{display:"inline-flex"},children:["This is a custom action",c&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("br",{}),"Your action server needs to implement this custom action."]})]})]}),!c&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(ht.a,{mt:5,mb:4}),Object(s.jsx)(Fe.Box,{children:Object(s.jsx)(pn.a,{text:"Response Text",children:i.map((function(e,t){return Object(s.jsxs)(Fe.Flex,{mb:3,children:[Object(s.jsx)(pt.a,{value:e.text,onChangeValue:function(t){return n([a,i.map((function(n){return n.id===e.id?Object(Ce.a)(Object(Ce.a)({},n),{},{text:t}):n})),!1])},placeholder:"Add response text",fullWidth:!0}),t<o.length-1?Object(s.jsx)(_.a,{variant:"icon",onClick:function(){return n([a,o.filter((function(t){return t.id!==e.id})),!1])},children:Object(s.jsx)(F.a,{icon:A.faTimes})}):Object(s.jsx)(_.a,{variant:"icon",onClick:function(){return n([a,[].concat(Object(ye.a)(o),[wb()]),!1])},children:Object(s.jsx)(F.a,{icon:Cn.faPlus})})]},e.id)}))})})]})]})})}function kb(e){var t=e.action,n=e.actions,r=e.onChange,o=Object(Le.a)(e,["action","actions","onChange"]),c=n.map((function(e){return{label:e.action,value:e.action,data:e}})),i=t&&c.find((function(e){return e.value===t.action})),l=a.useCallback((function(e){return e&&!Array.isArray(e)&&r(e.data)}),[r]);return Object(s.jsx)(cn.a,Object(Ce.a)({prefix:Object(s.jsx)("b",{children:"Next Action: "}),value:i,items:c,onChange:l},o))}function Tb(e){var t=e.conversationId,n=Object(pe.c)(),r=Object(pe.d)((function(e){return e.interactiveLearning.predictedAction})),o=Object(pe.d)((function(e){return e.interactiveLearning.predictedActions})),c=a.useCallback((function(e){return n(Object(jd.c)(e))}),[n]),i=a.useCallback((function(e){return n(jd.f.request({conversationId:t,confirmedAction:e}))}),[n,t]),l=a.useCallback((function(e){return n(jd.g.request(e))}),[n]),u=a.useState(!1),d=Object(Se.a)(u,2),b=d[0],f=d[1],p=a.useState([{name:""},[],!1]),h=Object(Se.a)(p,2),j=h[0],O=h[1],x=a.useCallback((function(){f(!1),O([{name:""},[],!1])}),[f,O]);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(Fe.Flex,{style:{height:"72px"},children:[Object(s.jsx)(Fe.Box,{flex:"1",children:Object(s.jsx)(kb,{action:r,actions:o,autoFocus:!0,block:!0,fullWidth:!0,fullHeight:!0,onChange:c,onCreate:function(){return f(!0)},onReturn:function(){return r&&i(r)}})}),Object(s.jsx)(_.a,{variant:"headerIcon",active:!0,onClick:function(){return r&&i(r)},children:Object(s.jsx)(F.a,{icon:Vn.faCheckCircle})})]}),Object(s.jsx)(pr,{open:b,onClose:x,title:"Create new action",footer:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(_.a,{large:!0,onClick:function(){var e=Object(Se.a)(j,3),n=e[0],r=e[1],a=e[2];l({action:Object(Ce.a)(Object(Ce.a)({},n),{},{name:a?n.name:"utter_".concat(n.name)}),responses:r,conversationId:t}),x()},disabled:""===j[0].name||j[2]&&j[0].name.startsWith("utter_"),children:"Create Action"}),Object(s.jsx)(_.a,{variant:"secondary",large:!0,mr:2,onClick:x,children:"Cancel"})]}),children:Object(s.jsx)(Eb,{value:j,onChange:function(e){return O(e)}})})]})}function Ab(e){var t=e.conversationId,n=e.chatState,r=e.onSendMessage;if(!t)return null;switch(n){case mb.a.Loading:return Object(s.jsx)(Fe.Card,{sx:{height:"72px",borderTop:"1px solid",borderColor:"neutral_4"},children:Object(s.jsx)(ft,{})});case mb.a.ClassifyingIntent:return Object(s.jsx)(Sb,{conversationId:t});case mb.a.ConfirmingAction:return Object(s.jsx)(Tb,{conversationId:t});default:return Object(s.jsx)(Cb,{onSendMessage:r})}}var _b=n.p+"static/media/chat_placeholder.af401b9d.svg",Db=n.p+"static/media/models_placeholder.00beeda6.svg";function Rb(e){var t=e.awaitingResponse,n=e.conversationEvents,r=e.conversationId,o=e.environment,c=e.loading,i=e.onClearStory,l=e.onCreateConversation,u=e.onUndoConversation,d=e.onFetchEntities,b=e.onFetchIntents,f=e.onFetchModels,p=e.onParseMessage,h=e.onSaveStory,j=e.onSendMessage,O=e.onStartPolling,x=e.onStopPolling,v=e.savedStoryId,g=e.storyName,m=e.strictMode,y=e.onSaveE2ETest,C=e.saveE2ETestLoading,S=e.activeGitRepository,w=Object(we.b)(),E=st().addToast,k=Object(we.k)(),T=Object(pe.c)();a.useEffect((function(){k("view:interactive:loaded")}),[k]),a.useEffect((function(){r&&T(wn.o.request({conversationId:r}))}),[n,r,T]),a.useEffect((function(){b(),d()}),[b,d]),a.useEffect((function(){f({search:"",offset:0,limit:0,tag:"production"})}),[f]);var A=a.useState(v),D=Object(Se.a)(A,2),R=D[0],I=D[1];a.useEffect((function(){!c.saveStory&&v&&v!==R&&(I(v),E({content:"Story saved",key:"storySaved"}))}),[c.saveStory,v,R,E]);var L=Object(pe.d)((function(e){return yb(e.interactiveLearning)})),N=Object(pe.d)((function(e){return!xb(e.models)})),U=Object(he.g)().push;a.useEffect((function(){null===r&&l({data:{interactive:!0}})}),[r,l]),a.useEffect((function(){return r?(O({conversationId:r,environment:o}),function(){return x()}):function(){}}),[r,o,O,x]);var B=a.useMemo((function(){return function(e){if(m)"/restart"===e?i():p(e);else{if(!r)return;j({senderId:r,text:e,environment:o})}}}),[i,p,j,m,r,o]),M=a.useMemo((function(){return r&&n[r]||[]}),[r,n]),P=a.useCallback((function(e){r&&u({createPayload:{data:{conversation_id_to_copy_from:r,interactive:!0,until:e},strictMode:m},events:M})}),[r,M,u,m]);return Object(s.jsx)(At.a,{title:"Talk to your bot (Interactive Learning)",noPadding:!0,children:Object(s.jsx)(Fe.Card,{sx:{height:"100%",borderTop:"1px solid",borderColor:"neutral_5"},children:N?Object(s.jsx)(qa,{heading:"There are no active models",body:w?"To try out your assistant, train a model and promote it to production":"To try out your assistant, train a model and make it active",image:Db,actions:Object(s.jsx)(_.a,{onClick:function(){return U("/models")},large:!0,children:"View models"}),bg:"neutral_0"}):Object(s.jsxs)(Fe.Flex,{bg:"neutral_0",sx:{height:"100%"},flexDirection:"row",children:[Object(s.jsx)(Fe.Card,{width:.5,sx:{borderRight:"1px solid",borderColor:"neutral_4"},children:r&&Object(s.jsxs)(Fe.Flex,{flexDirection:"column",sx:{height:"100%"},children:[Object(s.jsx)(Fe.Box,{flex:"1",sx:{overflow:"auto"},children:Object(s.jsx)(Xl,{awaitingResponse:t,truncateText:!0,username:r,conversation:M,placeholder:Object(s.jsx)(qa,{heading:"Interactive Learning",body:"Talk to your assistant and hit the strict mode button to validate every step of the conversation.",image:_b}),renderAction:function(e){return Object(s.jsx)(od,Object(Ce.a)({onUndoMessage:P},e))},userAvatar:Object(s.jsx)(F.a,{icon:Cl.faUser}),noInteract:!0,onSendMessage:L===mb.a.Ready?B:void 0})}),Object(s.jsx)(Ab,{chatState:L,conversationId:r,onSendMessage:B})]})}),Object(s.jsx)(Fe.Box,{width:.5,sx:{overflow:"hidden"},children:Object(s.jsx)(Su,{activeGitRepository:S,saveE2ETestLoading:C,onSaveE2ETest:y,editable:!0,onClearStory:i,onSaveStory:h,storyName:g,conversation:M})})]})})})}var Fb={onClearStory:jd.e,onCreateConversation:jd.h.request,onUndoConversation:jd.l,onFetchEntities:Bt.f.request,onFetchIntents:Bt.i.request,onFetchModels:Vo.f.request,onParseMessage:jd.j.request,onSaveStory:vd.i.request,onSendMessage:wn.x.request,onStartPolling:wn.z,onStopPolling:wn.A,onSaveE2ETest:wn.v.request};var Ib=Object(pe.b)((function(e){return{awaitingResponse:e.messages.awaitingResponse,conversationEvents:e.messages.conversationEvents,conversationId:e.interactiveLearning.conversationId,environment:e.interactiveLearning.environment,loading:e.interactiveLearning.loading,savedStoryId:e.interactiveLearning.savedStoryId,storyName:e.interactiveLearning.storyName,strictMode:e.interactiveLearning.strictMode,saveE2ETestLoading:e.messages.loading.e2eTest,activeGitRepository:e.gitRepositories.activeGitRepository}}),Fb)((function(e){return Object(s.jsx)(Rb,Object(Ce.a)({},e))})),Lb=n(237),Nb=n(4),Ub=n(335),Bb=n(1038),Mb=n(1037);function Pb(e){var t=e.onConfirm,n=e.onClose,r=e.modelName;return Object(s.jsxs)(Fe.Flex,{p:5,flexDirection:"column",alignItems:"start",width:412,style:{textAlign:"left"},children:[Object(s.jsx)(R.a,{variant:"h2",mb:3,children:"Delete Model?"}),Object(s.jsxs)(Fe.Box,{width:1,children:[Object(s.jsxs)(x.a,{children:["Are you sure you want to delete model ",r,"? This action cannot be undone."]}),Object(s.jsxs)(Fe.Flex,{flexDirection:"row-reverse",mt:5,children:[Object(s.jsx)(_.a,{onClick:t,large:!0,ml:2,children:"Delete"}),Object(s.jsx)(_.a,{onClick:n,large:!0,variant:"secondary",children:"Cancel"})]})]})]})}function Hb(e){var t=e.environments,n=Object(we.b)();return Object(s.jsx)(a.Fragment,{children:t.map((function(e){var t=function(e){switch(e){case"production":return["cyan_1","cyan_3"];case"staging":return["blue_1","blue_3"];case"development":return["yellow_1","yellow_3"];default:return["orange_1","orange_3"]}}(e),r=Object(Se.a)(t,2),a=r[0],o=r[1];return Object(s.jsx)(su.a,{color:a,bg:o,children:n?e:"Active"},e)}))})}function qb(e){var t=e.environment,n=e.onChange,r=e.healthy,a=e.checked,o=void 0!==a&&a,c=Object(Le.a)(e,["environment","onChange","healthy","checked"]);return Object(s.jsx)(Fe.Card,Object(Ce.a)(Object(Ce.a)({as:"label"},c),{},{sx:{display:"block"},children:Object(s.jsx)(Fe.Flex,{children:Object(s.jsxs)(Qn.a,{disabled:r,content:"Environment not responsive",children:[Object(s.jsx)(Fe.Box,{p:2,children:Object(s.jsx)(on.a,{checked:o,onChange:function(){return n(!o)},disabled:!r})}),Object(s.jsx)(Fe.Box,{p:2,flex:"1",children:Object(s.jsx)(R.a,{variant:"h4",color:r?"inherit":"neutral_6",children:t.charAt(0).toUpperCase()+t.slice(1)})})]})})}))}function Gb(e){var t=e.open,n=e.onAddEnvironment,r=e.onClose,o=e.model,c=e.environments,i=e.environmentsHealth,l=a.useState([]),u=Object(Se.a)(l,2),d=u[0],b=u[1],f=function(){b([]),r()},p=a.useMemo((function(){return o?c.filter((function(e){return!o.tags.includes(e)})):c}),[c,o]);if(!o)return null;var h=function(e){return Boolean(i[e]&&200===i[e].status)};return Object(s.jsxs)(pr,{open:t,onClose:f,title:"Manage Deployment Environment",px:5,py:5,footer:Object(s.jsx)(pc.a,{resource:Et.d.Environments,action:Et.a.Update,yes:Object(s.jsxs)(Fe.Flex,{flexDirection:"row-reverse",mr:-1,children:[Object(s.jsx)(_.a,{mx:1,variant:"primary",onClick:function(){n({model:o,environment:d}),f()},large:!0,children:"Save"}),Object(s.jsx)(_.a,{mx:1,variant:"secondary",onClick:f,large:!0,children:"Cancel"})]})}),children:[o.tags.length>0&&Object(s.jsxs)(Fe.Box,{mb:5,children:[Object(s.jsxs)(R.a,{variant:"h4",mb:4,children:["Model ",o.model," is currently in:"]}),Object(s.jsx)(Hb,{environments:o.tags})]}),p.length>0&&Object(s.jsxs)(Fe.Box,{children:[Object(s.jsx)(R.a,{variant:"h4",mb:4,children:"Add model to:"}),p.map((function(e){return Object(s.jsx)(qb,{mb:4,checked:d.includes(e),environment:e,healthy:h(e),onChange:function(t){return b(t?[].concat(Object(ye.a)(d),[e]):d.filter((function(t){return e!==t})))}},e)}))]})]})}qb.defaultProps={p:2,border:"1px solid",borderColor:"neutral_5",borderRadius:"normal"};var Wb=n(234);function Vb(e){var t=e.environments,n=e.environmentsHealth,r=e.models,o=e.onAddModelEnvironment,c=e.noRowsRenderer,i=e.onDeleteModels,l=e.onLoadMoreRows,u=e.total,d=Object(we.b)(),b=We(),f=b.currentOnboardingHint,p=b.onboardingShown,h=a.useState(null),j=Object(Se.a)(h,2),O=j[0],v=j[1],g=a.useState(null),m=Object(Se.a)(g,2),y=m[0],C=m[1],S=a.useState(null),w=Object(Se.a)(S,2),E=w[0],k=w[1],T=a.useMemo((function(){return 0===E?1:0}),[E]),A=a.useMemo((function(){return p&&"activate_model"===f?T:y}),[p,f,y,T]),D=a.useCallback((function(e){o(e)}),[o]),R=a.useCallback((function(e){var t=e.selected,n=e.onChangeSelected;return function(e){var r=e.rowIndex,a=e.rowData;if(!a)return null;var o=t.includes(r);return Object(s.jsxs)(Fe.Flex,{alignItems:"center",children:[Object(s.jsx)(pc.a,{resource:Et.d.Models,action:Et.a.Update,yes:Object(s.jsx)(Fe.Box,{flex:"0 1 auto",mr:3,children:Object(s.jsx)("label",{children:Object(s.jsx)(on.a,{checked:o,onChange:function(){return n(r,!o)}})})})}),Object(s.jsx)(Fe.Box,{flex:"1",style:{overflow:"hidden",textOverflow:"ellipsis"},children:Object(s.jsx)(x.a,{variant:"bodySecondary",children:a.model})})]})}}),[]),I=function(e){var r=e.onResetCache;return function(e){var a=e.rowData,o=e.rowIndex,c=a;if(!c)return null;var l=O&&O.model===c.model?Object(s.jsx)(Gb,{open:!0,onClose:function(){return v(null)},model:c,onAddEnvironment:function(e){D(e),r(!0)},environments:t,environmentsHealth:n}):null;return Object(s.jsxs)(s.Fragment,{children:[l,Object(s.jsxs)(Fe.Flex,{flexDirection:"row-reverse",children:[Object(s.jsx)(pc.a,{resource:Et.d.Models,action:Et.a.Delete,yes:Object(s.jsx)(yn,{content:Object(s.jsx)(Pb,{onConfirm:function(){return i([c])&&C(null)},onClose:function(){return C(null)},modelName:c.model}),offset:[0,8],onClose:function(){return C(null)},visible:y===o,children:Object(s.jsx)(_.a,{ml:1,variant:"icon",hover:o===y,onClick:function(){return C(o)},children:Object(s.jsx)(F.a,{icon:Kn.faTrashAlt})})})}),c.is_compatible&&o!==E&&Object(s.jsx)(pc.a,{resource:Et.d.Models,action:Et.a.Update,yes:Object(s.jsx)(s.Fragment,{children:d?Object(s.jsx)(Qn.a,{content:"Manage model deployment",children:Object(s.jsx)(_.a,{ml:1,variant:"icon",onClick:function(){return v(c)},children:Object(s.jsx)(F.a,{icon:Mb.faServer})})}):Object(s.jsx)(Qn.a,{content:"Make model active",children:Object(s.jsx)(fc,{disabled:o!==T,title:"Activate your model",content:"This model will be used to respond to messages that your assistant receives.",sticky:!0,name:"activate_model",placement:"bottom-start",arrow:!1,children:Object(s.jsx)(_.a,{ml:1,variant:"icon",hover:"activate_model"===f&&o===T,onClick:function(){D({model:c,environment:"production"}),r(!0)},children:Object(s.jsx)(F.a,{icon:Bb.faArrowCircleUp})})})})})})]})]})}};return Object(s.jsx)(Wb.a,{total:u,data:r,onLoadMoreRows:l,noRowsRenderer:c,resource:Et.d.Models,bulkActionsRenderer:function(e){var t=e.dataSelected,n=e.setSelected;return Object(s.jsx)(pc.a,{resource:Et.d.Models,action:Et.a.Delete,yes:Object(s.jsx)(_.a,{onClick:function(){i(t),n([])},variant:"inverse",children:"Delete"})})},focused:A,children:function(e){return[Object(s.jsx)(Zu.d,{cellDataGetter:function(){},flexGrow:2,width:300,dataKey:"model",label:"Model name",className:"ReactVirtualized__Table__rowColumn_overflow",cellRenderer:R(e)},"model"),Object(s.jsx)(Zu.d,{cellDataGetter:function(){},flexGrow:2,width:300,dataKey:"trained_at",label:"Created on",cellRenderer:function(e){var t=e.rowData;return t?Object(s.jsx)(x.a,{variant:"bodySecondary",children:fn.a.unix(t.trained_at).toString()}):null}},"createdOn"),Object(s.jsx)(Zu.d,{cellDataGetter:function(){},flexGrow:1,width:250,dataKey:"tags",label:"State",cellRenderer:function(e){var t=e.rowData,n=e.rowIndex,r=t;return r?(!d&&r.tags&&r.tags.length>0&&k(n),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Hb,{environments:r.tags}),!r.is_compatible&&Object(s.jsx)(su.a,{bg:"neutral_3",color:"neutral_6",children:"Not compatible"})]})):null}},"tags"),Object(s.jsx)(Zu.d,{cellDataGetter:function(){},flexGrow:1,width:150,dataKey:"model",className:"ReactVirtualized__Table__rowColumnOnHover",label:"",cellRenderer:I(e)},"actions")]}})}function Yb(e){var t=e.children,n=e.onUploadModel,r=e.showUploadPopup,a=Object(Le.a)(e,["children","onUploadModel","showUploadPopup"]),o=a.onClose;return Object(s.jsx)(yn,Object(Ce.a)(Object(Ce.a)({content:Object(s.jsx)(fi,{onClose:o,onUploadModel:n}),offset:[-8,8],appendTo:"parent"},a),{},{children:Object(s.jsx)(Qn.a,{content:"Upload a model",disabled:r,children:t})}))}function zb(e){var t=e.chatToken,n=e.environment,r=e.environments,o=e.environmentsHealth,c=e.models,i=e.onAddModelEnvironment,l=e.onDeleteModels,u=e.onFetchChatToken,d=e.onLoadMoreRows,b=e.onUploadModel,f=e.total,p=Object(we.k)(),h=We(),j=h.setOnboardingShown,O=h.currentOnboardingStep;a.useEffect((function(){p("view:models:loaded")}),[p]);var x=a.useState(!1),v=Object(Se.a)(x,2),g=v[0],m=v[1],y=a.useState(!1),C=Object(Se.a)(y,2),S=C[0],w=C[1];return Object(s.jsx)(At.a,{title:"Models",rightContent:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(pc.a,{resource:Et.d.ChatToken,action:Et.a.Update,yes:Object(s.jsx)(Xt.a,{left:!0,children:Object(s.jsx)(dd,{visible:g,environment:n,environments:r,onClose:function(){return m(!1)},offset:[0,8],onFetchChatToken:u,chatToken:t,children:Object(s.jsx)(_.a,{variant:"headerIcon",active:g,style:{position:"relative"},onClick:function(){return m(!g)},children:Object(s.jsx)(F.a,{icon:Gi.faShareAlt})})})})}),Object(s.jsx)(pc.a,{resource:Et.d.Models,action:Et.a.Create,yes:Object(s.jsx)(Fe.Box,{sx:{display:"inline-block"},children:Object(s.jsx)(Yb,{showUploadPopup:S,onClose:function(){return w(!1)},onUploadModel:b,visible:S,children:Object(s.jsx)(Xt.a,{left:!0,children:Object(s.jsx)(_.a,{variant:"headerIcon",active:S,onClick:function(){"models_model_added"===O&&j(!1),w(!S)},children:Object(s.jsx)(F.a,{icon:Ub.faArrowToTop})})})})})})]}),children:Object(s.jsx)(Vb,{environments:r,environmentsHealth:o,models:c,onDeleteModels:l,onLoadMoreRows:d,onAddModelEnvironment:i,total:f,noRowsRenderer:function(){return Object(s.jsx)(qa,{heading:"There are no trained models",body:"When you train a new model, it'll show up here!",image:Db})}})})}var Kb=n(149),Qb={onFetchModels:Vo.f.request,onFetchChatToken:wn.f.request,onAddModelEnvironment:Vo.a.request,onDeleteModels:Vo.b.request,onFetchEnvironments:Vo.c.request,onFetchHealth:Vo.e.request,onUploadModel:Vo.l.request};var Xb=Object(pe.b)((function(e){return{environment:e.messages.environment,environments:e.models.environments,environmentsHealth:e.models.environmentsHealth,models:e.models.models,role:e.auth.role,total:e.models.total,chatToken:e.messages.chatToken}}),Qb)((function(e){var t=e.onFetchEnvironments,n=e.onFetchHealth,r=e.onFetchModels;return a.useEffect((function(){t(),n(),r({search:"",offset:0,limit:0})}),[t,n,r]),Object(s.jsx)(Lb.a,{listener:Kb.b,start:Object(Nb.getType)(Vo.f.request),resolve:Object(Nb.getType)(Vo.f.success),reject:Object(Nb.getType)(Vo.f.failure),children:function(t){return Object(s.jsx)(zb,Object(Ce.a)(Object(Ce.a)({},e),{},{onLoadMoreRows:t}))}})}));function Jb(e){var t=e.isSearch,n=e.onAddClick,r=e.addingActive;return t?Object(s.jsx)(qa,{heading:"No results found",pt:3,pb:3,image:bd,body:"There are no responses or variations that match that search query. Please try again"}):Object(s.jsx)(qa,{heading:"You have no responses or response variations",imageWidth:125,pb:5,image:ib,body:Object(s.jsxs)(Fe.Box,{width:128,children:["To learn more about responses and response variations,"," ",Object(s.jsx)(Fe.Box,{as:"a",color:"primary_1",style:{textDecoration:"none"},href:"//rasa.com/docs/rasa/responses/",target:"_blank",children:"go here"}),"."," "]}),actions:Object(s.jsx)(_.a,{large:!0,disabled:r,onClick:n,children:"Create new response"})})}function Zb(e){var t=e.onClickOutside,n=e.children,r=e.shouldOmit,o=Object(Le.a)(e,["onClickOutside","children","shouldOmit"]),c=a.useRef(null);return Object(nc.b)(c,t,r),Object(s.jsx)(Fe.Flex,Object(Ce.a)(Object(Ce.a)({ref:c},o),{},{children:n}))}function $b(){var e=Object(ve.a)(["\n            transform: scaleY(0);\n            opacity: 0;\n          "]);return $b=function(){return e},e}function ef(){var e=Object(ve.a)(["\n            transform: scaleY(1);\n            opacity: 1;\n          "]);return ef=function(){return e},e}function tf(){var e=Object(ve.a)(["\n  "," ","\n  min-height: 64px;\n  border-bottom: 1px solid #f2f4fa;\n  cursor: pointer;\n  position: relative;\n  transition: all ease 0.2s;\n  ","\n  &:after {\n    content: '';\n    border-radius: 2px;\n    width: 4px;\n    height: 100%;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    ","\n    transition: transform cubic-bezier(0.51, 0.92, 0.24, 1.15) 0.2s;\n  }\n"]);return tf=function(){return e},e}var nf=Object(l.default)((function(e){return Object(s.jsx)(lr.Flex,Object(Ce.a)({as:"li"},e))}))(tf(),Aa.a,Aa.d,(function(e){return e.active&&Aa.b}),(function(e){return e.active?Object(l.css)(ef()):Object(l.css)($b())}));function rf(e){var t=e.children,n=Object(Le.a)(e,["children"]);return Object(s.jsx)(nf,Object(Ce.a)(Object(Ce.a)({pl:4,pr:1,alignItems:"center",afterBg:"primary_2",bgHover:"neutral_1",bgActive:"neutral_1"},n),{},{children:t}))}function af(){var e=Object(ve.a)(["\n  ","\n  list-style: none;\n  margin: 0;\n  height: 100%;\n  overflow: auto;\n"]);return af=function(){return e},e}var of=Object(l.default)(Fe.Box)(af(),Qe.width);function cf(e){var t=e.data,n=e.list,r=e.dataProp,o=e.listElementRenderer,c=e.listElementCount,i=e.onEditListElement,l=e.onTabSelected,u=void 0===l?function(){}:l,d=e.elementsHeader,b=e.groupsHeader,f=e.noRowsPlaceholder,p=e.loading,h=e.absolutePlaceholderPosition,j=e.selectedListElement,O=e.setSelectedListElement,v=e.unselectGroups,g=e.blockGroupSelection,m=e.listElementAddRenderer,y=e.onClick,C=void 0===y?function(){}:y,S=Object(Le.a)(e,["data","list","dataProp","listElementRenderer","listElementCount","onEditListElement","onTabSelected","elementsHeader","groupsHeader","noRowsPlaceholder","loading","absolutePlaceholderPosition","selectedListElement","setSelectedListElement","unselectGroups","blockGroupSelection","listElementAddRenderer","onClick"]),w=a.useState(0),E=Object(Se.a)(w,2),k=E[0],T=E[1],A=a.useState(null),D=Object(Se.a)(A,2),R=D[0],I=D[1],L=a.useState(null),N=Object(Se.a)(L,2),U=N[0],B=N[1],M=a.useState(""),P=Object(Se.a)(M,2),H=P[0],q=P[1],G=function(){return T((function(e){return e+1}))};a.useEffect((function(){I(j)}),[j]),a.useEffect((function(){!v&&O&&O(R)}),[R,O,v]);var W=a.useMemo((function(){if(0===t.length)return[];if(!j)return t[0][r];var e=n.indexOf(j);return-1===e?[]:t[e][r]}),[t,r,n,j]),V=a.useMemo((function(){return n.map((function(e,t){var r=function(t){B(null),e!==t&&n.includes(t)||(i&&e!==t&&i({name:e,newName:t}),O&&j===e&&O(t))},a=U!==t,l=!v&&(R===e||!R&&0===t);return Object(s.jsx)(rf,{pl:a?4:0,pr:a?1:0,active:l,onClick:function(){g||(I(e),u&&u(t),G())},children:U===t?m?m({handleUpdate:r,newTabName:H,setEditIndex:B}):Object(s.jsx)(Zb,{onClickOutside:function(){return r(H)},sx:{width:"100%",height:"64px"},children:Object(s.jsx)(pt.a,{block:!0,autoFocus:!0,fullWidth:!0,placeholder:"Enter a value",value:H,onChangeValue:q,onReturn:r,pl:23,style:{borderRadius:"0 2px 2px 0"}})}):Object(s.jsxs)(Fe.Flex,{flex:1,justifyContent:"space-between",alignItems:"center",children:[Object(s.jsx)(Du,{width:.8,children:Object(s.jsx)(x.a,{variant:"bodySecondary",as:"div",children:o(e)})}),c&&c(e)>0&&Object(s.jsxs)(Fe.Box,{children:[Object(s.jsx)(lr.Box,{inverted:!0,alwaysVisible:!i,children:Object(s.jsx)(Re,{mr:"20px",sx:{backgroundColor:R===e?"neutral_0":"neutral_1",color:"neutral_8",fontSize:1,borderRadius:"4px",fontWeight:0,width:"20px",height:"20px"},children:c(e)})}),i&&Object(s.jsx)(lr.Box,{children:Object(s.jsx)(_.a,{variant:"plainIcon",fontSize:3,mr:"14px",onClick:function(){q(e),B(t)},children:Object(s.jsx)(F.a,{icon:Ta.faEdit,fontSize:"16px"})})})]})]})},t)}))}),[R,o,c,H,U,n,i,u,g,j,O,v,m]);return Object(s.jsx)(Fe.Card,{bg:"neutral_0",p:0,sx:{height:"100%",overflow:"hidden",borderBottomLeftRadius:"large",borderBottomRightRadius:"large"},children:t.length>0||!f||h?Object(s.jsxs)(Fe.Flex,{flexDirection:"row",sx:0===t.length&&h?{}:{height:"100%"},children:[(!t||0===t.length)&&!p&&Object(s.jsx)(Fe.Box,{sx:{position:"absolute",width:"100%",height:"100%"},children:f}),Object(s.jsxs)(Fe.Flex,{flexDirection:"column",sx:{width:"360px",borderRight:"1px solid #f2f4fa"},children:[b&&b,Object(s.jsx)(of,{as:"ul",width:1,p:0,children:V})]}),t.length>0&&Object(s.jsxs)(Fe.Flex,{flexDirection:"column",flex:1,onClick:C,sx:Object(Ce.a)({opacity:1,transition:"opacity ease .2s"},v&&{opacity:0,pointerEvents:"none"}),children:[d&&d,Object(s.jsx)(Dr,{variant:"flattened",highlight:-1,total:Object.keys(W).length,rows:W,children:S.children(G),setHighlightedRow:function(){}},k)]})]}):f})}cf.defaultProps={listElementRenderer:function(e){return e}};var sf=n(1041),lf=n(1039),uf=n(1040);function df(e){var t=e.onConfirm,n=e.onClose,r=e.responseName;return Object(s.jsxs)(Fe.Flex,{p:5,flexDirection:"column",alignItems:"start",width:412,sx:{textAlign:"left"},children:[Object(s.jsx)(R.a,{variant:"h2",mb:3,children:"Discard this response?"}),Object(s.jsxs)(Fe.Box,{width:1,children:[Object(s.jsxs)(x.a,{children:["Responses cannot exist without at least one response variation. Canceling this process will delete the recently created response ",Object(s.jsx)("strong",{children:r})]}),Object(s.jsxs)(Fe.Flex,{flexDirection:"row-reverse",mt:5,children:[Object(s.jsx)(_.a,{onClick:t,large:!0,ml:2,children:"Yes, discard"}),Object(s.jsx)(_.a,{onClick:n,large:!0,variant:"secondary",children:"No, keep creating"})]})]})]})}var bf=n(276),ff=n.n(bf);function pf(e){var t=e.open,n=e.onClose,r=e.response,o=e.onUpdate,c=a.useState([]),i=Object(Se.a)(c,2)[1],l=a.useState(ff()(r,["id","response_name"])),u=Object(Se.a)(l,2),d=u[0],b=u[1],f=a.useState(Sd.a.dump(d)),p=Object(Se.a)(f,2),h=p[0],j=p[1];a.useEffect((function(){j(Sd.a.dump(ff()(r,["id","response_name"])))}),[r]),a.useEffect((function(){try{b(Sd.a.load(h)),i([])}catch(e){i((function(t){return t.filter((function(t){return t!==e.mark.line})).concat([e.mark.line])}))}}),[h,r]);var O=a.useCallback((function(){n(),j(Sd.a.dump(d))}),[n,d]),x=a.useCallback((function(){o(Object(Ce.a)(Object(Ce.a)({},d),{},{id:r.id||void 0,response_name:r.response_name})),n()}),[o,n,r,d]);return Object(s.jsx)(pr,{open:t,onClose:O,style:{width:"864px",height:"600px",maxWidth:"fit-content"},title:Object(s.jsxs)(Fe.Flex,{alignItems:"center",children:["Edit Response Text"," ",Object(s.jsx)(Xr,{content:Object(s.jsxs)(Fe.Box,{style:{cursor:"default",maxWidth:"240px",textAlign:"left"},children:["Edit response text and add buttons, images and more."," ",Object(s.jsx)(Fe.Box,{as:"a",color:"neutral_0",target:"_blank",href:"https://rasa.com/docs/rasa/core/domains/#images-and-buttons",children:"Learn more"})]})})]}),px:0,py:0,onBackgroundClick:function(){},footer:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(_.a,{large:!0,ml:2,onClick:x,children:"Done"}),Object(s.jsx)(_.a,{large:!0,variant:"secondary",onClick:O,children:"Cancel"})]}),children:Object(s.jsxs)(Fe.Flex,{sx:{flexGrow:1,overflow:"auto"},children:[Object(s.jsx)(Fe.Box,{pt:2,width:522,style:{borderRight:"solid 1px #f2f4fa"},children:Object(s.jsx)(Mi,{language:"yaml",value:h,onChange:j})}),Object(s.jsxs)(Fe.Flex,{sx:{flexGrow:1,overflow:"auto"},flexDirection:"column",children:[Object(s.jsx)(R.a,{pt:3,pl:3,variant:"h5",color:"neutral_6",children:"Preview"}),Object(s.jsx)(Fe.Flex,{alignItems:"center",flex:1,style:{width:"264px"},mr:7,ml:6,pb:3,children:Object(s.jsx)(Al,{data:d&&{attachment:"",buttons:d.buttons||[],image:d.image},last:!0,onMessageButtonClick:function(){},text:d&&d.text})})]})]})})}var hf={title:"",payload:""};function jf(e){var t=e.onEditResponse,n=e.response,r=e.onClose,o=e.setYamlModalExpanded,c=a.useContext(l.ThemeContext),i=a.useRef(null),u=a.useState([hf]),d=Object(Se.a)(u,2),b=d[0],f=d[1],p=a.useMemo((function(){return 0===b.filter((function(e){return e.title.length>0})).length}),[b]);a.useEffect((function(){f((function(e){return n.buttons&&0!==n.buttons.length?n.buttons!==e?n.buttons:e:[hf]}))}),[n]);var h=a.useCallback((function(){t((function(e){return Object(Ce.a)(Object(Ce.a)({},e),!p&&{buttons:b.filter((function(e){return e.title.length>0}))})})),r()}),[t,r,p,b]),j=a.useCallback((function(){var e;f((function(e){return 0===e.length?[hf]:0===e[e.length-1].title.length?e:[].concat(Object(ye.a)(e),[hf])})),null===i||void 0===i||null===(e=i.current)||void 0===e||e.focus()}),[f,i]),O=a.useCallback((function(e,t,n){var r=Object(ye.a)(b),a=Object(Ce.a)(Object(Ce.a)({},r[n]),{},{[e]:t});r[n]=a,f(r)}),[b]),v=a.useCallback((function(e,t){return Object(s.jsxs)(Fe.Flex,{ml:-1,flexDirection:"row",alignItems:"flex-end",mb:3,sx:{width:"calc(100% + ".concat(c.space[1],"px)")},children:[Object(s.jsx)(Fe.Flex,{width:.5,px:1,children:Object(s.jsx)(pt.a,{ref:i,autoFocus:!0,onChangeValue:function(e){return O("title",e,t)},value:e.title,placeholder:"Enter button title...",fullWidth:!0})}),Object(s.jsx)(Fe.Flex,{width:.5,pl:1,children:Object(s.jsx)(pt.a,{onChangeValue:function(e){return O("payload",e,t)},value:e.payload,placeholder:"Select intent",fullWidth:!0})})]},t)}),[O,c.space]);return Object(s.jsxs)(Fe.Flex,{flexDirection:"column",className:"response-editor-buttons",children:[Object(s.jsxs)(Fe.Flex,{flexDirection:"column",px:5,pt:4,pb:7,width:480,children:[Object(s.jsxs)(Fe.Flex,{flexDirection:"row",mb:1,children:[Object(s.jsx)(x.a,{width:.5,variant:"bodySecondary",as:"label",fontWeight:700,mr:1,children:"Button title"}),Object(s.jsx)(x.a,{as:"label",width:.5,variant:"bodySecondary",fontWeight:700,children:Object(s.jsxs)(Fe.Flex,{flexDirection:"row",alignItems:"center",as:"span",children:["Payload",Object(s.jsx)(Xr,{ml:1,content:Object(s.jsxs)(s.Fragment,{children:["To add entities to the payload, use the"," ",Object(s.jsx)(_.a,{variant:"plain",large:!0,onClick:function(){h(),o(!0)},children:"YAML editor"})]})})]})})]}),b.map((function(e,t){return v(e,t)})),Object(s.jsxs)(_.a,{fullWidth:!0,variant:"secondaryDashed",onClick:j,large:!0,disabled:b.some((function(e){return""===e.title})),children:[Object(s.jsx)(F.a,{icon:Cn.faPlus,fontSize:"16px"})," Add another button"]})]}),Object(s.jsx)(Fe.Card,{sx:{borderTop:"1px solid",borderColor:"neutral_2"},children:Object(s.jsxs)(Fe.Flex,{px:4,py:3,flexDirection:"row-reverse",children:[Object(s.jsx)(_.a,{onClick:h,large:!0,ml:2,disabled:p,children:"Done"}),Object(s.jsx)(_.a,{onClick:function(){r(),f([hf])},large:!0,variant:"secondary",children:"Cancel"})]})})]})}function Of(e){var t=e.onEditResponse,n=e.response,r=e.onClose,o=a.useState(""),c=Object(Se.a)(o,2),i=c[0],l=c[1],u=a.useCallback((function(){t(Object(Ce.a)(Object(Ce.a)({},n),{},{image:i}))}),[t,i,n]);return a.useEffect((function(){l((function(e){return n.image?n.image!==e?n.image:e:""}))}),[n]),Object(s.jsxs)(Fe.Flex,{p:5,flexDirection:"column",width:412,className:"response-editor-image",children:[Object(s.jsx)(R.a,{variant:"h2",mb:3,children:"Add an image to this response variation"}),Object(s.jsx)(pn.a,{text:"Image URL",children:Object(s.jsx)(pt.a,{placeholder:"Enter image url..",fullWidth:!0,value:i,onChangeValue:l})}),Object(s.jsxs)(Fe.Flex,{flexDirection:"row-reverse",mt:4,flex:1,children:[Object(s.jsx)(_.a,{large:!0,ml:2,onClick:function(){u(),r()},children:"Add image"}),Object(s.jsx)(_.a,{large:!0,variant:"secondary",onClick:function(){return r()},children:"Cancel"})]})]})}function xf(e){var t=e.onEditResponse,n=e.response,r=e.forwardedRef,o=void 0===r?a.createRef():r,c=e.onConfirm,i=e.onCancel,u=e.confirmDiscard,d=void 0!==u&&u,b=e.persistent,f=void 0!==b&&b,p=Object(Le.a)(e,["onEditResponse","response","forwardedRef","onConfirm","onCancel","confirmDiscard","persistent"]),h=a.useContext(l.ThemeContext),j=a.useState(!1),O=Object(Se.a)(j,2),x=O[0],v=O[1],g=a.useState(!1),m=Object(Se.a)(g,2),y=m[0],C=m[1],S=a.useState(!1),w=Object(Se.a)(S,2),E=w[0],k=w[1],T=a.useState(!1),D=Object(Se.a)(T,2),I=D[0],L=D[1],N=a.useCallback((function(e){t((function(t){return Object(Ce.a)(Object(Ce.a)({},t),{},{text:e})}))}),[t]);Object(nc.b)(o,(function(e){x||y||E||I||!f||(e.preventDefault(),e.stopPropagation(),L(!0))}),(function(e){return Object(ye.a)(e.classList).find((function(e){return e.startsWith("response-editor-")}))}));var U=a.useCallback((function(e){var r=Object(ye.a)(n.buttons||[]);if(r.length<=1){n.buttons;var a=Object(Le.a)(n,["buttons"]);t(a)}else r.splice(e,1),t(Object(Ce.a)(Object(Ce.a)({},n),{},{buttons:r}))}),[t,n]);return Object(s.jsxs)(Fe.Flex,Object(Ce.a)(Object(Ce.a)({flexDirection:"column",sx:{backgroundColor:"neutral_1"},p:3,ref:o},p),{},{children:[Object(s.jsx)(Fe.Flex,{flex:"1 0 auto",sx:{height:"107px"},flexDirection:"column",children:Object(s.jsx)(pt.a,{value:n.text,onChangeValue:N,onReturn:c,textarea:!0,fullWidth:!0,fullHeight:!0,affixBottom:Object(s.jsx)(Fe.Flex,{flexDirection:"row",pb:"16px",children:n.buttons&&n.buttons.map((function(e,t){return Object(s.jsx)(su.a,{color:"neutral_6",bg:"neutral_3",children:Object(s.jsxs)(Fe.Flex,{justifyContent:"center",children:[e.title,Object(s.jsx)(_.a,{variant:"plain",ml:2,color:"inherit",onClick:function(){return U(t)},children:Object(s.jsx)(F.a,{icon:A.faTimes})})]})},t)}))}),placeholder:"Create response variation...",customPrefix:n.image?Object(s.jsxs)(Fe.Box,{m:2,mr:"16px",onClick:function(){n.image;var e=Object(Le.a)(n,["image"]);t(e)},sx:{backgroundColor:"neutral_1",position:"relative",overflow:"hidden",width:"148px",height:"calc(100% - ".concat(2*h.space[2],"px)"),borderRadius:"normal","&:hover > .deleteDimmable":{opacity:1}},children:[Object(s.jsx)(Fe.Flex,{className:"deleteDimmable",flex:1,alignItems:"center",justifyContent:"center",sx:{background:"rgba(37, 45, 64, 0.8)",zIndex:2,position:"relative",height:"100%",color:"neutral_0",cursor:"pointer",transition:"all ease .2s",opacity:0},children:Object(s.jsx)(F.a,{icon:Kn.faTrashAlt,fontSize:"16px"})}),Object(s.jsx)(mt,{src:n.image,sx:{zIndex:1,width:"100%",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})]}):null})}),Object(s.jsxs)(Fe.Flex,{mt:2,flexDirection:"row",flex:1,justifyContent:"space-between",children:[Object(s.jsxs)(Fe.Flex,{children:[Object(s.jsx)(yn,{content:Object(s.jsx)(Of,{response:n,onEditResponse:t,onClose:function(){return v(!1)}}),placement:"bottom-start",visible:x,onClose:function(){return v(!1)},children:Object(s.jsx)(Qn.a,{content:"Add an image to this response variation",children:Object(s.jsx)(_.a,{hover:x,variant:"icon",onClick:function(){return v((function(e){return!e}))},mr:1,active:!!n.image,children:Object(s.jsx)(F.a,{icon:lf.faImage})})})}),Object(s.jsx)(yn,{title:Object(s.jsx)(R.a,{variant:"h2",children:"Add buttons to this response variation"}),content:Object(s.jsx)(jf,{response:n,onEditResponse:t,setYamlModalExpanded:k,onClose:function(){return C(!1)}}),placement:"bottom-start",visible:y,onClose:function(){return C(!1)},children:Object(s.jsx)(Qn.a,{content:"Add buttons to this response variation",children:Object(s.jsx)(_.a,{hover:y,variant:"icon",onClick:function(){return C((function(e){return!e}))},active:n.buttons&&n.buttons.length>0,mr:1,children:Object(s.jsx)(F.a,{icon:uf.faMousePointer})})})}),Object(s.jsx)(Qn.a,{content:"Edit response in YAML format",children:Object(s.jsx)(_.a,{variant:"icon",hover:E,onClick:function(){return k((function(e){return!e}))},children:Object(s.jsx)(F.a,{icon:sf.faCode})})}),Object(s.jsx)(pf,{open:E,onClose:function(){return k(!1)},response:n,onUpdate:t})]}),Object(s.jsxs)(Fe.Flex,{flexDirection:"row-reverse",children:[Object(s.jsx)(_.a,{large:!0,ml:2,onClick:c,children:"Save"}),Object(s.jsx)(yn,{content:Object(s.jsx)(df,{responseName:n.response_name,onConfirm:function(){i(),L(!1)},onClose:function(){return L(!1)}}),offset:[0,8],onClose:function(){return L(!1)},visible:I,disabled:!d,children:Object(s.jsx)(_.a,{large:!0,variant:"secondary",onClick:function(){d?L(!0):i()},children:"Cancel"})})]})]})]}))}var vf={text:"",response_name:""};function gf(e){var t=e.response,n=e.setResponse,r=e.showResponseAdd,o=e.setShowResponseAdd,c=e.onSaveResponse,i=e.selectedTemplate,l=e.setSelectedTemplate,u=Object(Le.a)(e,["response","setResponse","showResponseAdd","setShowResponseAdd","onSaveResponse","selectedTemplate","setSelectedTemplate"]),d=Object(we.d)(),b=Object(Se.a)(d,2),f=b[0],p=b[1].height,h=a.useState(t),j=Object(Se.a)(h,2),O=j[0],x=j[1],v=a.useMemo((function(){return""!==t.response_name}),[t.response_name]),g=a.useMemo((function(){return v?t.response_name:i}),[v,t.response_name,i]),m=a.useCallback((function(){var e=""!==O.text||O.buttons||O.image||O.elements;g&&e&&(c(Object(Ce.a)(Object(Ce.a)({},O),{},{response_name:g})),x(vf),n(vf))}),[n,c,O,x,g]),y=a.useCallback((function(){x(vf),n(vf),v&&l(null),o(!1)}),[n,x,o,l,v]);return g?Object(s.jsxs)(Fe.Flex,Object(Ce.a)(Object(Ce.a)({flexDirection:"column",sx:{borderBottom:"1px solid",borderColor:"neutral_3"}},u),{},{children:[Object(s.jsxs)(Fe.Flex,{justifyContent:"space-between",alignItems:"center",height:56,pl:4,children:[Object(s.jsxs)(R.a,{variant:"h4",children:[r?"Create a response variant":"Response variants"," for ",g]}),!v&&Object(s.jsx)(Qn.a,{maxWidth:600,content:Object(s.jsxs)(Fe.Box,{sx:{textAlign:"center"},children:["Add a new response variation for ",g]}),offset:[-10,0],disabled:r,children:Object(s.jsx)(_.a,{variant:"secondaryHeaderIcon",onClick:function(){return o((function(e){return!e}))},active:r,children:Object(s.jsx)(F.a,{icon:Cn.faPlus,fontSize:"16px"})})})]}),Object(s.jsx)(Fe.Box,{sx:{transition:"all ease 0.2s",height:r?"".concat(p,"px"):0,overflow:"hidden"},children:Object(s.jsx)(xf,{onEditResponse:x,onConfirm:m,onCancel:y,response:O,forwardedRef:f,confirmDiscard:v,persistent:r&&v})})]})):null}function mf(e){var t=e.response,n=e.index,r=e.highlighted,o=e.handleReset,c=e.editIndex,i=e.setEditIndex,u=e.deleteResponses,d=e.onUpdate,b=a.useRef(!0),f=a.useRef(),p=a.useContext(l.ThemeContext),h=a.useMemo((function(){return ff()(t,["annotator_id","annotated_at","project_id","edited_since_last_training"])}),[t]),j=a.useState(h),O=Object(Se.a)(j,2),v=O[0],g=O[1];return a.useEffect((function(){b.current?b.current=!1:o()}),[t,o,b]),t?Object(s.jsx)(Fe.Box,{ref:f,sx:{height:"100%"},children:c===n?Object(s.jsx)(Fe.Box,{sx:{width:"calc(100% + ".concat(2*p.space[4],"px)")},ml:-4,children:Object(s.jsx)(xf,{onEditResponse:g,onConfirm:function(){d(v),i(null)},onCancel:function(){i(null),o()},response:v})}):Object(s.jsxs)(Fe.Flex,{flexDirection:"row",justifyContent:"space-between",sx:{height:"100%"},children:[Object(s.jsx)(Fe.Flex,{alignItems:"center",sx:{flexGrow:1},children:Object(s.jsxs)(Fe.Flex,{flexDirection:"row",alignItems:"center",onClick:function(e){return e.stopPropagation()},sx:{flexGrow:1},children:[t.image&&Object(s.jsx)(Fe.Flex,{alignItems:"center",mr:3,my:"14px",sx:{alignSelf:"flex-start",backgroundColor:r?"neutral_0":"neutral_2",flexShrink:0,width:"55px",height:"36px",borderRadius:"small",boxShadow:"0 6px 21px 0 rgba(152, 152, 152, 0.06)",overflow:"hidden"},children:Object(s.jsx)(mt,{src:t.image})}),Object(s.jsxs)(x.a,{as:"div",py:3,mr:2,variant:"bodySecondary",sx:{display:"inline-block"},children:[t.text&&Object(s.jsx)(Fe.Box,{as:"span",mr:2,children:t.text}),t.buttons&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("b",{children:"Buttons: "})," ",t.buttons.map((function(e,n){var r=e.title;return"".concat(r).concat(t.buttons&&t.buttons.length!==n+1?", ":"")}))]})]})]})}),Object(s.jsxs)(Fe.Flex,{sx:{flexShrink:0,transition:"opacity ease .2s",opacity:r?1:0,pointerEvents:"none",".table-row:hover &":{opacity:1,pointerEvents:"auto"}},flexDirection:"row",justifyContent:"flex-end",alignItems:"flex-start",my:"12px",children:[Object(s.jsx)(pc.a,{resource:Et.d.Responses,action:Et.a.Update,yes:Object(s.jsx)(Qn.a,{content:"Edit response variation",inline:!0,children:Object(s.jsx)(_.a,{mx:1,variant:"icon",onClick:function(){i(n),g(h),o()},children:Object(s.jsx)(F.a,{icon:Ta.faEdit})})})}),Object(s.jsx)(pc.a,{resource:Et.d.Responses,action:Et.a.Delete,yes:Object(s.jsx)(Qn.a,{content:"Delete response variation",inline:!0,children:Object(s.jsx)(_.a,{ml:1,onClick:function(){u([t])},variant:"icon",children:Object(s.jsx)(F.a,{icon:Kn.faTrashAlt})})})})]})]})}):null}function yf(e){var t=e.responsePrefix,n=e.onSetNewTemplateName,r=e.forwardedRef,o=e.onClose,c=e.template,i=Object(Le.a)(e,["responsePrefix","onSetNewTemplateName","forwardedRef","onClose","template"]),l=a.useState(c||""),u=Object(Se.a)(l,2),d=u[0],b=u[1],f=a.useCallback((function(){n(d),b("")}),[n,d,b]);return Object(s.jsxs)(Fe.Flex,Object(Ce.a)(Object(Ce.a)({flexDirection:"column",sx:{backgroundColor:"neutral_1"},p:3,ref:r,flex:1},i),{},{children:[Object(s.jsx)(pt.a,{prefix:t,placeholder:"response_name",value:d,onChangeValue:b,onReturn:f}),Object(s.jsxs)(Fe.Flex,{mt:2,flexDirection:"row-reverse",children:[Object(s.jsx)(_.a,{ml:2,onClick:f,disabled:""===d,children:c?"Save":"Next"}),Object(s.jsx)(_.a,{variant:"secondary",onClick:o,children:"Cancel"})]})]}))}function Cf(e){var t=e.responsePrefix,n=e.showTemplatesAdd,r=e.setShowTemplatesAdd,a=e.onSetNewTemplateName,o=e.disableAddButton,c=Object(Le.a)(e,["responsePrefix","showTemplatesAdd","setShowTemplatesAdd","onSetNewTemplateName","disableAddButton"]),i=Object(we.d)(),l=Object(Se.a)(i,2),u=l[0],d=l[1].height;return Object(s.jsxs)(Fe.Flex,Object(Ce.a)(Object(Ce.a)({flexDirection:"column",sx:{borderBottom:"1px solid",borderColor:"neutral_3"}},c),{},{children:[Object(s.jsxs)(Fe.Flex,{justifyContent:"space-between",alignItems:"center",height:56,pl:4,children:[Object(s.jsx)(R.a,{variant:"h4",children:"Responses"}),Object(s.jsx)(Qn.a,{content:"Add a new response",offset:[-10,0],disabled:n,children:Object(s.jsx)(_.a,{variant:"secondaryHeaderIcon",onClick:function(){return!o&&r((function(e){return!e}))},active:n,children:Object(s.jsx)(F.a,{icon:Cn.faPlus,fontSize:"16px"})})})]}),Object(s.jsx)(Fe.Box,{sx:{transition:"all ease 0.2s",height:n?"".concat(d,"px"):0,overflow:"hidden"},children:Object(s.jsx)(yf,{responsePrefix:t,onClose:function(){return r(!1)},forwardedRef:u,onSetNewTemplateName:a})})]}))}var Sf="utter_",wf={response_name:"",text:""};function Ef(e){var t=e.onDelete,n=e.onSaveResponse,r=e.onLoadSuggestions,o=e.onSearchPillClick,c=e.onSearchReturn,i=e.onSearchFocus,l=e.onSearchBlur,u=e.onUpdate,d=e.onUpdateResponseName,b=e.searchQuery,f=e.searchPill,p=e.total,h=e.groupedResponses,j=e.groupedResponseNames,O=e.responsesLoading,x=e.selectedTemplate,v=e.setSelectedTemplate,g=a.useState(null),m=Object(Se.a)(g,2),y=m[0],C=m[1],S=a.useState(!1),w=Object(Se.a)(S,2),E=w[0],k=w[1],T=a.useState(!1),_=Object(Se.a)(T,2),D=_[0],R=_[1],I=a.useState(wf),L=Object(Se.a)(I,2),N=L[0],U=L[1];a.useEffect((function(){R(N.response_name===x),k(!1)}),[x,k,R,N.response_name]);var B=a.useMemo((function(){return""!==N.response_name?[{response_name:N.response_name,responses:[]}].concat(Object(ye.a)(h)):h}),[h,N.response_name]),M=a.useMemo((function(){return""!==N.response_name?[N.response_name].concat(Object(ye.a)(j)):j}),[j,N.response_name]),P=a.useCallback((function(e){var t=h.find((function(t){return t.response_name===e}));return t?t.responses.length:0}),[h]),H=a.useCallback((function(e){if(0!==e.length){var n=e[0].response_name;if(h.find((function(e){return e.response_name===n})).responses.length===e.length){var r=j.indexOf(n);r<=0&&v(null),v(j[r-1])}t(e)}}),[h,j,t,v]),q=a.useState(b),G=Object(Se.a)(q,2),W=G[0],V=G[1],Y=!f||f&&!b;return Object(s.jsx)(Ha,{children:Object(s.jsxs)(Fe.Box,{sx:{minWidth:"790px",width:"100%",height:"100%"},children:[Object(s.jsx)(Lt,{count:p,query:W,label:function(e){return"Search responses..."},onChange:function(e){V(e),r(e)},onReturn:c,onFocus:i,onBlur:l,children:!Y&&Object(s.jsx)(Fe.Flex,{flex:1,alignItems:"center",children:Object(s.jsxs)(su.a,{bg:"primary_1",color:"neutral_0",onClick:function(){V(""),null===o||void 0===o||o()},ml:3,children:[b,Object(s.jsx)(F.a,{icon:A.faTimes,ml:2,color:"neutral_0"})]})})}),Object(s.jsx)(cf,{data:B,list:M,listElementAddRenderer:function(e){var t=e.handleUpdate,n=e.newTabName,r=e.setEditIndex;return Object(s.jsx)(yf,{responsePrefix:Sf,onClose:function(){return r(null)},template:n.replace(new RegExp("^".concat(Sf),"i"),""),onSetNewTemplateName:function(e){var n="".concat(Sf).concat(e);e.length>0&&-1===M.indexOf(n)&&t(n)}})},listElementRenderer:function(e){return e},listElementCount:P,groupedTotal:p,selectedListElement:x,setSelectedListElement:v,unselectGroups:E,blockGroupSelection:""!==N.response_name,dataProp:"responses",onEditListElement:d,loading:O,absolutePlaceholderPosition:0===b.length,noRowsPlaceholder:Object(s.jsx)(Jb,{isSearch:b.length>0,addingActive:E,onAddClick:function(){return k(!0)}}),groupsHeader:Object(s.jsx)(Cf,{responsePrefix:Sf,showTemplatesAdd:E,setShowTemplatesAdd:k,disableAddButton:""!==N.response_name,onSetNewTemplateName:function(e){var t="".concat(Sf).concat(e);e.length>0&&-1===M.indexOf(t)&&U((function(e){return Object(Ce.a)(Object(Ce.a)({},e),{},{response_name:t})})),v(t)}}),elementsHeader:Object(s.jsx)(gf,{selectedTemplate:x||M[0],showResponseAdd:D,setShowResponseAdd:R,response:N,setResponse:U,onSaveResponse:n,setSelectedTemplate:v}),children:function(e){return Object(s.jsx)(Fr,{title:"",width:"100%",sx:{alignSelf:"stretch"},children:function(t,n){var r=n.highlighted,a=n.index;return Object(s.jsx)(mf,{editIndex:y,setEditIndex:C,index:a,response:t,highlighted:r,handleReset:e,deleteResponses:H,onUpdate:u})}})}})]})})}var kf=Object(l.default)(Fe.Box).withConfig({displayName:"TableSuggestions__SuggestionsContainer",componentId:"sc-1gy9s2n-0"})(["position:relative;width:100%;"]),Tf=Object(l.default)(Fe.Box).withConfig({displayName:"TableSuggestions__SuggestionsBox",componentId:"sc-1gy9s2n-1"})(["background:",";height:auto;padding-bottom:12px;width:100%;max-height:500px;overflow-y:scroll;position:absolute;z-index:3;margin-top:56px;border-radius:0 0 10px 10px;box-shadow:0px 0px 4px ",";"],Object(Pd.a)("colors.neutral_0"),Object(Pd.a)("colors.neutral_6")),Af=Object(l.default)(Fe.Flex).withConfig({displayName:"TableSuggestions__Suggestion",componentId:"sc-1gy9s2n-2"})(["flex:1;padding-top:16px;padding-bottom:16px;cursor:pointer;&:hover,&:active,&:focus-within{","}&:last-child{border:0;}"],Aa.b),_f=Object(l.default)(x.a).withConfig({displayName:"TableSuggestions__SuggestionTextToken",componentId:"sc-1gy9s2n-3"})(["white-space:pre;font-weight:",";"],(function(e){return e.highlight?600:400}));function Df(e){var t=e.textTokens,n=e.suggestionsQuery;return Object(s.jsx)(s.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(s.jsx)(_f,{as:"span",variant:"bodySecondary",highlight:e.toLowerCase()===n.toLowerCase(),children:e},"suggestion_text_"+t)}))})}function Rf(){return Object(s.jsx)(qa,{heading:"No results found",pt:3,pb:3,image:bd,body:"There are no responses or variations that match that search query. Please try again"})}function Ff(e){var t=e.suggestions,n=e.suggestionsQuery,r=e.onSuggestionClick,a=Object(Le.a)(e,["suggestions","suggestionsQuery","onSuggestionClick"]),o=null===t||void 0===t?void 0:t.map((function(e,t){return Object(s.jsxs)(Af,{px:4,bgActive:"neutral_1",style:{height:"100%"},onMouseDown:function(){null===r||void 0===r||r(e.key)},children:[Object(s.jsx)(F.a,{icon:Rt.faSearch,color:"neutral_6"}),Object(s.jsx)(Fe.Flex,{width:340,alignSelf:"stretch",px:3,children:Object(s.jsx)(x.a,{variant:"bodySecondary",children:Object(s.jsx)(Df,{suggestionsQuery:n,textTokens:e.text})})}),Object(s.jsx)(Fe.Flex,{flex:"1",alignSelf:"stretch",children:Object(s.jsxs)(x.a,{variant:"bodySecondary",children:['"',Object(s.jsx)(Df,{suggestionsQuery:n,textTokens:e.description}),'"']})})]},"suggestion_"+t)}));return Object(s.jsx)(kf,Object(Ce.a)(Object(Ce.a)({},a),{},{children:Object(s.jsxs)(Tf,{children:[o,(!t||0===t.length)&&Object(s.jsx)(Rf,{})]})}))}function If(e){var t=e.total,n=e.responseNames,r=e.responseNameFilter,o=e.suggestionsQuery,c=e.suggestions,i=e.responsesLoading,l=e.suggestionsLoading,u=e.onSaveResponse,d=e.onFetchResponsesSuggestions,b=e.onFetchGroupedResponses,f=e.onUpdateResponse,p=e.onUpdateResponseName,h=e.onDeleteResponses,j=e.groupedResponses,O=Object(we.k)(),x=a.useState(!1),v=Object(Se.a)(x,2),g=v[0],m=v[1],y=a.useState(null),C=Object(Se.a)(y,2),S=C[0],w=C[1];a.useEffect((function(){O("view:responses:loaded")}),[O]);var E=a.useCallback((function(e){d({search:e})}),[d]),k=a.useCallback((function(e){m(!1),b({search:e,offset:0,limit:20}),w(null)}),[b]),T=!r&&o&&g&&(!l||c&&c.length>0);return Object(s.jsx)(At.a,{title:"Responses",children:Object(s.jsxs)(Fe.Box,{height:"calc(100% - 64px)",width:"100%",children:[T&&Object(s.jsx)(Ff,{suggestions:c,suggestionsQuery:o,onSuggestionClick:k}),Object(s.jsx)(Ef,{groupedResponses:j,groupedResponseNames:n,total:t,onUpdate:f,onDelete:h,onUpdateResponseName:p,searchQuery:r,searchPill:!0,onLoadSuggestions:E,onSaveResponse:u,onSearchPillClick:function(){return k("")},selectedTemplate:S,setSelectedTemplate:w,responsesLoading:i,onSearchReturn:function(e){k(e)},onSearchFocus:function(){return m(!0)},onSearchBlur:function(){m(!1)}})]})})}var Lf=n(45),Nf={onDeleteResponses:Lf.a.request,onFetchGroupedResponses:Lf.b.request,onFetchResponsesSuggestions:Lf.c.request,onSaveResponse:Lf.d.request,onUpdateResponse:Lf.f.request,onUpdateResponseName:Lf.g.request};var Uf=Object(pe.b)((function(e){return{groupedResponses:e.responses.groupedResponses,role:e.auth.role,responseNameFilter:e.responses.searchQuery,responseNames:e.responses.responseNames,total:e.responses.total,suggestionsQuery:e.responses.suggestionsQuery,suggestions:e.responses.suggestions,suggestionsLoading:e.responses.loading.fetchResponsesSuggestions,responsesLoading:e.responses.loading.fetchGroupedResponses}}),Nf)((function(e){var t=e.responseNameFilter,n=e.onFetchGroupedResponses;return a.useEffect((function(){n({search:t,offset:0,limit:20})}),[n,t]),Object(s.jsx)(If,Object(Ce.a)({},e))})),Bf=n(535);function Mf(e){var t=e.isRulesType,n=e.name,r=e.selected,a=e.totalSelected,o=e.onSingleSelect,c=e.onMultiSelect,i=Object(Le.a)(e,["isRulesType","name","selected","totalSelected","onSingleSelect","onMultiSelect"]);return Object(s.jsx)("div",Object(Ce.a)(Object(Ce.a)({onClick:function(e){return o&&o(e,!r)}},i),{},{children:Object(s.jsxs)(lr.Flex,{sx:{height:"100%",cursor:"pointer",position:"relative","&:after":{content:'""',width:"4px",height:"100%",position:"absolute",right:"0px",transform:"scaleY(".concat(r?1:0,")"),opacity:r?1:0,transition:"transform cubic-bezier(0.51, 0.92, 0.24, 1.15) 0.2s",bg:"primary_2"},"&:hover":{bg:"neutral_1"}},px:4,bg:r?"neutral_1":"transparent",alignItems:"center",justifyContent:"space-between",children:[Object(s.jsx)(Du,{title:n,flex:"1",children:Object(s.jsx)(x.a,{variant:"bodySecondary",children:n})}),(a>1||1===a&&!r)&&Object(s.jsx)(lr.Box,{alwaysVisible:r&&a>1,children:Object(s.jsx)(Qn.a,{content:"Compare multiple ".concat(t?"rules":"stories"),children:Object(s.jsx)(_.a,{active:r,fontSize:15,variant:"plainIcon",onClick:function(e){e.stopPropagation(),c(!r)},children:Object(s.jsx)(F.a,{icon:Bf.faSitemap})})})})]})}))}var Pf=a.memo((function(e){var t=e.isRulesType,n=e.onLoadMoreRows,r=e.onSelect,o=e.searchQuery,c=e.selected,i=e.stories,l=e.total,u=a.useCallback((function(e){var t=e.startIndex,r=e.stopIndex;return n?n({search:o,offset:t,limit:r-t+1}):new Promise((function(e){return e()}))}),[o,n]),d=a.useCallback((function(e){var n=e.key,a=e.index,o=e.style,l=i[a];return l?Object(s.jsx)(Mf,{isRulesType:t,name:l.name,selected:c.indexOf(a)>=0,totalSelected:c.length,onSingleSelect:function(e,t){r([a])},onMultiSelect:function(e){return r(e?[].concat(Object(ye.a)(c),[a]):c.filter((function(e){return e!==a})))},style:o},n):null}),[t,i,c,r]);return Object(s.jsx)(Zu.a,{children:function(e){return Object(s.jsx)(Zu.e,{isRowLoaded:function(e){var t=e.index;return void 0!==i[t]},loadMoreRows:u,rowCount:l,children:function(t){var n=t.onRowsRendered,r=t.registerChild;return Object(s.jsx)(Zu.f,{ref:r,onRowsRendered:n,height:e.height,width:e.width-1,overscanRowCount:20,rowCount:l,rowHeight:48,rowRenderer:d})}})}})}));function Hf(e){var t=e.story,n=e.onCancelAdd,r=e.onSave,o=e.onDelete,c=e.format,i=void 0===c?"yaml":c,l=e.isRulesType,u=st().addToast,d=a.useState(t.story),b=Object(Se.a)(d,2),f=b[0],p=b[1];a.useLayoutEffect((function(){p(t.story)}),[t.story]);var h=a.useMemo((function(){if("name"in t&&f.length===t.story.length)return t.name;if("yaml"===i){var e=/^\s*- (story|rule): (.+)/gm.exec(f);return null===e?null:e[2]}var n=/^\s*#+ (.+)/gm.exec(f);return null===n?null:n[1]}),[i,t,f]),j=a.useCallback((function(){"id"in t||n(),p(t.story)}),[n,t]),O="markdown"===i,x=a.useCallback((function(){return r(Object(Ce.a)(Object(Ce.a)({},t),{},{story:f}),O)}),[O,r,t,f]),v=a.useCallback((function(){return"id"in t&&o(t)}),[o,t]),g=a.useCallback((function(e){"Tab"!==e.key&&(u({content:"You can edit the title of the ".concat(l?"rule":"story"," from within the ").concat(O?"markdown":"yaml"),key:"EditStoryTitle"}),e.preventDefault())}),[u,O,l]);return Object(s.jsxs)(Fe.Flex,{style:{height:"100%"},flexDirection:"column",children:[Object(s.jsx)(Xt.a,{flex:"0 0 48px",bottom:!0,children:Object(s.jsxs)(Fe.Flex,{style:{height:"100%"},px:4,alignItems:"center",children:[Object(s.jsx)(R.a,{sx:{cursor:"default",caretColor:"transparent"},contentEditable:!0,suppressContentEditableWarning:!0,onKeyDown:g,variant:"h4",children:h||""}),Object(s.jsxs)(Fe.Flex,{flex:"1",flexDirection:"row-reverse",mr:-1,alignItems:"center",children:["id"in t&&Object(s.jsx)(pc.a,{resource:Et.d.Stories,action:Et.a.Delete,yes:Object(s.jsx)(Qn.a,{content:"Delete ".concat(l?"rule":"story"),children:Object(s.jsx)(_.a,{mx:1,variant:"icon",onClick:v,disabled:!h,children:Object(s.jsx)(F.a,{icon:Kn.faTrashAlt})})})}),(!("id"in t)||f!==t.story)&&Object(s.jsx)(pc.a,{resource:Et.d.Stories,action:Et.a.Update,yes:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Qn.a,{content:"A ".concat(l?"rule":"story"," needs a name before it can be saved"),disabled:!!h,children:Object(s.jsx)(_.a,{mx:1,variant:"primary",onClick:x,disabled:!h||0===f.length,children:"Save"})}),Object(s.jsx)(_.a,{mx:1,variant:"secondary",onClick:j,children:"Cancel"})]})})]})]})}),Object(s.jsx)(Fe.Box,{flex:"1",style:{overflow:"auto "},children:Object(s.jsx)(Mi,{value:f,onChange:p,language:"markdown"})})]})}var qf=n(1042),Gf=n.n(qf),Wf=n(1043),Vf=n.n(Wf),Yf=n(96),zf=n(490),Kf=(n(164),n(1044));function Qf(e){var t=e.onReset,n=e.onZoomIn,r=e.onZoomOut;return Object(s.jsxs)(Fe.Flex,{flexDirection:"column",width:"40px",children:[t&&Object(s.jsx)(Fe.Card,{bg:"neutral_0",sx:{borderRadius:"normal",boxShadow:"0 2px 6px 0 rgba(42, 51, 72, 0.22)",overflow:"hidden"},mb:3,children:Object(s.jsx)(Qn.a,{content:"Reset zoom and panning",placement:"left",children:Object(s.jsx)(_.a,{onClick:t,variant:"icon",block:!0,children:Object(s.jsx)(F.a,{icon:Kf.faLocation})})})}),Object(s.jsx)(Fe.Card,{sx:{borderRadius:"normal",boxShadow:"0 2px 6px 0 rgba(42, 51, 72, 0.22)",overflow:"hidden"},bg:"neutral_0",children:Object(s.jsxs)(Fe.Flex,{flexDirection:"column",children:[Object(s.jsx)(Fe.Box,{children:Object(s.jsx)(Qn.a,{content:"Zoom in",placement:"left",children:Object(s.jsx)(_.a,{onClick:n,variant:"icon",block:!0,children:Object(s.jsx)(F.a,{icon:Cn.faPlus})})})}),Object(s.jsx)(Fe.Box,{children:Object(s.jsx)(Qn.a,{content:"Zoom out",placement:"left",children:Object(s.jsx)(_.a,{onClick:r,variant:"icon",block:!0,children:Object(s.jsx)(F.a,{icon:dn.faMinus})})})})]})})]})}function Xf(){var e=Object(ve.a)(["\n  position: absolute;\n  bottom: 24px;\n  right: 24px;\n"]);return Xf=function(){return e},e}function Jf(){var e=Object(ve.a)(["\n  background: linear-gradient(90deg, "," 6px, transparent 1%) center,\n    linear-gradient("," 6px, transparent 1%) center,\n    ",";\n  background-size: 8px 8px;\n\n  cursor: grab;\n\n  &:active {\n    cursor: grabbing;\n  }\n\n  & g.edgePath {\n    & .path {\n      stroke: ",";\n    }\n    & marker {\n      fill: ",";\n    }\n  }\n\n  & g.node {\n    & .label-container {\n      filter: drop-shadow(0 5px 10px rgba(153, 165, 214, 0.38));\n      fill: ",";\n      stroke-width: 1;\n      stroke: ",";\n    }\n\n    & .label {\n      font-size: 11px;\n      fill: ",";\n    }\n\n    &.intent {\n      & .label-container {\n        fill: ",";\n        stroke: ",";\n      }\n      & .label {\n        fill: ",";\n      }\n    }\n\n    &.start .label-container,\n    &.end .label-container {\n      fill: ",";\n    }\n  }\n"]);return Jf=function(){return e},e}var Zf=l.default.svg(Jf(),Object(Pd.a)("colors.neutral_0"),Object(Pd.a)("colors.neutral_0"),(function(e){return Object(da.d)(.39,Object(Pd.a)("colors.neutral_5")(e))}),Object(Pd.a)("colors.neutral_5"),Object(Pd.a)("colors.neutral_5"),Object(Pd.a)("colors.neutral_1"),Object(Pd.a)("colors.neutral_4"),Object(Pd.a)("colors.neutral_8"),Object(Pd.a)("colors.primary_3"),Object(Pd.a)("colors.primary_2"),Object(Pd.a)("colors.neutral_0"),Object(Pd.a)("colors.neutral_0")),$f=l.default.div(Xf());function ep(e){var t=e.speed,n=void 0===t?250:t,r=e.dot,o=e.width,c=e.height,i=a.useState(null),l=Object(Se.a)(i,2),u=l[0],d=l[1],b=le.radii.normal,f=a.useState(null),p=Object(Se.a)(f,2),h=p[0],j=p[1],O=a.useState(null),v=Object(Se.a)(O,2),g=v[0],m=v[1],y=a.useState(null),C=Object(Se.a)(y,2),S=C[0],w=C[1],E=a.useCallback((function(e){return j(Yf.k(e))}),[]),k=a.useCallback((function(e){return m(Yf.k(e))}),[]);a.useEffect((function(){if(g&&r){var e=new Gf.a.render;try{var t=Vf.a.read(r);t.setGraph({nodesep:32,ranksep:32}),t.nodes().forEach((function(e){var n=t.node(e);""===n.class&&(n.class="action");var r,a=n.class.split(" ");(a.includes("start")||a.includes("end"))&&(n=Object(Ce.a)(Object(Ce.a)({},n),{},{label:(r=n.label,r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()),shape:"circle",height:30,width:30})),"rect"!==n.shape&&void 0!==n.shape||(n=Object(Ce.a)(Object(Ce.a)({},n),{},{ry:b,rx:b})),t.setNode(e,n)})),e(g,t),d(!1)}catch(n){d(!0)}w(r)}}),[g,r,b]);var T=a.useMemo((function(){return g?zf.a().on("zoom",(function(){return g.attr("transform",Yf.e.transform)})):null}),[g]),A=a.useCallback((function(e){return function(){if(T&&h){var t=e>0?e:1/Math.abs(e);T.scaleBy(h.transition().duration(n),t)}}}),[n,T,h]),_=a.useMemo((function(){return S&&g&&h?function(e,t){var n=e.getBoundingClientRect(),r=n.width,a=n.height,o=t.getBBox(),c=o.width,i=o.height,s=(r-c)/2,l=i>a?16:(a-i)/2;return zf.b.translate(s,l)}(h.node(),g.node()):null}),[h,g,S]),D=a.useCallback((function(){_&&h&&T&&T.transform(h.transition().duration(n),_)}),[n,T,h,_]);return a.useEffect((function(){h&&T&&_&&(h.call(T),h.call(T.transform,_))}),[_,h,T]),Object(s.jsxs)(Fe.Box,{style:{height:"100%"},children:[!0===u&&Object(s.jsx)(xt,{variant:"error",children:Object(s.jsx)(x.a,{variant:"metadata",lineHeight:"initial",inheritColor:!0,children:"This visualization cannot be rendered."})}),Object(s.jsx)(Zf,{style:{visibility:!0===u?"hidden":"visible"},ref:E,width:o,height:c,children:Object(s.jsx)("g",{ref:k})}),Object(s.jsx)($f,{children:Object(s.jsx)(Qf,{onReset:D,onZoomIn:A(1.3),onZoomOut:A(-1.3)})})]})}var tp={markdown:"## Untitled Story",yaml:"stories:\n- story: Untitled Story\n  steps:\n  - "},np="rules:\n- rule: Untitled Rule\n  steps:\n  - ";function rp(e){var t=e.onDeleteStory,n=e.onDownloadStories,r=e.onFetchStories,o=e.onFetchVisualization,c=e.onLoadMoreRows,i=e.onSaveStory,l=e.onUpdateStory,u=e.onReplaceStories,d=e.searchQuery,b=e.stories,f=e.total,p=e.visualization,h=e.isRulesType,j=Object(we.k)(),O=a.useState(!1),x=Object(Se.a)(O,2),v=x[0],g=x[1],m=a.useState("yaml"),y=Object(Se.a)(m,2),C=y[0],S=y[1];a.useEffect((function(){j(h?"view:rules:loaded":"view:stories:loaded")}),[h,j]);var w=Object(he.g)().push,E=a.useCallback((function(e){r({search:e,offset:0,limit:20}),I([0])}),[r]);a.useEffect((function(){E(d)}),[E,d]);var k=a.useState([0]),T=Object(Se.a)(k,2),D=T[0],I=T[1];a.useEffect((function(){var e=function(e){return"Escape"===e.key&&I([0])};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]);var L=a.useState(b[D[0]]),N=Object(Se.a)(L,2),U=N[0],B=N[1];a.useEffect((function(){if(U&&"filename"in U&&U.filename){var e=".md"===Object(rr.b)(null===U||void 0===U?void 0:U.filename)?"markdown":"yaml";S(e)}}),[U]);var M=a.useCallback((function(){I(D.slice(0,1))}),[D]);a.useEffect((function(){if(0!==Object.keys(b).length||v){if(Object.keys(b).length>0&&D.length>0){var e=D.map((function(e){return b[e].id}));o(e),1===D.length?B(b[D[0]]):B(null)}}else B(null)}),[v,o,D,b]);var P=a.useCallback((function(e,t){return g(!1),"id"in e?l({story:e,isMarkdown:t}):(I([0]),i({story:e,isMarkdown:t}))}),[l,i]),H=a.useCallback((function(e){return f<=1?B(null):I([0]),t(e)}),[t,f]),q=a.useCallback((function(){I([0]),g(!1)}),[]),G=a.useState(!1),W=Object(Se.a)(G,2),V=W[0],Y=W[1],z=a.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"yaml";Y(!1),D.length>0?(g(!0),B({story:h?np:tp[e]}),S(e),I([]),o([])):q()}),[q,h,o,D.length]),K=a.useCallback((function(){return z()}),[z]),Q=a.useCallback((function(e){var t=e.target.files&&e.target.files[0];if(t){var n=new FileReader;n.onload=function(){"string"===typeof n.result&&u({stories:n.result,fileName:t.name}),Y(!1)},n.readAsText(t)}}),[u]),X=[{label:"Create new ".concat(h?"rule":"story"),onClick:function(){return z()}}].concat(Object(ye.a)(h?[]:[{label:"Create new story (Markdown)",onClick:function(){return z("markdown")}}]),[{label:"Create with interactive learning",onClick:function(){return w("/interactive/strict")}},{label:"Upload ".concat(h?"rules":"stories"),render:function(e){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Fe.Box,{as:"label",htmlFor:"stories-upload-handler",children:e}),Object(s.jsx)(Fe.Box,{as:"input",id:"stories-upload-handler",accept:".json, .md, .yaml, .yml",type:"file",onChange:Q,sx:{display:"none"}})]})}}]),J=[Object(s.jsx)(pc.a,{resource:h?Et.d.Rules:Et.d.Stories,action:Et.a.Create,yes:Object(s.jsx)(yn,{content:Object(s.jsx)(Id,{options:X}),offset:[0,8],visible:V,onClose:function(){return Y(!1)},children:Object(s.jsx)(_.a,{variant:"headerIcon",active:V,onClick:function(){return Y((function(e){return!e}))},children:Object(s.jsx)(F.a,{icon:Cn.faPlus})})})}),Object(s.jsx)(pc.a,{resource:h?Et.d.Rules:Et.d.Stories,action:Et.a.Read,yes:Object(s.jsx)(Qn.a,{content:"Export ".concat(h?"rules":"stories"),children:Object(s.jsx)(_.a,{variant:"headerIcon",onClick:n,children:Object(s.jsx)(F.a,{icon:yd.faArrowToBottom})})})})],Z=Object(s.jsx)(Xt.a,{sx:{height:"100%"},left:!0,children:Object(s.jsx)(Ld.a,{style:{height:"100%"},resource:h?Et.d.Rules:Et.d.Stories,total:f,searchQuery:d,onSearch:E,buttons:J})}),$=D.length>1,ee=Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Xt.a,{right:!0,flex:"0 0 300px",children:Object(s.jsx)(Pf,{isRulesType:h||!1,total:f,stories:b,searchQuery:d,selected:D,onSelect:I,onLoadMoreRows:c})}),U&&Object(s.jsx)(Xt.a,{right:!0,sx:{overflow:"hidden"},flex:"1",children:Object(s.jsx)(Hf,{story:U,onSave:P,onCancelAdd:q,onDelete:H,format:C,isRulesType:h||!1})}),0!==f&&""!==p&&Object(s.jsxs)(Fe.Flex,{flexDirection:"column",flex:"1",children:[Object(s.jsx)(Xt.a,{flex:"0 0 48px",bottom:!0,children:Object(s.jsxs)(Fe.Flex,{sx:{height:"100%"},px:4,alignItems:"center",children:[$&&Object(s.jsx)(F.a,{mr:2,color:"neutral_6",icon:Bf.faSitemap,fontSize:"16px"}),Object(s.jsx)(Fe.Box,{flex:"1",children:Object(s.jsx)(R.a,{variant:"h4",children:$?"Compare":"Flow"})}),$&&Object(s.jsx)(_.a,{variant:"plainIcon",onClick:M,children:Object(s.jsx)(F.a,{icon:A.faTimes,fontSize:"16px"})})]})}),Object(s.jsx)(Wr,{message:"Visualization has failed. Please refresh the page.",children:Object(s.jsx)(ep,{dot:p,width:"100%",height:"100%"})})]})]}),te=Object(s.jsx)(qa,{heading:"You have no ".concat(h?"rules":"stories"," yet!"),body:Object(s.jsxs)(s.Fragment,{children:["To learn more about ",h?"rules":"stories",", go"," ",Object(s.jsx)(Fe.Box,{as:"a",color:"primary_1",style:{textDecoration:"none"},href:h?"//rasa.com/docs/rasa/rules/":"//rasa.com/docs/rasa/stories/",target:"_blank",children:"here"}),"."," "]}),image:ib,actions:Object(s.jsxs)(_.a,{onClick:K,large:!0,children:["Create new ",h?"rule":"story"]})});return Object(s.jsx)(At.a,{title:Object(s.jsx)(Fe.Box,{width:251,children:h?"Rules":"Stories"}),content:Z,noPadding:!0,children:Object(s.jsx)(Fe.Flex,{bg:"neutral_0",style:{height:"100%",overflow:"hidden"},children:0!==f||v?ee:te})})}var ap=n(48),op={onFetchStories:ap.f.request,onFetchVisualization:ap.g.request,onChangeStorySelection:ap.c,onChangeStory:ap.b,onUpdateStory:ap.j.request,onSaveStory:ap.i.request,onDeleteStory:ap.d.request,onDownloadStories:ap.e,onReplaceStories:ap.h.request};var cp=Object(pe.b)((function(e){return{stories:e.rules.rules,selectedStories:e.rules.selectedRules,searchQuery:e.rules.searchQuery,role:e.auth.role,total:e.rules.total,visualization:e.rules.visualization}}),op)((function(e){return Object(s.jsx)(Lb.a,{listener:Kb.b,start:Object(Nb.getType)(ap.f.request),resolve:Object(Nb.getType)(ap.f.success),reject:Object(Nb.getType)(ap.f.failure),children:function(t){return Object(s.jsx)(rp,Object(Ce.a)(Object(Ce.a)({},e),{},{isRulesType:!0,onLoadMoreRows:t}))}})})),ip={onFetchStories:vd.f.request,onFetchVisualization:vd.g.request,onChangeStorySelection:vd.c,onChangeStory:vd.b,onUpdateStory:vd.m.request,onSaveStory:vd.i.request,onDeleteStory:vd.d.request,onDownloadStories:vd.e,onReplaceStories:vd.h.request};var sp=Object(pe.b)((function(e){return{stories:e.stories.stories,selectedStories:e.stories.selectedStories,searchQuery:e.stories.searchQuery,role:e.auth.role,total:e.stories.total,visualization:e.stories.visualization}}),ip)((function(e){return Object(s.jsx)(Lb.a,{listener:Kb.b,start:Object(Nb.getType)(vd.f.request),resolve:Object(Nb.getType)(vd.f.success),reject:Object(Nb.getType)(vd.f.failure),children:function(t){return Object(s.jsx)(rp,Object(Ce.a)(Object(Ce.a)({},e),{},{onLoadMoreRows:t}))}})}));function lp(e){var t=e.error,n=e.loading,r=e.lookupTables,o=e.onCreateLookupTable,c=e.onDeleteLookupTables,i=e.onDownloadLookupTable,l=e.total,u=st().addToast;a.useEffect((function(){!1===n.createLookupTable&&(t.createLookupTable?u({head:"Lookup Table file upload failed",content:"It seems something was wrong with the Lookup Table file you tried to upload. Please check the formatting of the file and try again.",variant:"error",key:"UploadLookupTablesFailed"}):u({head:"Upload succeeded",content:"Lookup Table upload has succeeded",key:"UploadLookupTablesSucceeded"}))}),[u,n.createLookupTable,t.createLookupTable]);var d=a.useCallback((function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.onload=function(){"string"===typeof n.result&&o({filename:t.name,content:window.btoa(unescape(encodeURIComponent(n.result)))})},n.readAsText(t)}}),[o]),b=a.useCallback((function(){return function(e){var t=e.rowData;return t?Object(s.jsx)(Fe.Flex,{alignItems:"center",children:Object(s.jsx)(Fe.Box,{flex:"1",pl:3,children:Object(s.jsx)(x.a,{variant:"bodySecondary",children:t.name})})}):null}}),[]),f=function(e){var t=e.onResetCache;return function(e){var n=e.rowData,r=n;return r?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(pc.a,{resource:Et.d.Regexes,action:Et.a.List,yes:Object(s.jsx)(Fe.Box,{style:{display:"inline-block"},children:Object(s.jsx)(Qn.a,{content:"Download the file ".concat(n.name," to view its contents"),children:Object(s.jsx)(_.a,{ml:1,variant:"icon",onClick:function(){i({filename:n.name,lookupTableId:r.id})},children:Object(s.jsx)(F.a,{icon:yd.faArrowToBottom})})})})}),Object(s.jsx)(pc.a,{resource:Et.d.Regexes,action:Et.a.Delete,yes:Object(s.jsx)(Fe.Box,{style:{display:"inline-block"},children:Object(s.jsx)(Qn.a,{content:"Delete ".concat(n.name),children:Object(s.jsx)(_.a,{ml:1,variant:"icon",onClick:function(){c([r]),t(!0)},children:Object(s.jsx)(F.a,{icon:Kn.faTrashAlt})})})})})]}):null}};return Object(s.jsx)(Wb.a,{total:l,buttons:[Object(s.jsx)(Qn.a,{content:"Upload lookup table file",hideOnClick:!0,children:Object(s.jsx)(ui,{accept:".txt",onUpload:d,variant:"headerIcon",children:Object(s.jsx)(F.a,{icon:Ub.faArrowToTop})})})],title:"Lookup tables",data:r,resource:Et.d.Regexes,disableLabels:!0,noRowsRenderer:function(){return Object(s.jsx)(qa,{heading:"You have no lookup tables",imageWidth:125,image:ib,pb:5,body:Object(s.jsxs)(Fe.Box,{width:128,children:["To learn more about lookup tables, go"," ",Object(s.jsx)(Fe.Box,{as:"a",color:"primary_1",style:{textDecoration:"none"},href:"//rasa.com/docs/rasa/nlu/training-data-format/#lookup-tables",target:"_blank",children:"here"}),"."," "]}),actions:Object(s.jsx)(ui,{accept:".txt",onUpload:d,large:!0,children:"Upload lookup table file"})})},children:function(e){return[Object(s.jsx)(Zu.d,{cellDataGetter:function(){},flexGrow:2,width:300,style:{marginLeft:"16px"},dataKey:"lookupTable",className:"ReactVirtualized__Table__rowColumn_overflow",cellRenderer:b()},"lookupTable"),Object(s.jsx)(Zu.d,{cellDataGetter:function(){},flexGrow:2,width:300,style:{marginLeft:"16px"},dataKey:"count",cellRenderer:function(e){var t=e.rowData;return t?Object(s.jsx)(Fe.Flex,{alignItems:"center",children:Object(s.jsx)(Fe.Box,{flex:"1",pl:3,children:Object(s.jsxs)(x.a,{variant:"bodySecondary",color:"neutral_6",children:[t.number_of_elements," values"]})})}):null}},"count"),Object(s.jsx)(Zu.d,{cellDataGetter:function(){},flexGrow:1,width:250,style:{textAlign:"right"},dataKey:"actions",className:"ReactVirtualized__Table__rowColumnOnHover",label:"",cellRenderer:f(e)},"actions")]}})}var up=n(1045);function dp(e){var t=e.onCreateRegex,n=e.onClose,r=a.useState(""),o=Object(Se.a)(r,2),c=o[0],i=o[1],l=a.useState(""),u=Object(Se.a)(l,2),d=u[0],b=u[1],f=a.useCallback((function(){t({name:c,pattern:d}),n(),i(""),b("")}),[t,n,c,i,d,b]);return Object(s.jsxs)(Zb,{width:1,onClickOutside:n,px:3,children:[Object(s.jsx)(Fe.Box,{width:1/3,mr:2,children:Object(s.jsx)(pt.a,{autoFocus:!0,fullWidth:!0,onReturn:f,placeholder:"Enter a Regex name",value:c,onChangeValue:i})}),Object(s.jsx)(Fe.Box,{mr:2,flex:1,children:Object(s.jsx)(pt.a,{fullWidth:!0,fontFamily:"mono",fontSize:1,onReturn:f,placeholder:"Enter a Regex",value:d,onChangeValue:b})}),Object(s.jsx)(Fe.Flex,{flexDirection:"row-reverse",style:{height:"100%"},children:Object(s.jsx)(_.a,{disabled:""===c||""===d,variant:"primary",onClick:f,large:!0,children:"Save"})})]})}function bp(e){var t=e.onCreateRegex,n=e.onDeleteRegexes,r=e.onLoadMoreRows,o=e.onUpdateRegex,c=e.regexes,i=e.total,l=a.useState(null),u=Object(Se.a)(l,2),d=u[0],b=u[1],f=a.useState(""),p=Object(Se.a)(f,2),h=p[0],j=p[1],O=a.useState(""),v=Object(Se.a)(O,2),g=v[0],m=v[1],y=a.useCallback((function(e){return t&&Object(s.jsx)(dp,{onCreateRegex:t,onClose:e})}),[t]),C=a.useCallback((function(){return function(e){var t=e.rowData,n=e.rowIndex,r=t;return r?Object(s.jsx)(Fe.Flex,{alignItems:"center",children:Object(s.jsx)(Fe.Box,{flex:"1",pl:3,children:n===d?Object(s.jsx)(Zb,{onClickOutside:function(){return b(null)},shouldOmit:function(e){if(e.getAttribute("aria-rowindex")===(n+1).toString())return!0},children:Object(s.jsx)(pt.a,{fullWidth:!0,autoFocus:!0,placeholder:"Regex name",value:h,onChangeValue:j,ml:-3})}):Object(s.jsx)(x.a,{variant:"bodySecondary",children:r.name})})}):null}}),[d,h]),S=function(e){var t=e.onResetCache;return function(e){var r=e.rowData,a=e.rowIndex,c=r;return c?Object(s.jsx)(s.Fragment,{children:a===d?Object(s.jsx)(_.a,{variant:"primary",large:!0,onClick:function(){o(Object(Ce.a)(Object(Ce.a)({},c),{},{name:h,pattern:g})),b(null),t(!0)},children:"Save"}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(pc.a,{resource:Et.d.Regexes,action:Et.a.Update,yes:Object(s.jsx)(Fe.Box,{style:{display:"inline-block"},children:Object(s.jsx)(Qn.a,{content:"Edit",children:Object(s.jsx)(_.a,{ml:1,variant:"icon",onClick:function(){b(a),j(c.name),m(c.pattern)},children:Object(s.jsx)(F.a,{icon:up.faPen})})})})}),Object(s.jsx)(pc.a,{resource:Et.d.Regexes,action:Et.a.Delete,yes:Object(s.jsx)(Fe.Box,{style:{display:"inline-block"},children:Object(s.jsx)(Qn.a,{content:"Delete",children:Object(s.jsx)(_.a,{ml:1,variant:"icon",onClick:function(){n([c]),t(!0)},children:Object(s.jsx)(F.a,{icon:Kn.faTrashAlt})})})})})]})}):null}};return Object(s.jsx)(Wb.a,{total:i,title:"Regular expressions",data:c,onLoadMoreRows:r,addRenderer:y,resource:Et.d.Regexes,disableLabels:!0,focused:d,noRowsRenderer:function(e,t){return Object(s.jsx)(qa,{heading:"You have no regexes",imageWidth:125,pb:5,image:ib,body:Object(s.jsxs)(s.Fragment,{children:["To learn more about regular expressions, go"," ",Object(s.jsx)(Fe.Box,{as:"a",color:"primary_1",style:{textDecoration:"none"},href:"//rasa.com/docs/rasa/nlu/training-data-format/#regular-expression-features",target:"_blank",children:"here"}),"."," "]}),actions:Object(s.jsx)(_.a,{large:!0,disabled:e,onClick:function(){return t&&t(!0)},children:"Create new regex"})})},children:function(e){return[Object(s.jsx)(Zu.d,{flexGrow:2,cellDataGetter:function(){},width:440,style:{marginLeft:"16px",marginRight:"-8px"},dataKey:"regex",cellRenderer:C()},"regex"),Object(s.jsx)(Zu.d,{flexGrow:2,cellDataGetter:function(){},width:600,style:{marginLeft:"0px",marginRight:0},dataKey:"pattern",cellRenderer:function(e){var t=e.rowData,n=e.rowIndex,r=t;return r?Object(s.jsx)(Fe.Flex,{alignItems:"center",children:Object(s.jsx)(Fe.Box,{flex:"1",pl:3,children:n===d?Object(s.jsx)(pt.a,{fullWidth:!0,fontFamily:"mono",fontSize:1,placeholder:"Regex pattern",value:g,onChangeValue:m,ml:-3}):Object(s.jsx)(x.a,{variant:"code",children:r.pattern})})}):null}},"pattern"),Object(s.jsx)(Zu.d,{flexGrow:1,cellDataGetter:function(){},width:200,style:{flexBasis:"auto",marginRight:"16px",textAlign:"right"},dataKey:"actions",className:"ReactVirtualized__Table__rowColumnOnHover",label:"",cellRenderer:S(e)},"actions")]}})}function fp(e){var t=e.error,n=e.loading,r=e.lookupTables,o=e.lookupTablesTotal,c=e.onCreateLookupTable,i=e.onCreateRegex,l=e.onDeleteLookupTables,u=e.onDeleteRegexes,d=e.onDownloadLookupTable,b=e.onLoadMoreRows,f=e.onUpdateRegex,p=e.regexes,h=e.regexesTotal,j=Object(we.k)();return a.useEffect((function(){j("view:regex-lookup:loaded")}),[j]),Object(s.jsxs)(Fe.Flex,{style:{minHeight:"480px"},children:[Object(s.jsx)(Fe.Flex,{flex:.5,pr:32,children:Object(s.jsx)(bp,{onCreateRegex:i,onDeleteRegexes:u,onLoadMoreRows:b,onUpdateRegex:f,regexes:p,total:h})}),Object(s.jsx)(Fe.Flex,{flex:.5,children:Object(s.jsx)(lp,{error:t,loading:n,lookupTables:r,onCreateLookupTable:c,onDeleteLookupTables:l,onDownloadLookupTable:d,total:o})})]})}var pp=n(35),hp={onCreateRegex:pp.b.request,onCreateLookupTable:pp.a.request,onFetchRegex:pp.g.request,onDownloadLookupTable:pp.e.request,onFetchLookupTables:pp.f.request,onFetchRegexes:pp.h.request,onDeleteRegexes:pp.d.request,onDeleteLookupTables:pp.c.request,onUpdateRegex:pp.i.request};var jp=Object(pe.b)((function(e){return{error:e.regexes.error,loading:e.regexes.loading,lookupTables:e.regexes.lookupTables,lookupTablesTotal:e.regexes.lookupTablesTotal,regexes:e.regexes.regexes,regexesTotal:e.regexes.regexesTotal,role:e.auth.role}}),hp)((function(e){var t=e.onFetchRegexes,n=e.onFetchLookupTables,r=e.regexes;return a.useEffect((function(){0===Object.keys(r).length&&(t({offset:0,limit:0}),n())}),[t,n,r]),Object(s.jsx)(Lb.a,{listener:Kb.b,start:Object(Nb.getType)(pp.h.request),resolve:Object(Nb.getType)(pp.h.success),reject:Object(Nb.getType)(pp.h.failure),children:function(t){return Object(s.jsx)(fp,Object(Ce.a)(Object(Ce.a)({},e),{},{onLoadMoreRows:t}))}})}));function Op(){var e=Object(ve.a)(["\n  background: ",";\n  flex-direction: row;\n  height: auto;\n  padding-bottom: 12px;\n  width: 100%;\n  max-height: 400px;\n  border-radius: 0 0 10px 10px;\n  box-shadow: 0px 0px 4px ",";\n"]);return Op=function(){return e},e}var xp=Object(l.default)(Fe.Flex)(Op(),Object(Pd.a)("colors.neutral_0"),Object(Pd.a)("colors.neutral_6"));function vp(e){var t=e.show,n=e.onCancel,r=e.onSaveSynonym,o=e.references,c=e.onSaveSynonymValues,i=a.useState(!1),l=Object(Se.a)(i,2),u=l[0],d=l[1],b=a.useState(null),f=Object(Se.a)(b,2),p=f[0],h=f[1],j=a.useState(""),O=Object(Se.a)(j,2),x=O[0],v=O[1],g=a.useState(""),m=Object(Se.a)(g,2),y=m[0],C=m[1],S=a.useState([]),w=Object(Se.a)(S,2),E=w[0],k=w[1],T=a.useCallback((function(){var e;""!==y&&(k([].concat(Object(ye.a)(E),[y])),C(""),null===(e=L.current)||void 0===e||e.focus())}),[E,y]),D=a.useMemo((function(){return[].concat(Object(ye.a)(E),Object(ye.a)(""!==y?[y]:[])).map((function(e){return{value:e}}))}),[E,y]),R=a.useCallback((function(){k([]),v(""),C(""),h(null),d(!1)}),[k,v,h,C]),I=a.useCallback((function(){var e,t=null===(e=o.find((function(e){var t=e.id,n=e.synonym_reference;return p?t===p.value:n===x})))||void 0===e?void 0:e.id;t?c({id:t,mapped_values:D}):r({synonym_reference:x,mapped_values:D}),R(),n()}),[o,r,c,n,p,x,D,R]),L=a.useRef(null),N=a.useMemo((function(){return o&&o.map((function(e){return{label:e.synonym_reference,value:e.id}}))}),[o]),U=a.useMemo((function(){return E.map((function(e,t){return Object(s.jsxs)(Fe.Flex,{alignItems:"center",pb:3,children:[Object(s.jsx)(pt.a,{value:e,onChangeValue:function(e){return k((function(n){return n.map((function(r){return n.indexOf(r)===t?e:r}))}))},placeholder:"Add synonym",fullWidth:!0}),Object(s.jsx)(Qn.a,{content:"Remove this synonym",hideOnClick:!0,delay:200,children:Object(s.jsx)(_.a,{variant:"plainIcon",fontSize:4,onClick:function(){return k(E.filter((function(t){return t!==e})))},children:Object(s.jsx)(F.a,{icon:A.faTimes})})})]},t)}))}),[E]);return t?Object(s.jsxs)(xp,{p:3,children:[Object(s.jsx)(Fe.Box,{width:320,py:2,className:"ReactVirtualized__Table__rowColumn",mr:"10px",children:u?Object(s.jsx)(pt.a,{autoFocus:!0,fullWidth:!0,mr:2,value:x,onChangeValue:v}):Object(s.jsx)(cn.a,{onCreate:function(){return d(!0)},placeholder:"Create or select a reference value",value:p,items:N,onChange:function(e){return e&&h(e)},fullWidth:!0,autoFocus:!0})}),Object(s.jsxs)(Fe.Box,{className:"ReactVirtualized__Table__rowColumn",flex:"3 1",py:2,sx:{overflow:"auto",maxHeight:400},mr:"10px",children:[U,Object(s.jsxs)(Fe.Flex,{alignItems:"center",children:[Object(s.jsx)(pt.a,{ref:L,value:y,onChangeValue:function(e){return C(e)},placeholder:"Map a new synonym to this reference value",fullWidth:!0,onReturn:T}),Object(s.jsx)(Qn.a,{content:"Map a new synonym to this reference value",hideOnClick:!0,children:Object(s.jsx)(_.a,{variant:"plainIcon",fontSize:4,onClick:T,children:Object(s.jsx)(F.a,{icon:Cn.faPlus})})})]})]}),Object(s.jsx)(Fe.Box,{py:2,className:"ReactVirtualized__Table__rowColumn",flex:"1 1 150px",children:Object(s.jsxs)(Fe.Flex,{flexDirection:"row-reverse",justifyContent:"end",children:[Object(s.jsx)(_.a,{large:!0,disabled:!p&&""===x,mx:1,variant:"primary",onClick:I,children:"Save"}),Object(s.jsx)(_.a,{large:!0,mx:1,variant:"secondary",onClick:n,children:"Cancel"})]})})]}):null}var gp=function(){return(gp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function mp(e){var t,n=e.children,r=e.spacing,o=e.variant,c=void 0===o?"row":o,i=e.fullSize,l=void 0!==i&&i,u="row"===c,d=a.useMemo((function(){var e,t;return{margin:u?"0 "+r/2+"px":r/2+"px 0","&:first-of-type":(e={},e[u?"marginLeft":"marginTop"]=0,e),"&:last-of-type":(t={},t[u?"marginRight":"marginBottom"]=0,t.flexGrow=l?1:0,t)}}),[r,l,u]),b=l?((t={})[u?"width":"height"]="100%",t):{};return Object(s.jsx)(O.d,gp({alignItems:"center",flexDirection:c,sx:b},{children:a.Children.map(n,(function(e){return Object(s.jsx)(O.a,gp({sx:d},{children:e}),void 0)}))}),void 0)}var yp=n(2060);function Cp(e){var t=e.actions,n=e.onChangeSelected,r=e.resource,a=e.selectedIndices,o=e.total;return Object(s.jsxs)(Fe.Flex,{alignItems:"center",alignSelf:"stretch",justifyContent:"space-between",sx:{width:"100%",height:"56px",borderTopLeftRadius:"large",borderTopRightRadius:"large",borderStyle:"solid",borderWidth:"1px",borderColor:"transparent",backgroundColor:"primary_2",borderBottomColor:"neutral_2",overflow:"hidden"},children:[Object(s.jsx)(Fe.Box,{ml:4,mr:3,children:Object(s.jsx)("label",{children:Object(s.jsx)(on.a,{variant:"primary",checked:!0,partial:a.length<o,onChange:n})})}),Object(s.jsx)(Fe.Box,{flex:"1",children:Object(s.jsxs)(x.a,{variant:"bodySecondary",fontWeight:1,color:"neutral_0",children:[Object(yp.a)(kd()(r.toString(),a.length,!0)).toLowerCase()," ","selected"]})}),Object(s.jsx)(mp,{spacing:8,children:Object(s.jsx)(Fe.Box,{mr:2,children:t})})]})}function Sp(e){var t=e.isSearch,n=e.onAddClick,r=e.addingActive;return Object(s.jsx)(qa,{heading:t?"There are no matches for this search":"You have no synonyms",imageWidth:125,pb:5,image:ib,body:t?"Try a different search query or add more data.":Object(s.jsxs)(Fe.Box,{width:142,children:["To learn more about entity synonyms, see the"," ",Object(s.jsx)(Fe.Box,{as:"a",color:"primary_1",style:{textDecoration:"none"},href:"//rasa.com/docs/rasa/nlu/training-data-format/#synonyms",target:"_blank",children:"Rasa docs"}),"."," "]}),actions:Object(s.jsx)(_.a,{large:!0,disabled:r,onClick:n,children:"Create new synonym"})})}function wp(e){var t=e.onDelete,n=(e.onLoadMoreRows,e.onSaveSynonym),r=e.onSearch,o=e.onUpdate,c=e.searchQuery,i=e.onUpdateSynonymReference,l=e.references,u=e.total,d=e.synonyms,b=e.onSaveSynonymValues,f=e.onNavigate,p=Object(we.o)(!1),h=Object(Se.a)(p,2),j=h[0],O=h[1],v=a.useState(null),g=Object(Se.a)(v,2),m=g[0],y=g[1],C=a.useState(""),S=Object(Se.a)(C,2),w=S[0],E=S[1],k=a.useState(null),T=Object(Se.a)(k,2),A=T[0],D=T[1],R=a.useState([]),I=Object(Se.a)(R,2),L=I[0],N=I[1],U=a.useCallback((function(e){return"Search ".concat(e," synonyms...")}),[]),B=a.useCallback((function(e,t){N((function(n){return t?[].concat(Object(ye.a)(n),[e]):n.filter((function(t){return t!==e}))}))}),[N]),M=a.useCallback((function(e){var t=e.name,n=e.newName;i({synonymId:d.find((function(e){return e.synonym_reference===t})).id,value:n})}),[i,d]),P=function(e){w!==e.value&&o({synonymId:d.find((function(t){return t.mapped_values.includes(e)})).id,valueId:e.id,newValue:w}),y(null)},H=a.useCallback((function(e){if(0!==e.length){var n=d.map((function(e){return e.id})),r=d.map((function(e){return e.synonym_reference})),a=e[0].synonymId;if(d.find((function(e){return e.id===a})).mapped_values.length===e.length){var o=n.indexOf(a);o<=0&&D(null),D(r[o-1])}t(e)}}),[d,t,D]),q=Object(s.jsx)(_.a,{variant:"headerIcon",onClick:O,active:j,children:Object(s.jsx)(F.a,{icon:Cn.faPlus})});return Object(s.jsx)(Ha,{children:Object(s.jsxs)(Fe.Box,{sx:{minWidth:"790px",width:"100%",height:"100%"},children:[L.length>0&&Object(s.jsx)(Cp,{actions:Object(s.jsx)(_.a,{onClick:function(){var e=A?d.find((function(e){return e.synonym_reference===A})):d[0];if(e){var t=L.map((function(t){return{valueId:e.mapped_values[t].id,synonymId:e.id}}));H(t)}N([])},variant:"inverse",children:"Delete"}),onChangeSelected:function(){return N([])},resource:Et.d.EntitySynonyms,selectedIndices:L,total:u}),0===L.length&&Object(s.jsx)(Lt,{buttons:[q],count:u,query:c,label:U,onChange:function(e){null===r||void 0===r||r(e)},onReturn:r}),Object(s.jsx)(Fe.Flex,{sx:{position:"absolute",top:"56px",left:0,zIndex:1},width:"100%",children:Object(s.jsx)(vp,{show:j,onCancel:O,onSaveSynonym:n,onSaveSynonymValues:b,references:l})}),Object(s.jsx)(cf,{data:d,dataProp:"mapped_values",list:l.map((function(e){return e.synonym_reference})),selectedListElement:A,setSelectedListElement:D,listElementRenderer:function(e){return e},groupedTotal:u,onEditListElement:M,noRowsPlaceholder:Object(s.jsx)(Sp,{isSearch:c.length>0,onAddClick:O,addingActive:j}),children:function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Fr,{title:"",width:"30%",children:function(e,t){t.highlighted;var n=t.index;return Object(s.jsxs)(Fe.Flex,{alignItems:"center",children:[Object(s.jsx)(Fe.Box,{flex:"0 1 auto",mr:2,children:Object(s.jsx)("label",{children:Object(s.jsx)(on.a,{checked:-1!==L.indexOf(n),onChange:function(){B(n,!L||-1===L.indexOf(n))}})})}),Object(s.jsx)(Fe.Box,{flex:"1",style:{overflow:"hidden",textOverflow:"ellipsis"},children:Object(s.jsx)(Fe.Flex,{flexDirection:"row",alignItems:"center",children:n===m?Object(s.jsx)(Fe.Box,{width:320,children:Object(s.jsx)(Zb,{onClickOutside:function(){P(e)},children:Object(s.jsx)(pt.a,{autoFocus:!0,fullWidth:!0,value:w,onChangeValue:E,px:2,onReturn:function(){P(e)}})})}):Object(s.jsx)(x.a,{as:"div",variant:"bodySecondary",ml:2,onClick:function(){y(n),E(e.value)},children:Object(s.jsx)(Qn.a,{content:e.value,children:e.value})})})})]})}}),Object(s.jsx)(Fr,{title:"",width:"70%",children:function(e,t){t.highlighted,t.index;return Object(s.jsx)(Fe.Box,{flex:"1",style:{overflow:"hidden",textOverflow:"ellipsis"},children:Object(s.jsx)(Fe.Flex,{flexDirection:"row",alignItems:"center",children:Object(s.jsx)(x.a,{as:"div",variant:"bodySecondary",color:"neutral_6",children:0!==e.nlu_examples_count?Object(s.jsxs)(s.Fragment,{children:[e.nlu_examples_count," NLU examples"]}):Object(s.jsx)(Qn.a,{appendTo:document.body,content:"For this synonym to work, please add NLU examples that include it",children:Object(s.jsxs)(Du,{sx:{display:"inline-block"},children:[Object(s.jsx)(F.a,{color:"neutral_6",icon:Qr.faInfoCircle,mr:1}),Object(s.jsx)(x.a,{as:"div",color:"primary_1",sx:{cursor:"pointer",display:"inline"},onClick:function(){return f("/data/training-data")},children:"Add NLU examples"})," ","with this synonym in order for it to work"]})})})})})}}),Object(s.jsx)(Fr,{title:"",children:function(e,t){t.highlighted,t.index;return Object(s.jsx)(Fe.Flex,{flexDirection:"row-reverse",mr:-1,children:Object(s.jsx)(pc.a,{resource:Et.d.EntitySynonyms,action:Et.a.Delete,yes:Object(s.jsx)(Qn.a,{content:"Delete",children:Object(s.jsx)(_.a,{mx:1,onClick:function(){H([{synonymId:d.find((function(t){return t.mapped_values.includes(e)})).id,valueId:e.id}])},variant:"icon",children:Object(s.jsx)(F.a,{icon:Kn.faTrashAlt})})})})})}})]})}})]})})}function Ep(e){var t=e.onFetchSynonyms,n=e.onLoadMoreRows,r=e.onSaveSynonym,o=e.onSaveSynonymValues,c=e.onUpdateSynonymValue,i=e.onDeleteSynonymValues,l=e.onUpdateSynonymReference,u=e.references,d=e.searchQuery,b=e.synonyms,f=e.total,p=Object(we.k)();a.useEffect((function(){p("view:synonyms:loaded")}),[p]);var h=Object(he.g)().push,j=a.useCallback((function(e){return t({search:e})}),[t]);return Object(s.jsx)(wp,{onDelete:i,onLoadMoreRows:n,onSaveSynonym:r,onSaveSynonymValues:o,onSearch:j,onUpdate:c,references:u,searchQuery:d,onUpdateSynonymReference:l,synonyms:b,total:f,onNavigate:h})}var kp={onFetchSynonyms:zt.b.request,onSaveSynonym:zt.c.request,onSaveSynonymValues:zt.d.request,onUpdateSynonymValue:zt.f.request,onUpdateSynonymReference:zt.e.request,onDeleteSynonymValues:zt.a.request};var Tp=Object(pe.b)((function(e){return{synonyms:e.synonyms.synonyms,role:e.auth.role,searchQuery:e.synonyms.searchQuery,references:e.synonyms.references,total:e.synonyms.total}}),kp)((function(e){e.history;var t=Object(Le.a)(e,["history"]),n=t.searchQuery,r=t.onFetchSynonyms;a.useEffect((function(){r({search:n})}),[r,n]);var o=Object(we.g)(zt.b);return Object(s.jsx)(Ep,Object(Ce.a)(Object(Ce.a)({},t),{},{onLoadMoreRows:o}))})),Ap=n(1046);function _p(e){var t=e.onShowAnnotationPopup,n=e.example,r=e.onChange,o=e.showEntityPopup,c=Object(Le.a)(e,["onShowAnnotationPopup","example","onChange","showEntityPopup"]),i=a.useCallback((function(e,t){return r(Object(Ce.a)(Object(Ce.a)({},n),{},{text:e,entities:t}))}),[n,r]);return Object(s.jsx)(Ea,Object(Ce.a)({showPopup:o,entities:n.entities,onChange:i,setShowPopup:t,text:n.text},c))}function Dp(e){var t=e.intents,n=e.onClose,r=e.onSaveExample,o=Object(pe.c)(),c=a.useCallback((function(e){return o(Pt.b.request(e))}),[o]),i=Object(pe.d)((function(e){return e.suggestions.draftSuggestionExists})),l=a.useState(""),u=Object(Se.a)(l,2),d=u[0],b=u[1],f=a.useState(""),p=Object(Se.a)(f,2),h=p[0],j=p[1];Object(we.m)((function(){c(d)}),100,[d]);var O=a.useCallback((function(){r({team:"default",project_id:"default",text:d,intent:h,entities:[]}),b(""),j("")}),[r,d,h]),x=a.useMemo((function(){return d.length>0&&h.length>0}),[d,h]);return Object(s.jsxs)(Fe.Flex,{style:{width:"100%"},"data-qa":"training-data-new-row_div",children:[Object(s.jsx)(Fe.Box,{className:"ReactVirtualized__Table__rowColumn",flex:"3 1 300px",children:Object(s.jsx)(pt.a,{"data-qa":"training-data-new-row-sentence_input",fullWidth:!0,placeholder:"Add a new sentence...",value:d,onChangeValue:b,invalid:i,onReturn:i||!x?void 0:O,autoFocus:!0})}),Object(s.jsx)(Fe.Box,{className:"ReactVirtualized__Table__rowColumn",flex:"2 1 100px",mx:"10px",children:Object(s.jsx)(Wn,{"data-qa":"training-data-new-row-intent_input",rankedIntents:[],intent:h,onChange:function(e){return j(e.name)},onReturn:function(){return!i&&x&&O()},intents:t,fullWidth:!0})}),Object(s.jsx)(Fe.Box,{className:"ReactVirtualized__Table__rowColumn",width:150,flex:"1 1 150px",children:Object(s.jsxs)(Fe.Flex,{flexDirection:"row-reverse",mr:-1,style:{height:"100%"},children:[Object(s.jsx)(_.a,{"data-qa":"training-data-new-row-save_button",mx:1,variant:"primary",disabled:i||!x,onClick:O,children:"Save"}),Object(s.jsx)(_.a,{mx:1,variant:"secondary",onClick:n,bg:"neutral_0",children:"Cancel"})]})})]})}var Rp=function(){},Fp=function(){return{alignItems:"flex-start"}};function Ip(e){var t=e.entityTypes,n=e.entityRoles,r=e.entityGroups,o=e.examples,c=e.intents,i=e.onChange,l=e.onDelete,u=e.onLoadMoreRows,d=e.onSave,b=e.onSaveExample,f=e.onSearch,p=e.noRowsRenderer,h=e.searchQuery,j=e.totalExamples,O=e.synonyms,x=a.useState({}),v=Object(Se.a)(x,2),g=v[0],m=v[1],y=a.useState(null),C=Object(Se.a)(y,2),S=C[0],w=C[1],E=a.useState(null),k=Object(Se.a)(E,2),T=k[0],A=k[1],D=a.useRef(new Zu.c({fixedWidth:!0,minHeight:64})),R=a.useRef(null),I=a.useCallback((function(){D.current.clearAll(),R.current&&R.current.recomputeRowHeights(0)}),[D,R]),L=a.useCallback((function(e,t){return Object(s.jsx)(Zt.a,{p:4,name:"Intents",items:c,checkedItems:e.filter((function(e){return"intent"===e.keyword})).map((function(e){return e.value})),onChange:function(n){return t(e.filter((function(e){return"intent"!==e.keyword})).concat(n.map((function(e){return{keyword:"intent",value:e,negated:!1}}))))}})}),[c]),N=a.useCallback((function(e){return Object(s.jsx)(Dp,{intents:c,onSaveExample:b,onClose:e})}),[b,c]),U=a.useCallback((function(e,t){var n;m((function(r){return n=r[e]!==t,Object(Ce.a)(Object(Ce.a)({},r),{},{[e]:t})})),n&&I()}),[m,I]),B=a.useCallback((function(e,t){var n=Fa(e,t,S);w(n)}),[S]),M=a.useCallback((function(){return function(e){var t=e.rowIndex,n=e.rowData;return n?Object(s.jsx)(Fe.Flex,{mt:"12px",flexShrink:0,width:"40px",children:Object(s.jsx)(La,{entities:n.entities,interactive:S===t||null===S,onChange:function(e,t){return i(Object(Ce.a)(Object(Ce.a)({},n),{},{text:e,entities:t}))},onShowAnnotationPopup:function(e){return B(e,t)},text:n.text})}):null}}),[S,i,B]),P=a.useCallback((function(){return function(e){var a=e.rowIndex,o=e.rowData,c=e.dataKey,l=e.parent,u=o;return u?Object(s.jsx)(Zu.b,{cache:D.current,parent:l,columnIndex:0,rowIndex:a,children:Object(s.jsx)(Fe.Box,{py:4,onMouseEnter:function(){return A(a)},children:Object(s.jsx)(Wr,{children:Object(s.jsx)(_p,{example:u,interactive:S===a||T===a&&null===S,onShowAnnotationPopup:function(e){return B(e,a)},onChange:function(e){return i(e)},entityTypes:t,entityRoles:n,entityGroups:r,showEntityPopup:S===a,synonyms:O,onCollapse:function(e){return U(a,!e)},collapsed:!1===g[a]})})})},c):null}}),[i,B,t,n,r,S,O,U,g,T]),H=a.useCallback((function(){return function(e){var t=e.rowData;return t?Object(s.jsx)(Fe.Flex,{width:"100%",alignItems:"flex-start",mt:"12px",children:Object(s.jsx)(Wn,{fullWidth:!0,autoFocus:!1,rankedIntents:[],intent:t.intent,onChange:function(e){return i(Object(Ce.a)(Object(Ce.a)({},t),{},{intent:e.name}))},intents:c})}):null}}),[c,i]),q=a.useCallback((function(e){var t=e.onResetCache;return function(e){var n=e.rowData;return n?Object(s.jsxs)(Fe.Flex,{flexDirection:"row-reverse",mr:-1,mt:"12px",children:[Object(s.jsx)(pc.a,{resource:Et.d.Examples,action:Et.a.Delete,yes:Object(s.jsx)(Qn.a,{content:"Delete",children:Object(s.jsx)(_.a,{mx:1,onClick:function(){l(n),t(!0)},variant:"icon",children:Object(s.jsx)(F.a,{icon:Kn.faTrashAlt})})})}),Object(s.jsx)(pc.a,{resource:Et.d.Examples,action:Et.a.Update,yes:Object(s.jsx)(Fe.Box,{style:{visibility:n.isDirty?"visible":"hidden"},children:Object(s.jsx)(Qn.a,{content:"Save changes",children:Object(s.jsx)(_.a,{mx:1,onClick:function(){return d(n)},variant:"icon",active:n.isDirty,children:Object(s.jsx)(F.a,{icon:Ap.faSave})})})})})]}):null}}),[l,d]);return Object(s.jsx)(Wb.a,{onSearch:f,searchQuery:h,resource:Et.d.Examples,addRenderer:N,clearCache:I,data:o,forwardedRef:R,deferredMeasurementCache:D.current,rowHeight:D.current.rowHeight,total:j,filtersRenderer:L,onLoadMoreRows:u,noRowsRenderer:p,rowStyle:Fp,disableDimmable:!0,highlightAddRenderer:!0,children:function(e){return[Object(s.jsx)(Zu.d,{cellDataGetter:Rp,width:300,flexGrow:3,dataKey:"text",label:"Sentence",cellRenderer:P()},"sentence"),Object(s.jsx)(Zu.d,{cellDataGetter:Rp,width:100,flexGrow:0,dataKey:"options",label:"",className:"ReactVirtualized__Table__rowColumnOnHover",cellRenderer:M()},"sentence"),Object(s.jsx)(Zu.d,{cellDataGetter:Rp,width:100,flexGrow:2,dataKey:"intent",label:"Intent",cellRenderer:H()},"intent"),Object(s.jsx)(Zu.d,{cellDataGetter:Rp,width:150,flexGrow:1,dataKey:"actions",className:"ReactVirtualized__Table__rowColumnOnHover",cellRenderer:q(e)},"actions")]}})}function Lp(e){var t=e.entityTypes,n=e.entityRoles,r=e.entityGroups,o=e.examples,c=e.intents,i=e.onChangeExample,l=e.onDeleteTrainingExample,u=e.onFetchExamples,d=e.onLoadMoreRows,b=e.onSaveExamples,f=e.onUpdateExamples,p=e.searchQuery,h=e.synonyms,j=Object(we.k)();a.useEffect((function(){j("view:suggestions:loaded")}),[j]);var O=Object(he.g)().push,x=a.useCallback((function(e){return u({search:e,offset:0,limit:20})}),[u]),v=a.useMemo((function(){return o.some((function(e){return e.isDirty}))}),[o]);return Qt({hasChanges:v}),Object(s.jsx)(Ip,{entityTypes:t,entityRoles:n,entityGroups:r,examples:o.reduce((function(e,t,n){return Object(Ce.a)(Object(Ce.a)({},e),{},{[n]:t})}),{}),intents:c,onChange:i,onDelete:l,onLoadMoreRows:d,onSave:function(e){return f([e])},onSaveExample:function(e){return b([e])},onSearch:x,searchQuery:p,totalExamples:o.length,synonyms:h,noRowsRenderer:function(){return Object(s.jsx)(qa,{heading:p.length>=0?"There are no matches for this search":"You have no training data yet!",body:p.length>=0?"Try a different search query or add more data.":"You have no training data. Create new training data or annotate new data from the NLU Inbox.",image:Za,actions:Object(s.jsx)(_.a,{onClick:function(){return O("/nlu-inbox")},large:!0,children:"Search the NLU Inbox"})})}})}var Np=Object(Ht.a)((function(e){return e.examples}),(function(e){var t=e.flatMap((function(e){return e.entities.map((function(e){return e.role}))})).filter(qt.a);return Gt(t)})),Up=Object(Ht.a)((function(e){return e.examples}),(function(e){var t=e.flatMap((function(e){return e.entities.map((function(e){return e.group}))})).filter(qt.a);return Gt(t)})),Bp={onChangeExample:Bt.b,onUpdateExamples:Bt.o.request,onDeleteTrainingExample:Bt.d.request,onFetchExamples:Bt.h.request,onFetchEntities:Bt.f.request,onFetchSynonyms:zt.b.request,onSaveExamples:Bt.l.request};var Mp=Object(pe.b)((function(e){return{synonyms:e.synonyms.synonyms,searchQuery:e.examples.searchQuery,examples:e.examples.examples,intents:e.examples.intents,entityTypes:e.examples.entityTypes,entityRoles:Np(e.examples),entityGroups:Up(e.examples),role:e.auth.role}}),Bp)((function(e){var t=e.onFetchEntities,n=e.onFetchExamples,r=e.onFetchSynonyms,o=e.searchQuery;a.useEffect((function(){t(),r({search:""}),n({search:o,offset:0,limit:20})}),[t,n,r,o]);var c=Object(we.g)(Bt.h);return Object(s.jsx)(Lp,Object(Ce.a)({onLoadMoreRows:c},e))}));function Pp(e){var t=e.onClick;return Object(s.jsx)(Qn.a,{hideOnClick:!0,textAlign:"left",content:"Download this data as a file, it will contain all your training data, synonyms, regexes, and references to lookup tables.",children:Object(s.jsx)(_.a,{variant:"headerIcon",onClick:t,children:Object(s.jsx)(F.a,{icon:yd.faArrowToBottom})})})}function Hp(e){var t=e.loading,n=e.error,r=e.onUploadExamples,o=Object(Le.a)(e,["loading","error","onUploadExamples"]),c=o.onClose,i=st().addToast,l=a.useState(null),u=Object(Se.a)(l,2),d=u[0],b=u[1],f=a.useCallback((function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.onload=function(){"string"===typeof n.result&&(b(n.result),r({examples:n.result,fileName:t.name})),c()},n.readAsText(t)}}),[c,r]);return a.useEffect((function(){!t&&!n&&d&&d.match(/## lookup:/m)&&i({head:"Lookup Tables in nlu.md will be ignored",content:"To include lookup tables, please upload lookup table files separately. Lookup tables within nlu.md will no longer be recognized.",variant:"error",key:"LookupTablesIgnored"})}),[t,n,i,d]),Object(s.jsx)(yn,Object(Ce.a)({content:Object(s.jsxs)(Fe.Flex,{p:5,flexDirection:"column",alignItems:"start",width:400,style:{textAlign:"left"},children:[Object(s.jsx)(R.a,{variant:"h2",mb:3,children:"Replace existing NLU file?"}),Object(s.jsx)(x.a,{variant:"bodySecondary",mb:5,children:"Uploading a new NLU file will replace the existing one. All parts of the NLU file including training data, synonyms, regexes and references to lookup tables will also be replaced. To include lookup tables, please upload lookup table files separately."}),Object(s.jsxs)(Fe.Flex,{flexDirection:"row-reverse",alignSelf:"end",width:1,children:[Object(s.jsx)(ui,{accept:".json, .md, .yml, .yaml",onUpload:f,large:!0,ml:2,children:"Upload and replace"}),Object(s.jsx)(_.a,{large:!0,variant:"secondary",onClick:c,children:"Cancel"})]})]}),offset:[0,8],appendTo:"parent"},o))}var qp=n(537),Gp=n(967);function Wp(e){var t=e.loading,n=e.error,r=e.location,o=e.match,c=e.onDownloadExamples,i=e.onNavigate,l=e.onUploadExamples,u=st().addToast,d=a.useRef(!0);a.useEffect((function(){d.current?d.current=!1:!1===t.uploadExamples&&(n.uploadExamples?u({head:"Upload failed",content:"Training data upload failed",variant:"error"}):u({head:"Upload succeeded",content:"Training data upload has succeeded"}))}),[u,t.uploadExamples,n.uploadExamples]);var b=o.url,f=r&&r.pathname,p=a.useState(!1),h=Object(Se.a)(p,2),j=h[0],O=h[1],x={lookup:bi()(b,"lookup"),trainingData:bi()(b,"training-data"),synonyms:bi()(b,"synonyms")},v={lookup:!!Object(he.f)(f,{path:x.lookup}),trainingData:!!Object(he.f)(f,{path:x.trainingData}),synonyms:!!Object(he.f)(f,{path:x.synonyms})},g=Object(s.jsxs)(Gp.a,{children:[Object(s.jsx)(pc.a,{resource:Et.d.Examples,action:Et.a.Read,yes:Object(s.jsx)(qp.a,{onClick:function(){return i(x.trainingData)},active:v.trainingData,"data-e2e":"Nlu__MenuItem__TrainingData",children:"Training data"})}),Object(s.jsx)(pc.a,{resource:Et.d.Regexes,action:Et.a.Read,yes:Object(s.jsx)(qp.a,{onClick:function(){return i(x.lookup)},active:v.lookup,children:"Regex & Lookup"})}),Object(s.jsx)(qp.a,{onClick:function(){return i(x.synonyms)},active:v.synonyms,children:"Synonyms"})]});return Object(s.jsxs)(At.a,{title:"NLU Training Data",centreContent:g,rightContent:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Xt.a,{left:!0,children:Object(s.jsx)(Hp,{visible:j,onClose:function(){return O(!1)},onUploadExamples:l,loading:t.uploadExamples,error:n.uploadExamples,children:Object(s.jsx)(Qn.a,{hideOnClick:!0,textAlign:"left",content:"Upload a new NLU file. This will replace all parts of the NLU file including training data, synonyms, regexes and references to lookup tables. To include lookup tables, please upload lookup table files separately.",children:Object(s.jsx)(_.a,{variant:"headerIcon",active:j,onClick:function(){return O(!j)},children:Object(s.jsx)(F.a,{icon:Ub.faArrowToTop})})})})}),Object(s.jsx)(Xt.a,{left:!0,children:Object(s.jsx)(Pp,{onClick:c})})]}),children:[Object(s.jsx)(he.c,{exact:!0,path:b,component:Mp}),Object(s.jsx)(he.c,{exact:!0,path:x.lookup,component:jp}),Object(s.jsx)(he.c,{exact:!0,path:x.trainingData,component:Mp}),Object(s.jsx)(he.c,{exact:!0,path:x.synonyms,component:Tp})]})}var Vp={onFetchWarnings:Bt.j.request,onFetchIntents:Bt.i.request,onTrainModel:Vo.k.request,onUploadExamples:Bt.p.request,onDownloadExamples:Bt.e};var Yp=Object(pe.b)((function(e){return{dataWarnings:e.examples.warnings,modelIsTraining:e.models.modelIsTraining,role:e.auth.role,apiToken:e.auth.apiToken,loading:e.examples.loading,error:e.examples.error}}),Vp)((function(e){var t=e.onFetchWarnings,n=e.onFetchIntents,r=Object(Le.a)(e,["onFetchWarnings","onFetchIntents"]);a.useEffect((function(){t(),n()}),[t,n]);var o=Object(he.g)().push,c=Object(he.h)(),i=Object(he.i)();return Object(s.jsx)(Wp,Object(Ce.a)({onNavigate:o,location:c,match:i},r))})),zp=Object(u.a)((function(){return Promise.all([n.e(3),n.e(5)]).then(n.bind(null,2188))}),{fallback:Object(s.jsx)(ft,{pt:7,children:"Loading Analytics"})}),Kp=Object(u.a)((function(){return n.e(4).then(n.bind(null,2187))}),{fallback:Object(s.jsx)(ft,{pt:7,children:"Loading Roles"})}),Qp=Object(u.a)((function(){return n.e(6).then(n.bind(null,2189))}),{fallback:Object(s.jsx)(ft,{pt:7,children:"Loading Users"})}),Xp=Object(fe.createBrowserHistory)({basename:ut.b}),Jp=Object(Kb.a)(Xp),Zp=Jp.store,$p=Jp.persistor,eh=Object(l.default)(Oe.BaseModalBackground).attrs((function(){return{"data-e2e":"ModalBackground"}})).withConfig({displayName:"App__StyledModalBackground",componentId:"t51pt2-0"})(["z-index:110;opacity:0;transition:all cubic-bezier(0.46,0.1,0.52,0.98) 250ms;"]);function th(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(me,{}),Object(s.jsx)(pe.a,{store:Zp,children:Object(s.jsx)(je.a,{persistor:$p,children:Object(s.jsx)(dt,{children:Object(s.jsx)(he.d,{history:Xp,children:Object(s.jsx)(be,{children:Object(s.jsx)(l.ThemeProvider,{theme:le,children:Object(s.jsx)(ke,{children:Object(s.jsx)(Ge,{children:Object(s.jsx)(it,{children:Object(s.jsx)(Oe.ModalProvider,{backgroundComponent:eh,children:Object(s.jsxs)(he.e,{children:[zp&&Object(s.jsx)(Ri,{authRequired:!0,path:"/analytics",component:zp}),Object(s.jsx)(Ri,{authRequired:!0,path:"/interactive",component:Ib}),Object(s.jsx)(he.b,{from:"/talk",to:"/interactive"}),Object(s.jsx)(Ri,{authRequired:!0,path:"/conversations/:conversationId?/:timestamp?",component:md}),Object(s.jsx)(Ri,{authRequired:!0,path:"/nlu-inbox",component:to}),false,Object(s.jsx)(Ri,{authRequired:!0,path:"/data",component:Yp}),Object(s.jsx)(Ri,{authRequired:!0,path:"/models",component:Xb}),Object(s.jsx)(Ri,{authRequired:!0,path:"/responses",component:Uf}),Object(s.jsx)(Ri,{authRequired:!0,path:"/config",component:qi}),Object(s.jsx)(Ri,{authRequired:!0,path:"/domain",component:Bd}),Object(s.jsx)(Ri,{authRequired:!0,path:"/rules",component:cp}),Object(s.jsx)(Ri,{authRequired:!0,path:"/stories",component:sp}),Object(s.jsx)(Ri,{authRequired:!0,path:"/intent-insights",component:gb}),Qp&&Object(s.jsx)(Ri,{authRequired:!0,path:"/users",component:Qp}),Kp&&Object(s.jsx)(Ri,{authRequired:!0,path:"/roles",component:Kp}),Object(s.jsx)(he.b,{from:"/data/settings",to:"/config"}),Object(s.jsx)(he.c,{path:"/guest/conversations/:environment/:chatToken",component:Kd}),Object(s.jsx)(he.c,{path:"/login",component:Tt}),Object(s.jsx)(he.c,{path:"/enterprise-login/:singleUseToken",component:Tt}),Object(s.jsx)(he.b,{to:"/conversations"})]})})})})})})})})})})})]})}Object(r.vc)(ut.a);var nh=document.getElementById("root");nh&&i.a.render(a.createElement(th),nh)},2022:function(e,t,n){"use strict";var r=n(0),a=n(223),o=n.n(a),c=n(1),i=n(24),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},u=c.forwardRef((function(e,t){var n=e.showWhenDisabled,a=e.active,c=e.hover,u=e.fullWidth,d=e.large,b=e.block,f=e.variant,p=void 0===f?"primary":f,h=l(e,["showWhenDisabled","active","hover","fullWidth","large","block","variant"]),j=["icon","headerIcon","secondaryHeaderIcon"].includes(p)&&!n,O=h.disabled||!h.onClick&&!h.href;return Object(r.jsx)(i.b,s({as:"button",variant:"button."+p,className:o()({active:a,hover:c,large:d,disabled:h.disabled}),ref:t,sx:s(s({},b?{borderRadius:0}:{}),{alignSelf:"center",cursor:O?"not-allowed":"pointer",letterSpacing:0,outline:0,position:"relative",transition:"all .2s ease","&:disabled, &.disabled":{boxShadow:"none",display:j?"none":void 0},width:u?"100%":null})},h),void 0)}));t.a=u},2023:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(1);function a(e,t){for(var n=e;null!==n.parentElement;){if(t(n))return!0;n=n.parentElement}return!1}var o=function(e,t,n){r.useEffect((function(){if(t){var r=function(r){if(e.current){var o=r.target;e.current.contains(o)||n&&a(o,n)||t(r)}};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}}}),[t,n,e])}},2024:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),a=n(24),o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function i(e){var t=e.barColor,n=void 0===t?"neutral_4":t,i=e.variant,s=void 0===i?"center":i,l=c(e,["barColor","variant"]),u={bg:n,content:'" "',height:"1px",display:"block",flex:"1 1 auto"};return Object(r.jsx)(a.d,o({variant:"separator."+s,m:0},l,{sx:{width:"100%",alignItems:"center",whiteSpace:"nowrap","&::before":u,"&::after":u}}),void 0)}},2025:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(0),a=n(323),o=n(983),c=n(984),i=n(982),s=n.n(i),l=n(1),u=n(24),d=n(542),b=function(){return(b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},p=s()();function h(e){var t=e.checked,n=e.disabled,i=e.fontSize,s=e.icon,h=void 0===s?a.faCheck:s,j=e.m,O=e.mb,x=e.ml,v=e.mr,g=e.mt,m=e.mx,y=e.my,C=e.onChange,S=e.partial,w=(e.ref,e.variant),E=void 0===w?"default":w,k=e.width,T=(e.css,f(e,["checked","disabled","fontSize","icon","m","mb","ml","mr","mt","mx","my","onChange","partial","ref","variant","width","css"])),A=l.useCallback((function(e){e.preventDefault(),C(e)}),[C]),_=Object.fromEntries(Object.entries({m:j,mb:O,ml:x,mr:v,mt:g,mx:m,my:y}).filter((function(e){e[0];return void 0!==e[1]}))),D="radio"===E?o.faCircle:S?c.faMinus:h,R=i||("radio"===E?"10px":"6px");return Object(r.jsxs)(u.a,b({sx:b(b(b({},_),void 0!==k?{width:k,height:k}:{}),{position:"relative",zIndex:0})},{children:[Object(r.jsx)(u.a,{as:"input",type:"checkbox",sx:p,checked:t,onChange:C,disabled:n},void 0),Object(r.jsx)(u.a,b({variant:"checkbox."+E,fontSize:R,onClick:A},T,{sx:b({userSelect:"none",bg:"neutral_0",border:"1px solid",borderColor:"neutral_4",display:"inline-flex",alignItems:"center",justifyContent:"center",position:"absolute",top:0,transition:"all 150ms",width:k,height:k,cursor:"pointer","& > svg":{visibility:"hidden"},"input:checked + & > svg":{visibility:"visible"}},n?{pointerEvents:"none"}:{})},{children:Object(r.jsx)(d.a,{icon:D},void 0)}),void 0)]}),void 0)}h.defaultProps={width:"16px"}},2026:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n(0),a=n(325),o=n(400),c=n(1),i=n(69),s=n(985),l=n(2030),u=n(24),d=n(2022),b=n(542),f=n(2027),p=n(2024),h=n(1051),j=n(2031),O=function(){return(O=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},x=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},v=o.a.stateChangeTypes,g=c.forwardRef((function(e,t){return Object(r.jsx)(d.a,O({variant:"plainDropdown",ref:t},e,{children:Object(r.jsx)(b.a,{icon:a.faChevronDown,fontSize:"12px"},void 0)}),void 0)})),m=c.forwardRef((function(e,t){return Object(r.jsx)(f.a,O({p:0,m:0,boxShadow:"selectBox",sx:{overflow:"hidden",border:0,zIndex:99999,display:"inline-block"},ref:t},e),void 0)})),y=function(e){var t=e.onClick,n=e.onHover,a=e.children;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(p.a,{},void 0),Object(r.jsx)(h.a,O({onClick:t,onMouseMove:n,tabIndex:0,variant:"primary"},{children:a}),void 0)]},void 0)};function C(e){var t=e.block,n=e.createNewText,a=void 0===n?"Create new":n,d=e.disabled,b=e.closeOnCreate,f=e.fullWidth,p=e.fullHeight,C=e.hideSelected,S=e.invalid,w=e.items,E=void 0===w?[]:w,k=e.itemsAreEqual,T=void 0===k?function(e,t){return e&&t?e.value===t.value:e===t}:k,A=e.itemToString,_=e.menuIsOpen,D=e.onBackspaceEmpty,R=e.onChange,F=e.onCreate,I=e.onEscape,L=e.onMenuClose,N=e.onMenuOpen,U=e.onReturn,B=e.placeholder,M=e.portalRef,P=e.prefix,H=e.renderItem,q=void 0===H?function(e,t){return t}:H,G=e.suffix,W=e.toggleButtonProps,V=void 0===W?{}:W,Y=e.value,z=x(e,["block","createNewText","disabled","closeOnCreate","fullWidth","fullHeight","hideSelected","invalid","items","itemsAreEqual","itemToString","menuIsOpen","onBackspaceEmpty","onChange","onCreate","onEscape","onMenuClose","onMenuOpen","onReturn","placeholder","portalRef","prefix","renderItem","suffix","toggleButtonProps","value"]),K=c.useCallback((function(e){return A?A(e):e?e.label:""}),[A]),Q=c.useState(E),X=Q[0],J=Q[1],Z=c.useState(""),$=Z[0],ee=Z[1],te=c.useState(Y||void 0),ne=te[0],re=te[1];c.useEffect((function(){var e=new RegExp(($||"").replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"i");J(E.filter((function(t){return K(t).match(e)})))}),[$,E,K]);var ae=c.useState(null),oe=ae[0],ce=ae[1],ie=c.useState(null),se=ie[0],le=ie[1],ue=Object(l.a)(oe,se,{placement:"bottom-start",modifiers:[{name:"flip",options:{fallbackPlacements:["bottom-end","top-start","top-end","right","left"]}},{name:"offset",options:{offset:[0,8]}}]}),de=ue.styles,be=ue.attributes,fe=ue.update,pe=ue.forceUpdate,he=Object(o.a)({items:X,inputValue:$,itemToString:K,selectedItem:ne,onStateChange:function(e){switch(e.type){case v.InputChange:return fe&&fe(),void ee(e.inputValue||"");case v.InputKeyDownEnter:case v.ItemClick:case v.FunctionSelectItem:ee("");var t=e.selectedItem?e.selectedItem:E.find((function(t){return K(t)===e.inputValue}));return R(t||null),re(t),void je();case v.FunctionOpenMenu:return void(e.isOpen&&(pe&&pe(),N&&N()));case v.InputBlur:case v.InputKeyDownEscape:case v.FunctionCloseMenu:return void(e.isOpen||L&&L())}}}),je=he.closeMenu,Oe=he.getComboboxProps,xe=he.getInputProps,ve=he.getItemProps,ge=he.getMenuProps,me=he.getToggleButtonProps,ye=he.highlightedIndex,Ce=he.isOpen,Se=he.openMenu,we=he.selectItem,Ee=he.setHighlightedIndex,ke=Object(r.jsxs)(r.Fragment,{children:[G,Object(r.jsx)(g,O({},me(O(O(O({},V),{disabled:d}),"inverse"===z.variant?{variant:"plain"}:{})),{ml:3}),void 0)]},void 0),Te=i.createPortal(Object(r.jsx)(m,O({},ge({ref:Object(s.a)([le,M||null])}),be.popper,{style:de.popper},{children:(Ce||_)&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(u.a,O({sx:{maxHeight:"240px",overflow:"auto",display:"grid",width:((null===oe||void 0===oe?void 0:oe.clientWidth)||0)+"px",minWidth:"240px"}},{children:X.map((function(e,t){var n=T(ne,e),a=ye===t;if(n&&C)return null;var o=K(e);return Object(r.jsx)(h.a,O({isSelected:n,isFocused:a,children:q(e,o),colorNuance:e.color},ve({item:e,index:t,disabled:d,onMouseDown:function(){return we(e)}})),""+o+t)}))}),void 0),F&&Object(r.jsx)(y,O({onClick:function(){F($),b&&je()},onHover:function(){return Ee(-1)}},{children:a}),void 0)]},void 0)}),void 0),document.body);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(j.a,O({block:t,prefix:P,suffix:ke,containerProps:Oe({ref:ce}),colorNuance:null===Y||void 0===Y?void 0:Y.color,fullWidth:f,fullHeight:p,invalid:S,placeholder:Y?q(Y,K(Y)):B,darkenPlaceholder:!!Y},xe({disabled:d,onKeyDown:function(e){switch(e.key){case"Enter":return void(!Ce&&U&&U());case"Escape":return void(!Ce&&I&&I());case"Backspace":return void(""===$&&D&&D())}},onFocus:Se}),z),void 0),Te]},void 0)}},2027:function(e,t,n){"use strict";var r=n(0),a=n(125),o=n(1),c=n(24),i=n(22),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},l=Object(a.default)(c.c)(Object(i.compose)(i.borderRadius,i.boxShadow)),u=o.forwardRef((function(e,t){return Object(r.jsx)(l,s({ref:t},e),void 0)}));u.defaultProps={bg:"neutral_0",borderRadius:"normal",boxShadow:"card",p:3},t.a=u},2028:function(e,t,n){"use strict";var r=n(0),a=n(57),o=n(1),c=n(24),i=n(2029),s=n(542),l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},d=o.forwardRef((function(e,t){var n=e.active,o=e.label,d=e.content,b=e.onChange,f=e.onClick,p=e.permanent,h=e.total,j=e.bg,O=void 0===j?"primary_2":j,x=e.color,v=void 0===x?"neutral_0":x,g=(e.css,u(e,["active","label","content","onChange","onClick","permanent","total","bg","color","css"]));if(!p&&!n&&0===h)return null;var m=o+(void 0!==h?" ("+h+")":""),y=Object(r.jsxs)(c.a,l({flex:"1",style:{textOverflow:"ellipsis",overflow:"hidden"}},{children:[Object(r.jsx)("b",{children:m},void 0),d&&" "+d]}),void 0);return Object(r.jsx)(i.a,l({ref:t,display:"inline-block",bg:n?O:"transparent",color:n?v:O,maxWidth:"250px",borderColor:n?"transparent":O,borderWidth:"1px",borderStyle:"solid",fontWeight:"normal",onClick:function(e){b&&b(!n),f&&f(e)}},g,{children:Object(r.jsxs)(c.d,l({alignItems:"center"},{children:[y,b&&n&&Object(r.jsx)(c.a,l({ml:2},{children:Object(r.jsx)(s.a,{icon:a.faTimes},void 0)}),void 0)]}),void 0)}),void 0)}));t.a=d},2029:function(e,t,n){"use strict";var r=n(0),a=n(125),o=n(1),c=n(24),i=n(22),s=n(543),l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},d=Object(a.default)(c.c)(Object(i.compose)(i.border,i.maxWidth)),b=o.forwardRef((function(e,t){var n=e.as,a=e.fontSize,o=e.fontWeight,c=e.children,i=e.color,b=(e.tooltipContent,e.onClick),f=(e.css,u(e,["as","fontSize","fontWeight","children","color","tooltipContent","onClick","css"]));return Object(r.jsx)(d,l({sx:{display:"inline-block",borderRadius:"100px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",cursor:b?"pointer":void 0},onClick:b},f,{ref:t},{children:Object(r.jsx)(s.a,l({as:n,color:i,fontWeight:o,fontSize:a},{children:c}),void 0)}),void 0)}));b.defaultProps={px:3,py:2,mr:2,fontSize:"12px",fontWeight:"bold"},t.a=o.memo(b)},2031:function(e,t,n){"use strict";var r=n(0),a=n(223),o=n.n(a),c=n(1),i=n(24),s=n(543),l={default:{bg:"neutral_0",borderColor:"neutral_5","&:focus-within:not(:disabled):not(.disabled), &:focus:not(:disabled):not(.disabled)":{borderColor:"primary_2"},"&::placeholder, & input::placeholder":{color:"neutral_6"},"&:hover":{borderColor:"neutral_6"},"&:invalid, &.invalid":{borderColor:"secondary_2"},"&:disabled, &.disabled":{bg:"neutral_1",color:"neutral_6"}},search:{color:"neutral_8",border:"none",bg:"transparent","&.active":{bg:"neutral_1"}},inverse:{color:"neutral_0",bg:"primary_2",borderColor:"neutral_5","&:focus-within:not(:disabled):not(.disabled), &:focus:not(:disabled):not(.disabled)":{borderColor:"neutral_0"},"&::placeholder, & input::placeholder":{color:"neutral_5"},"&:hover":{borderColor:"neutral_3"},"&:invalid, &.invalid":{borderColor:"secondary_3"},"&:disabled, &.disabled":{color:"neutral_5"}}},u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},b=u({fontFamily:"sansSerif",border:"1px solid",borderRadius:"normal",boxSizing:"border-box",outline:0,"input&":{minHeight:"40px"},"& input":{minHeight:"38px"},px:3,resize:"none",transition:"all ease .2s","&.block":{borderRadius:0},"&.darkenPlaceholder::placeholder, &.darkenPlaceholder input::placeholder":{color:"inherit !important",opacity:"1 !important"},"&.noBorder":{bg:"transparent",border:"none"},"&.widthAuto":{minWidth:"208px"},"&.fullHeight, & .fullHeight":{height:"100%"},"textarea&":{overflowY:"auto",py:2,"&:not(.fullHeight)":{maxHeight:"60px"}}},Object.fromEntries(Object.entries(l).map((function(e){return["&.variant--"+e[0],e[1]]})))),f=c.forwardRef((function(e,t){var n,a=e.active,c=e.affixBottom,l=e.block,f=e.colorNuance,p=e.containerProps,h=e.customPrefix,j=e.darkenPlaceholder,O=e.fullHeight,x=e.fullWidth,v=e.invalid,g=e.noBorder,m=e.onChange,y=e.onChangeValue,C=e.onKeyDown,S=e.onReturn,w=e.placeholder,E=e.prefix,k=e.rows,T=e.suffix,A=e.value,_=e.variant,D=void 0===_?"default":_,R=e.width,F=d(e,["active","affixBottom","block","colorNuance","containerProps","customPrefix","darkenPlaceholder","fullHeight","fullWidth","invalid","noBorder","onChange","onChangeValue","onKeyDown","onReturn","placeholder","prefix","rows","suffix","value","variant","width"]),I=u({as:F.textarea?"textarea":"input"},F.textarea?{rows:void 0===k?1:k}:{}),L=x?"100%":R,N=o()(((n={active:a,block:l,invalid:v,disabled:F.disabled,widthAuto:!L,fullHeight:O,noBorder:g,darkenPlaceholder:j})["variant--"+D]=!!D,n)),U=F.p,B=F.px,M=F.py,P=F.pt,H=F.pr,q=F.pb,G=F.pl,W=F.m,V=F.mx,Y=F.my,z=F.mt,K=F.mr,Q=F.mb,X=F.ml,J=d(F,["p","px","py","pt","pr","pb","pl","m","mx","my","mt","mr","mb","ml"]),Z=u({m:W,mx:V,my:Y,mt:z,mr:K,mb:Q,ml:X,p:U,px:B,py:M,pt:P,pr:H,pb:q,pl:G,className:N,width:L,sx:u(u({},b),f?{overflow:"hidden",position:"relative","&::before":{content:'""',top:0,left:0,height:"100%",width:"4px",position:"absolute",backgroundColor:f}}:{})},p),$={py:2},ee=u(u(u(u(u({},$),J),{ref:t,value:A}),I),{onChange:function(e){m&&m(e),y&&y(e.currentTarget.value)},onKeyDown:function(e){var t;C&&C(e),S&&(t=S,function(e){t&&"Enter"===e.key&&(e.preventDefault(),t(e.currentTarget.value))})(e)}});if(!E&&!T&&!h&&!c)return Object(r.jsx)(s.a,u({},Z,ee,{placeholder:w,variant:"bodySecondary"}),void 0);var te="string"!==typeof w;return Object(r.jsx)(s.a,u({as:"div"},Z,{variant:"bodySecondary"},h&&{pl:0},{children:Object(r.jsxs)(i.d,u({alignItems:"center",sx:{height:"100%"}},{children:[Object(r.jsxs)(i.d,u({flex:"1 1",flexWrap:"wrap",alignItems:"center",sx:u({},O&&{height:"100%"})},{children:[E&&Object(r.jsx)(i.d,u({alignSelf:"stretch",alignItems:"center",pr:1,mr:2,sx:{borderRight:"1px solid",borderColor:"neutral_5"}},{children:E}),void 0),h||null,Object(r.jsxs)(i.a,u({flex:"1 1",sx:u({position:"relative"},O&&{height:"100%"})},{children:[te&&""===A&&Object(r.jsx)(s.a,u({},$,{as:"div",children:w,sx:{position:"absolute",height:"100%",width:"100%",zIndex:1,whiteSpace:"nowrap"}}),void 0),Object(r.jsxs)(i.d,u({flexDirection:"column",sx:{height:"100%"}},{children:[Object(r.jsx)(s.a,u({placeholder:te?void 0:w,flex:"1 1",sx:u({position:"relative",zIndex:2,border:"0 none",bg:"transparent",color:"inherit",fontSize:"inherit",outline:0,width:"100%",resize:"none"},O&&{height:"100%"})},ee),void 0),c||null]}),void 0)]}),void 0)]}),void 0),T&&Object(r.jsx)(i.d,u({flex:"0 0 auto"},{children:T}),void 0)]}),void 0)}),void 0)}));t.a=f},2052:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),a=n.n(r);function o(e,t){a.a.useEffect((function(){if(t){var n=new ResizeObserver(e);return n.observe(t),function(){return n.unobserve(t)}}}),[e,t])}},2053:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(0),a=n(400),o=n(1),c=n(2028),i=n(2026),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},u=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e};function d(e){var t=e.itemsAreEqual,n=void 0===t?function(e,t){return e&&t?e.value===t.value:e===t}:t,d=e.itemToString,b=void 0===d?function(e){return e?e.label:""}:d,f=e.items,p=void 0===f?[]:f,h=e.value,j=e.onChange,O=l(e,["itemsAreEqual","itemToString","items","value","onChange"]),x=Object(a.b)({selectedItems:h}),v=x.getSelectedItemProps,g=x.getDropdownProps,m=o.useCallback((function(e){return e&&j(u(u([],h),[e]))}),[j,h]),y=o.useCallback((function(){return j(h.slice(0,-1))}),[j,h]),C=o.useMemo((function(){return p.filter((function(e){return!h.find((function(t){return n(e,t)}))}))}),[h,p,n]),S=h.length>0?h.map((function(e,t){return Object(r.jsx)(c.a,s({active:!0,color:"neutral_8",bg:"neutral_2",py:"6px",my:"2px",flex:"0 0 120px",label:b(e)},v({selectedItem:e,index:t,onChange:function(e){return j(h.filter((function(e,n){return n!==t})))}})),"selected-item-"+t)})):null;return Object(r.jsx)(i.a,s({itemToString:b,onChange:m,prefix:S,toggleButtonProps:g(),onBackspaceEmpty:y,items:C},O),void 0)}},2054:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),a=n(24),o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function i(e){var t=e.top,n=e.right,i=e.bottom,s=e.left,l=c(e,["top","right","bottom","left"]);return Object(r.jsx)(a.c,o({},l,{sx:o({flexShrink:0,borderColor:"neutral_4",borderTopStyle:t?"solid":"",borderTopWidth:t?"1px":"",borderRightStyle:n?"solid":"",borderRightWidth:n?"1px":"",borderBottomStyle:i?"solid":"",borderBottomWidth:i?"1px":"",borderLeftStyle:s?"solid":"",borderLeftWidth:s?"1px":""},l.sx)}),void 0)}},2064:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),a=n(24),o=n(1),c=n(1050),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},s=o.memo((function(e){var t=e.content,n=e.leftContent,o=e.centreContent,s=e.rightContent,l=e.title;return Object(r.jsxs)(a.d,i({sx:{height:function(e){return e.space[10]}},"data-qa":"title-bar_div",alignItems:"center",justifyContent:"space-between"},{children:[n&&Object(r.jsx)(a.a,i({flex:"0 1 auto"},{children:n}),void 0),Object(r.jsx)(a.a,i({p:4},{children:Object(r.jsx)(c.a,i({variant:"h3"},{children:l}),void 0)}),void 0),t&&Object(r.jsx)(a.a,i({flex:"1 1",alignSelf:"stretch"},{children:t}),void 0),!t&&Object(r.jsxs)(r.Fragment,{children:[o&&Object(r.jsx)(a.d,i({height:"100%"},{children:o}),void 0),s&&Object(r.jsx)(a.d,i({height:"100%",alignItems:"right"},{children:s}),void 0)]},void 0)]}),void 0)})),l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function u(e){var t=e.noPadding,n=e.title,o=e.content,c=e.leftContent,i=e.centreContent,u=e.rightContent,d=e.children,b=e.scrollable;return Object(r.jsxs)(a.d,l({flex:"1",flexDirection:"column",sx:{maxWidth:"100%",overflow:"hidden"}},{children:[Object(r.jsx)(a.a,l({flex:"0 0 auto",sx:{boxShadow:"pageTitle",zIndex:99}},{children:Object(r.jsx)(s,{title:n,content:o,leftContent:c,centreContent:i,rightContent:u},void 0)}),void 0),Object(r.jsxs)(a.a,l({flex:"1 1 auto",px:t?0:10,py:t?0:7,sx:{height:"100%",overflow:b?"auto":"hidden"},bg:"neutral_3"},{children:[d,b&&Object(r.jsx)(a.a,{pb:t?0:7},void 0)]}),void 0)]}),void 0)}},234:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n(2),a=n(15),o=n(6),c=n(0),i=n(21),s=n(54),l=n(1),u=n(62),d=(n(612),n(40)),b=n(3);function f(){var e=Object(d.a)(["\n  &:after {\n    content: '';\n    opacity: 0.9;\n    background-color: #f6f7fb;\n    position: absolute;\n    width: 100%;\n    height: 100vw;\n    z-index: 99;\n    top: 100%;\n  }\n"]);return f=function(){return e},e}function p(){var e=Object(d.a)(["\n  transition: filter 0.2s linear;\n  filter: brightness(1);\n  background-color: #fffffe; /* Slightly off-white so it is always darkened by the filter*/\n"]);return p=function(){return e},e}var h=Object(i.css)(p()),j=(Object(i.css)(f()),n(25)),O=n(2025),x=n(543),v=n(2060),g=n(193),m=n.n(g);function y(e){var t=e.actions,n=e.onChangeSelected,r=e.resource,a=e.selected,o=e.total;return Object(c.jsxs)(b.Flex,{bg:"primary_2",width:"100%",alignItems:"center",alignSelf:"stretch",children:[Object(c.jsx)(b.Box,{className:"ReactVirtualized__Table__rowColumn",flex:"0 1 auto",children:Object(c.jsxs)(b.Flex,{alignItems:"center",children:[Object(c.jsx)(b.Box,{flex:"0 1 auto",mr:3,children:Object(c.jsx)("label",{children:Object(c.jsx)(O.a,{variant:"primary",checked:!0,partial:a<o,onChange:function(){return n([])}})})}),Object(c.jsx)(b.Box,{flex:"1",children:Object(c.jsxs)(x.a,{variant:"bodySecondary",fontWeight:1,color:"neutral_0",children:[Object(v.a)(m()(r.toString(),a,!0)).toLowerCase()," selected"]})})]})}),Object(c.jsx)(b.Box,{flex:"1 0"}),Object(c.jsx)(b.Box,{className:"ReactVirtualized__Table__rowColumn",flex:"0 1 auto",children:t})]})}var C=n(338);function S(e){var t=e.add,n=e.tableDimensions,a=e.adding,o=e.bulkActions,i=e.buttons,s=void 0===i?[]:i,d=e.disableLabels,f=e.filters,p=void 0===f?function(){return null}:f,h=e.filtersOpen,O=e.highlightAddRenderer,x=e.onChangeFiltersOpen,v=e.onChangeSelected,g=e.onSearch,m=e.onSearchPillClick,S=e.onSearchReturn,w=e.onSearchFocus,E=e.onSearchBlur,k=e.onSetAdding,T=e.quickFilters,A=e.resource,_=e.suggestionsQuery,D=e.searchQuery,R=void 0===D?"":D,F=e.searchPill,I=void 0!==F&&F,L=e.selected,N=e.title,U=e.total,B=e.hideTotal,M=Object(j.a)(e,["add","tableDimensions","adding","bulkActions","buttons","disableLabels","filters","filtersOpen","highlightAddRenderer","onChangeFiltersOpen","onChangeSelected","onSearch","onSearchPillClick","onSearchReturn","onSearchFocus","onSearchBlur","onSetAdding","quickFilters","resource","suggestionsQuery","searchQuery","searchPill","selected","title","total","hideTotal"]),P=M.className,H=M.style,q=l.useCallback((function(e){return L.length>0?Object(c.jsx)(b.Box,Object(r.a)(Object(r.a)({},e),{},{style:Object(r.a)(Object(r.a)({},e.style),{},{height:"64px"}),children:Object(c.jsx)(y,{total:U,selected:L.length,onChangeSelected:v,resource:A,actions:o})})):t&&a?Object(c.jsx)(b.Box,Object(r.a)(Object(r.a)({},e),{},{style:Object(r.a)(Object(r.a)(Object(r.a)({},O&&{backgroundColor:"#F6F7FB"}),e.style),{},{height:"auto",minHeight:e.style.height,overflow:"visible"},d?{position:"absolute",top:"unset",zIndex:1,display:"flex"}:{}),children:t((function(){return k(!1)}),n)})):d?null:Object(u.h)(e)}),[L,U,v,A,o,t,n,a,k,d,O]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(C.a,{adding:a,buttons:s,className:P,filters:p,filtersOpen:h,onChangeFiltersOpen:x,onSearch:g,onSearchPillClick:m,onSearchReturn:S,onSearchFocus:w,onSearchBlur:E,resource:A,suggestionsQuery:_,searchQuery:R,searchPill:I,setAdding:t&&k,style:Object(r.a)(Object(r.a)({},H),{},{height:56}),title:N,total:U,hideTotal:B,quickFilters:T,quickFiltersStyle:Object(r.a)(Object(r.a)({},H),{},{height:"auto"})}),Object(c.jsx)(q,Object(r.a)(Object(r.a)({},M),{},{style:Object(r.a)(Object(r.a)({},H),{},{height:64}),className:"".concat(M.className," ReactVirtualized__Dimmable").concat(h?"_Dim":"")}))]})}var w=l.memo(Object(i.default)(u.g).withConfig({displayName:"Table__StyledTable",componentId:"sc-1s86f98-0"})(["& .ReactVirtualized{&__Dimmable{&,&_Dim{","}&_Dim{filter:brightness(0.5);}}&__Table{&__header{&Row{&:first-of-type{border-radius:","px ","px 0 0;}padding:0 !important;background-color:",";text-transform:none;}&TruncatedText{text-transform:none;font-size:","px;color:",";}}&__headerRow,&__row{background-color:",";box-sizing:border-box;border:1px solid transparent;border-bottom:1px solid ",";&:focus-within{border:1px solid ",";}}&__Grid{background-color:",";outline:none;border-radius:0 0 ","px ","px;}&__headerColumn:first-of-type,&__rowColumn:first-of-type{margin-left:","px;}&__headerColumn:last-of-type,&__rowColumn:last-of-type{margin-right:","px;}&__row{transition:all ease 0.2s;&ColumnOnHover{visibility:hidden;}&Column_overflow{overflow:visible !important;}&:hover{background-color:",";}&_focused{background-color:"," !important;}&_focused,&:hover{& .ReactVirtualized__Table__rowColumnOnHover{visibility:visible;}}}}}"],h,Object(s.a)("radii.large"),Object(s.a)("radii.large"),Object(s.a)("colours.neutral_0"),Object(s.a)("fontSizes.2"),Object(s.a)("colours.neutral_8"),Object(s.a)("colours.neutral_0"),Object(s.a)("colours.neutral_2"),Object(s.a)("colours.primary_2"),Object(s.a)("colours.neutral_1"),Object(s.a)("radii.large"),Object(s.a)("radii.large"),Object(s.a)("space.4"),Object(s.a)("space.4"),Object(s.a)("colours.neutral_1"),Object(s.a)("colours.neutral_0")));function E(e){var t=e.addRenderer,n=e.autoHeight,i=e.bulkActionsRenderer,s=e.buttons,d=void 0===s?[]:s,b=e.children,f=e.clearCache,p=e.data,h=e.deferredMeasurementCache,j=e.disableDimmable,O=e.disableHeader,x=e.disableLabels,v=e.filtersRenderer,g=e.focused,m=e.gridStyle,y=e.groupedTotal,C=e.headerHeight,E=e.headerStyle,k=e.highlightAddRenderer,T=e.noRowsRenderer,A=e.onLoadMoreRows,_=e.onSearch,D=e.onSearchPillClick,R=e.onSearchReturn,F=e.onSearchFocus,I=e.onSearchBlur,L=e.overscanRowCount,N=e.quickFilters,U=e.resource,B=e.rowHeight,M=e.rowStyle,P=e.suggestionsQuery,H=e.searchQuery,q=e.searchPill,G=e.scrollToIndex,W=e.title,V=e.total,Y=e.hideTotal,z=e.forwardedRef,K=l.useRef(null),Q=l.useState(!1),X=Object(o.a)(Q,2),J=X[0],Z=X[1],$=l.useState([]),ee=Object(o.a)($,2),te=ee[0],ne=ee[1],re=l.useState(!1),ae=Object(o.a)(re,2),oe=ae[0],ce=ae[1],ie=l.useCallback((function(e,t){ne((function(n){return t?[].concat(Object(a.a)(n),[e]):n.filter((function(t){return t!==e}))}))}),[ne]),se=l.useMemo((function(){return te.map((function(e){return p[e]}))}),[te,p]),le=l.useCallback((function(e){var t=e.startIndex,n=e.stopIndex;return A?A({search:H||"",offset:t,limit:n-t+1}):new Promise((function(e){return e()}))}),[H,A]),ue=l.useCallback((function(){K.current&&K.current.resetLoadMoreRowsCache()}),[K]),de=l.useMemo((function(){return i&&i({setSelected:ne,selected:te,dataSelected:se})}),[i,ne,te,se]),be=l.useMemo((function(){return void 0!==C?C:(N?56:0)+(_||de?56:0)+64}),[C,N,_,de]),fe=l.useMemo((function(){return j||!oe&&!J?"ReactVirtualized__Dimmable":"ReactVirtualized__Dimmable_Dim"}),[j,oe,J]),pe=l.useCallback((function(){return T&&T(oe,ce)}),[T,oe,ce]);return Object(c.jsx)(u.a,{onResize:f,children:function(e){return Object(c.jsx)(u.e,{isRowLoaded:function(e){var t=e.index;return void 0!==p[t]},loadMoreRows:le,rowCount:V,ref:K,children:function(a){var o=a.onRowsRendered,i=a.registerChild;return Object(c.jsx)(w,Object(r.a)(Object(r.a)({},e),{},{gridStyle:m,disableHeader:!!O,headerHeight:be,rowHeight:B||64,ref:z||i,rowGetter:function(e){var t=e.index;return p[t]},rowCount:V,scrollToIndex:G,overscanRowCount:L,autoHeight:n,onRowsRendered:o,noRowsRenderer:pe,gridClassName:fe,rowClassName:function(e){var t=e.index;return te.includes(t)?"ReactVirtualized__Table__row_selected":g===t?"ReactVirtualized__Table__row_focused":void 0},rowStyle:function(e){var t=e.index;return E&&-1===t?E:M&&-1!==t?M({index:t}):void 0},headerRowRenderer:function(n){return Object(c.jsx)(S,Object(r.a)({add:t,tableDimensions:e,bulkActions:de,buttons:d,highlightAddRenderer:k,filters:v,filtersOpen:J,onChangeFiltersOpen:Z,onChangeSelected:ne,onSearch:_,onSearchPillClick:D,onSearchReturn:R,onSearchFocus:F,onSearchBlur:I,quickFilters:N,resource:U,suggestionsQuery:P,searchQuery:H,searchPill:q,selected:te,title:W,total:y||V,hideTotal:Y,adding:oe,disableLabels:x,onSetAdding:ce},n))},children:b({onChangeSelected:ie,selected:te,dataSelected:se,onResetCache:ue,cache:h})}))}})}})}},247:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(4),a=Object(r.createAsyncAction)("FETCH ANALYTICS","FETCH ANALYTICS SUGGEST","FETCH ANALYTICS FAILURE")();Object(r.createStandardAction)("SET ANALYTICS RANGE")()},26:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(2),a=n(0),o=(n(1),n(104));function c(e){var t=Object.assign({},e);return Object(a.jsx)(o.a,Object(r.a)({},t))}c.defaultProps={px:3,py:2,maxWidth:320}},27:function(e,t,n){"use strict";n.d(t,"l",(function(){return a})),n.d(t,"m",(function(){return o})),n.d(t,"k",(function(){return c})),n.d(t,"g",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"o",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"p",(function(){return d})),n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"n",(function(){return j})),n.d(t,"h",(function(){return O})),n.d(t,"i",(function(){return x})),n.d(t,"j",(function(){return v}));var r=n(4),a=Object(r.createAsyncAction)("SAVE SUGGESTION","SAVE SUGGESTION SUCCESS","SAVE SUGGESTION FAILURE")(),o=Object(r.createAsyncAction)("SAVE SUGGESTION TAGS","SAVE SUGGESTION TAGS SUCCESS","SAVE SUGGESTION TAGS FAILURE")(),c=Object(r.createAsyncAction)("DELETE SUGGESTION TAG","DELETE SUGGESTION TAG SUCCESS","DELETE SUGGESTION TAG FAILURE")(),i=Object(r.createAsyncAction)("FETCH SYNONYM BY MAPPED VALUE","FETCH SYNONYM BY MAPPED VALUE SUCCESS","FETCH SYNONYM BY MAPPED VALUE FAILURE")(),s=Object(r.createAsyncAction)("FETCH SUGGESTIONS","FETCH SUGGESTIONS SUCCESS","FETCH SUGGESTIONS FAILURE")(),l=Object(r.createStandardAction)("SET TOTAL FETCHED MESSAGES")(),u=Object(r.createAsyncAction)("FETCH SUGGESTIONS COUNT","FETCH SUGGESTIONS COUNT SUCCESS","FETCH SUGGESTIONS COUNT FAILURE")(),d=Object(r.createAsyncAction)("UPDATE SUGGESTIONS","UPDATE SUGGESTIONS SUCCESS","UPDATE SUGGESTIONS FAILURE")(),b=Object(r.createAsyncAction)("DELETE SUGGESTION","DELETE SUGGESTION SUCCESS","DELETE SUGGESTION FAILURE")(),f=Object(r.createAsyncAction)("CHECK DRAFT SUGGESTION","CHECK DRAFT SUGGESTION SUCCESS","CHECK DRAFT SUGGESTION FAILURE")(),p=Object(r.createAsyncAction)("FETCH DATA TAGS","FETCH DATA TAGS SUCCESS","FETCH DATA TAGS FAILURE")(),h=Object(r.createStandardAction)("CHANGE SUGGESTION")(),j=Object(r.createStandardAction)("SEARCH SUGGESTIONS")(),O=Object(r.createStandardAction)("FILTER SUGGESTIONS")(),x=Object(r.createStandardAction)("MATCH SUGGESTIONS FILTER TAGS")(),v=Object(r.createAsyncAction)("MOVE SUGGESTIONS TO WORKSPACE","MOVE SUGGESTIONS TO WORKSPACE SUCCESS","MOVE SUGGESTIONS TO WORKSPACE FAILURE")()},28:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"i",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return b}));var r=n(4),a=Object(r.createAsyncAction)("CREATE ENTERPRISE USER","CREATE ENTERPRISE USER SUCCESS","CREATE ENTERPRISE USER FAILURE")(),o=Object(r.createAsyncAction)("CHANGE PASSWORD","CHANGE PASSWORD SUCCESS","CHANGE PASSWORD FAILURE")(),c=Object(r.createAsyncAction)("FETCH FEATURES","FETCH FEATURES SUCCESS","FETCH FEATURES FAILURE")(),i=Object(r.createAsyncAction)("SAVE FEATURE","SAVE FEATURE SUCCESS","SAVE FEATURE FAILURE")(),s=Object(r.createAsyncAction)("LOGIN","LOGIN SUCCESS","LOGIN FAILURE")(),l=Object(r.createAsyncAction)("FETCH SSO URL","FETCH SSO URL SUCCESS","FETCH SSO URL FAILURE")(),u=Object(r.createAsyncAction)("FETCH ENTERPRISE TOKEN","FETCH ENTERPRISE TOKEN SUCCESS","FETCH ENTERPRISE TOKEN FAILURE")(),d=Object(r.createAsyncAction)("FETCH TEMPORARY ACCESS TOKEN","FETCH TEMPORARY ACCESS TOKEN SUCCESS","FETCH TEMPORARY ACCESS TOKEN FAILURE")(),b=Object(r.createStandardAction)("LOGOUT")()},29:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"k",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"l",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"d",(function(){return b})),n.d(t,"i",(function(){return f})),n.d(t,"g",(function(){return p})),n.d(t,"c",(function(){return h}));var r=n(4),a=Object(r.createAsyncAction)("FETCH MODELS","FETCH MODELS SUCCESS","FETCH MODELS FAILURE")(),o=Object(r.createAsyncAction)("FETCH HEALTH","FETCH HEALTH SUCCESS","FETCH HEALTH FAILURE")(),c=Object(r.createAsyncAction)("TRAIN MODEL","TRAIN MODEL SUCCESS","TRAIN MODEL FAILURE")(),i=Object(r.createAsyncAction)("DELETE MODEL","DELETE MODEL SUCCESS","DELETE MODEL FAILURE")(),s=Object(r.createAsyncAction)("ADD MODEL ENVIRONMENT","ADD MODEL ENVIRONMENT SUCCESS","ADD MODEL ENVIRONMENT FAILURE")(),l=Object(r.createAsyncAction)("REMOVE MODEL ENVIRONMENT","REMOVE MODEL ENVIRONMENT SUCCESS","REMOVE MODEL ENVIRONMENT FAILURE")(),u=Object(r.createAsyncAction)("UPLOAD MODEL","UPLOAD MODEL SUCCESS","UPLOAD MODEL FAILURE")(),d=Object(r.createStandardAction)("START POLLING HEALTH")(),b=Object(r.createAsyncAction)("FETCH EVALUATION","FETCH EVALUATION SUCCESS","FETCH EVALUATION FAILURE")(),f=Object(r.createStandardAction)("START EVALUATUION")(),p=Object(r.createStandardAction)("FILTER EVALUATION")(),h=Object(r.createAsyncAction)("FETCH ENVIRONMENTS","FETCH ENVIRONMENTS SUCCESS","FETCH ENVIRONMENTS FAILURE")()},32:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"j",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return f}));var r=n(4),a=Object(r.createAsyncAction)("FETCH GIT REPOSITORIES","FETCH GIT REPOSITORIES SUCCESS","FETCH GIT REPOSITORIES FAILURE")(),o=Object(r.createAsyncAction)("FETCH SSH KEY","FETCH SSH KEY SUCCESS","FETCH SSH KEY FAILURE")(),c=Object(r.createAsyncAction)("CONNECT GIT REPOSITORY","CONNECT GIT REPOSITORY SUCCESS","CONNECT GIT REPOSITORY FAILURE")(),i=Object(r.createAsyncAction)("UPDATE GIT REPOSITORY","UPDATE GIT REPOSITORY SUCCESS","UPDATE GIT REPOSITORY FAILURE")(),s=Object(r.createAsyncAction)("DELETE GIT REPOSITORY","DELETE GIT REPOSITORY SUCCESS","DELETE GIT REPOSITORY FAILURE")(),l=Object(r.createAsyncAction)("FETCH GIT REPOSITORY STATUS","FETCH GIT REPOSITORY STATUS SUCCESS","FETCH GIT REPOSITORY STATUS FAILURE")(),u=Object(r.createStandardAction)("START POLLING STATUS")(),d=Object(r.createStandardAction)("STOP POLLING STATUS")(),b=Object(r.createAsyncAction)("COMMIT GIT CHANGES","COMMIT GIT CHANGES SUCCESS","COMMIT GIT CHANGES FAILURE")(),f=Object(r.createAsyncAction)("DISCARD GIT CHANGES","DISCARD GIT CHANGES SUCCESS","DISCARD GIT CHANGES FAILURE")()},33:function(e,t,n){"use strict";var r=n(18);t.a=function(e){var t=e.resource,n=e.action,a=e.attributes,o=void 0===a?[]:a,c=e.yes,i=void 0===c?null:c,s=e.no;return Object(r.e)(t,n,o)?i:s||null}},338:function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var r=n(15),a=n(6),o=n(40),c=n(0),i=n(87),s=n(242),l=n(243),u=n(57),d=n(2028),b=n(2022),f=n(542),p=n(1050),h=n(2031),j=n(2029),O=n(2054),x=n(679),v=n.n(x),g=n(193),m=n.n(g),y=n(1),C=n(3),S=n(112),w=n.n(S),E=n(21),k=n(33),T=n(18),A=n(12),_=n(100),D=n(2),R=n(25),F=Object(E.default)(C.Box).withConfig({displayName:"Expandable__Container",componentId:"sc-1vaci0m-0"})(["position:absolute;left:0;right:0;overflow:hidden;z-index:99;display:flex;max-height:0;height:auto;transition:max-height 0.4s ease;box-shadow:rgba(37,49,70,0.3) 0px 2px 6px 0px;",""],(function(e){return e.expanded&&"\n    max-height: 456px;\n  "})),I=y.memo((function(e){e.ref;var t=Object(R.a)(e,["ref"]);return Object(c.jsx)(F,Object(D.a)({},t))})),L=y.memo((function(e){var t=e.expanded,n=e.children,r=e.onApply,a=e.onCancel;return Object(c.jsx)(I,{expanded:t,bg:"neutral_0",children:Object(c.jsx)(C.Card,{flex:"1",sx:{borderBottom:"1px solid",borderColor:"neutral_4"},children:Object(c.jsxs)(C.Flex,{flexDirection:"column",style:{maxHeight:"100%",height:"100%"},children:[Object(c.jsx)(C.Card,{flex:"1 1 auto",sx:{borderBottom:"1px solid",borderColor:"neutral_4",overflow:"hidden",display:"flex",flexDirection:"column"},children:n}),Object(c.jsxs)(C.Flex,{py:3,px:4,flex:"0 0 auto",mr:-1,flexDirection:"row-reverse",children:[Object(c.jsx)(C.Box,{mx:1,children:Object(c.jsx)(b.a,{large:!0,onClick:r,variant:"primary",children:"Apply Filters"})}),Object(c.jsx)(C.Box,{mx:1,children:Object(c.jsx)(b.a,{large:!0,variant:"secondary",onClick:a,children:"Cancel"})})]})]})})})})),N=n(26);function U(){var e=Object(o.a)(["\n  align-self: stretch;\n  display: flex;\n  align-items: center;\n"]);return U=function(){return e},e}function B(){var e=Object(o.a)(["\n  &:hover,\n  &:active,\n  &:focus-within {\n    ","\n  }\n"]);return B=function(){return e},e}var M=Object(E.default)(C.Flex)(B(),(function(e){return e.highlightable?_.b:null})),P=Object(E.default)(C.Box)(U());function H(e){var t=e.adding,n=e.buttons,o=void 0===n?[]:n,x=e.className,g=e.filters,S=void 0===g?function(){return null}:g,E=e.filtersOpen,_=e.onChangeFiltersOpen,D=e.onSearch,R=e.onSearchPillClick,F=e.onSearchReturn,I=e.onSearchFocus,U=e.onSearchBlur,B=e.quickFilters,H=e.resource,q=e.searchQuery,G=void 0===q?"":q,W=e.suggestionsQuery,V=e.searchPill,Y=void 0!==V&&V,z=e.setAdding,K=e.quickFiltersStyle,Q=e.style,X=void 0===Q?{}:Q,J=e.title,Z=e.total,$=e.hideTotal,ee=y.useState(G),te=Object(a.a)(ee,2),ne=te[0],re=te[1],ae=y.useState(G),oe=Object(a.a)(ae,2),ce=oe[0],ie=oe[1];Object(T.a)((function(){D&&ne!==(W||G)&&D(ne||"")}),300,[ne,G,W]);var se=y.useState(w.a.parse("")),le=Object(a.a)(se,2),ue=le[0],de=le[1];y.useEffect((function(){de(w.a.parse(ce))}),[ce]),y.useEffect((function(){""!==ne&&"intent:"!==ne.slice(0,7)||ie(ne)}),[ne]);var be=y.useMemo((function(){return S(ue.getConditionArray(),(function(e){var t=ue.clone();t.conditionArray=e,ie(t.toString())}))}),[S,ue]),fe=y.useCallback((function(e){return function(t){if(B){var n=B.clear?w.a.parse(""):ue.clone(),r=n.getConditionArray().filter((function(e){return e.keyword!==B.keyword}));t&&e&&r.push({keyword:B.keyword,value:e,negated:!1}),n.conditionArray=r;var a=n.toString();ie(a),re(a)}}}),[B,ue]),pe=y.useMemo((function(){if(!B)return null;var e=ue.getConditionArray().filter((function(e){return e.keyword===B.keyword})),t=0===e.length;return Object(c.jsxs)(c.Fragment,{children:[B.all&&Object(c.jsx)(d.a,{onChange:t?void 0:fe(),active:t,label:B.all,permanent:!0,total:void 0!==B.total?B.total:Z}),B.values.map((function(t){var n=t.label,r=t.total;return Object(c.jsx)(d.a,{onChange:fe(n),active:1===e.length&&e[0].value===n,label:n,total:r},n)}))]})}),[B,ue,fe,Z]),he=z&&Object(c.jsx)(k.a,{resource:H,action:A.a.Create,yes:Object(c.jsx)(N.a,{content:"Add ".concat(v()(m()(H.toString(),1,!1)).toLowerCase()),hideOnClick:!0,disabled:t,children:Object(c.jsx)(b.a,{active:t,variant:"headerIcon",onClick:function(){return z(!t)},"data-qa":"table-header-add_button",children:Object(c.jsx)(f.a,{icon:i.faPlus})})})}),je=y.useCallback((function(){return _&&_(!E)}),[_,E]),Oe=y.useCallback((function(){je(),re(ce)}),[ce,je,re]),xe=be&&_&&Object(c.jsx)(k.a,{resource:H,action:A.a.Read,yes:Object(c.jsx)(b.a,{active:E,variant:"headerIcon",onClick:je,"data-qa":"table-header-filters_button",children:Object(c.jsx)(f.a,{icon:l.faSlidersH})})}),ve=[].concat(Object(r.a)(o),[he,xe]).filter((function(e){return!!e})),ge="Search ".concat(v()(m()(H.toString(),Z,!$)).toLowerCase(),"..."),me=y.useCallback((function(){je(),ie(ne)}),[je,ie,ne]),ye=!Y||Y&&!G;return Object(c.jsxs)(c.Fragment,{children:[pe&&Object(c.jsx)(C.Box,{style:K,as:"section",flex:"0 1 auto",mb:2,children:pe}),(D||ve.length>0)&&Object(c.jsxs)(C.Flex,{className:x,style:X,color:"white",justifyContent:"space-between",alignItems:"center",children:[J&&Object(c.jsxs)(p.a,{variant:"h4",pl:4,children:[J," ",Object(c.jsxs)(C.Box,{as:"span",color:"neutral_6",style:{fontWeight:"normal"},children:["(",Z,")"]})]}),D&&Object(c.jsxs)(M,{px:4,flex:"1",alignItems:"center",bgActive:"neutral_1",highlightable:ye,style:{height:"100%"},children:[Object(c.jsx)(C.Box,{children:Object(c.jsx)(f.a,{icon:s.faSearch,color:"neutral_6"})}),Object(c.jsxs)(P,{flex:1,children:[ye&&Object(c.jsx)(h.a,{fullWidth:!0,fullHeight:!0,onChangeValue:re,placeholder:ge,value:ne,onFocus:I,onBlur:U,onReturn:function(e){re(""),null===F||void 0===F||F(e)},variant:"search"}),!ye&&Object(c.jsxs)(j.a,{bg:"primary_1",color:"neutral_0",onClick:function(){re(""),null===R||void 0===R||R()},ml:3,children:[G,Object(c.jsx)(f.a,{icon:u.faTimes,ml:2,color:"neutral_0"})]})]})]}),!D&&Object(c.jsx)(C.Box,{flex:"1"}),ve.map((function(e,t){return Object(c.jsx)(O.a,{left:!0,children:e},t)}))]}),be&&Object(c.jsx)(C.Box,{style:{width:X.width,left:X.left,position:"absolute"},children:Object(c.jsx)(L,{expanded:E,onApply:Oe,onCancel:me,children:be})})]})}},34:function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"g",(function(){return b}));var r=n(4),a=Object(r.createAsyncAction)("SAVE CONFIG","SAVE CONFIG SUCCESS","SAVE CONFIG FAILURE")(),o=Object(r.createAsyncAction)("FETCH CONFIG","FETCH CONFIG SUCCESS","FETCH CONFIG FAILURE")(),c=Object(r.createAsyncAction)("FETCH DATA TAGS","FETCH DATA TAGS SUCCESS","FETCH DATA TAGS FAILURE")(),i=(Object(r.createAsyncAction)("SAVE DOMAIN","SAVE DOMAIN SUCCESS","SAVE DOMAIN FAILURE")(),Object(r.createAsyncAction)("FETCH DOMAIN FILES","FETCH DOMAIN FILES SUCCESS","FETCH DOMAIN FILES FAILURE")()),s=Object(r.createAsyncAction)("FETCH DOMAIN FILE","FETCH DOMAIN FILE SUCCESS","FETCH DOMAIN FILE FAILURE")(),l=Object(r.createAsyncAction)("CREATE DOMAIN FILE","CREATE DOMAIN FILE SUCCESS","CREATE DOMAIN FILE FAILURE")(),u=Object(r.createAsyncAction)("SAVE DOMAIN FILE","SAVE DOMAIN FILE SUCCESS","SAVE DOMAIN FILE FAILURE")(),d=Object(r.createAsyncAction)("DELETE DOMAIN FILE","DELETE DOMAIN FILE SUCCESS","DELETE DOMAIN FILE FAILURE")(),b=Object(r.createAsyncAction)("FETCH DOMAIN WARNINGS","FETCH DOMAIN WARNINGS SUCCESS","FETCH DOMAIN WARNINGS FAILURE")()},35:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"i",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return b}));var r=n(4),a=Object(r.createAsyncAction)("FETCH REGEX","FETCH REGEX SUCCESS","FETCH REGEX FAILURE")(),o=Object(r.createAsyncAction)("FETCH REGEXES","FETCH REGEXES SUCCESS","FETCH REGEXES FAILURE")(),c=Object(r.createAsyncAction)("CREATE REGEX","CREATE REGEX SUCCESS","CREATE REGEX FAILURE")(),i=Object(r.createAsyncAction)("UPDATE REGEX","UPDATE REGEX SUCCESS","UPDATE REGEX FAILURE")(),s=Object(r.createAsyncAction)("DELETE REGEX","DELETE REGEX SUCCESS","DELETE REGEX FAILURE")(),l=Object(r.createAsyncAction)("FETCH LOOKUP TABLES","FETCH LOOKUP TABLES SUCCESS","FETCH LOOKUP TABLES FAILURE")(),u=Object(r.createAsyncAction)("FETCH LOOKUP TABLE","FETCH LOOKUP TABLE SUCCESS","FETCH LOOKUP TABLE FAILURE")(),d=Object(r.createAsyncAction)("CREATE LOOKUP TABLE","CREATE LOOKUP TABLE SUCCESS","CREATE LOOKUP TABLE FAILURE")(),b=Object(r.createAsyncAction)("DELETE LOOKUP TABLE","DELETE LOOKUP TABLE SUCCESS","DELETE LOOKUP TABLE FAILURE")()},36:function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"l",(function(){return o})),n.d(t,"j",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return b})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"g",(function(){return h}));var r=n(4),a=Object(r.createAsyncAction)("CREATE INTERACTIVE LEARNING CONVERSATION","CREATE INTERACTIVE LEARNING CONVERSATION SUCCESS","CREATE INTERACTIVE LEARNING CONVERSATION FAILURE")(),o=Object(r.createStandardAction)("UNDO INTERACTIVE LEARNING CONVERSATION")(),c=Object(r.createAsyncAction)("PARSE MESSAGE FOR INTERACTIVE LEARNING","PARSE MESSAGE FOR INTERACTIVE LEARNING SUCCESS","PARSE MESSAGE FOR INTERACTIVE LEARNING FAILURE")(),i=Object(r.createStandardAction)("CHANGE PARSED MESSAGE")(),s=Object(r.createStandardAction)("CANCEL PARSED MESSAGE")(),l=Object(r.createAsyncAction)("SAVE EVENT","SAVE EVENT SUCCESS","SAVE EVENT FAILURE")(),u=Object(r.createAsyncAction)("FETCH INTERACTIVE LEARNING PREDICTION","FETCH INTERACTIVE LEARNING PREDICTION SUCCESS","FETCH INTERACTIVE LEARNING PREDICTION FAILURE")(),d=Object(r.createStandardAction)("CHANGE PREDICTION")(),b=Object(r.createAsyncAction)("CONFIRM PREDICTION","CONFIRM PREDICTION SUCCESS","CONFIRM PREDICTION FAILURE")(),f=Object(r.createAction)("CLEAR INTERACTIVE LEARNING",(function(e){return function(t){return e(t)}})),p=Object(r.createStandardAction)("CHANGE STRICT MODE")(),h=Object(r.createAsyncAction)("CREATE ACTION","CREATE ACTION SUCCESS","CREATE ACTION FAILURE")()},37:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var r=n(7),a=n.n(r),o=n(15),c=n(5),i=n(20);function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}function l(e,t,n,r,s){var l=a.a.mark(u);function u(u,d){var b,f,p,h;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,b=r?r(d.payload):[d.payload],a.delegateYield(c.b.apply(void 0,[e,u].concat(Object(o.a)(b))),"t0",3);case 3:return f=a.t0,p=n?n(f,d.payload):f,a.next=7,Object(c.f)(t.success(p));case 7:a.next=16;break;case 9:return a.prev=9,a.t1=a.catch(0),a.next=13,Object(i.a)(a.t1);case 13:return h=s?s(a.t1,d.payload):a.t1,a.next=16,Object(c.f)(t.failure(h));case 16:case"end":return a.stop()}}),l,null,[[0,9]])}return u}},38:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"j",(function(){return u})),n.d(t,"m",(function(){return d})),n.d(t,"n",(function(){return b})),n.d(t,"b",(function(){return f})),n.d(t,"l",(function(){return p})),n.d(t,"h",(function(){return h})),n.d(t,"c",(function(){return j})),n.d(t,"i",(function(){return O}));var r=n(4),a=Object(r.createAsyncAction)("FETCH WORKSPACE DRAFTS","FETCH WORKSPACE DRAFTS SUCCESS","FETCH WORKSPACE DRAFTS FAILURE")(),o=Object(r.createStandardAction)("SET ACTIVE WORKSPACE")(),c=Object(r.createAsyncAction)("FETCH WORKSPACES","FETCH WORKSPACES SUCCESS","FETCH WORKSPACES FAILURE")(),i=Object(r.createAsyncAction)("CREATE WORKSPACE","CREATE WORKSPACE SUCCESS","CREATE WORKSPACE FAILURE")(),s=(Object(r.createStandardAction)("WEBSOCKET LOG MARKED AS IN WORKSPACE")(),Object(r.createStandardAction)("WORKSPACE NEW EXAMPLES")()),l=Object(r.createStandardAction)("WORKSPACE UPDATED EXAMPLES")(),u=Object(r.createStandardAction)("WORKSPACE UPDATED DRAFTS")(),d=Object(r.createStandardAction)("WORKSPACE WEBSOCKET NEW EXAMPLES")(),b=Object(r.createStandardAction)("WORKSPACE WEBSOCKET UPDATED EXAMPLES")(),f=Object(r.createStandardAction)("WORKSPACE DELETE EXAMPLE")(),p=Object(r.createStandardAction)("WORKSPACE WEBSOCKET EXAMPLES DELETED")(),h=Object(r.createStandardAction)("SET SEARCH QUERY")(),j=Object(r.createStandardAction)("WORKSPACE DRAFTS UPDATED")(),O=Object(r.createStandardAction)("WORKSPACE SET TOTAL FETCHED")()},39:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"i",(function(){return c})),n.d(t,"m",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"k",(function(){return h})),n.d(t,"l",(function(){return j}));var r=n(4),a=Object(r.createAsyncAction)("FETCH STORIES","FETCH STORIES SUCCESS","FETCH STORIES FAILURE")(),o=Object(r.createAsyncAction)("FETCH STORY VISUALIZATION","FETCH STORY VISUALIZATION SUCCESS","FETCH STORY VISUALIZATION FAILURE")(),c=Object(r.createAsyncAction)("SAVE STORY","SAVE STORY SUCCESS","SAVE STORY FAILURE")(),i=Object(r.createAsyncAction)("UPDATE STORY","UPDATE STORY SUCCESS","UPDATE STORY FAILURE")(),s=Object(r.createAsyncAction)("DELETE STORY","DELETE STORY SUCCESS","DELETE STORY FAILURE")(),l=Object(r.createAsyncAction)("ADD STORIES","ADD STORIES SUCCESS","ADD STORIES FAILURE")(),u=Object(r.createAsyncAction)("REPLACE STORIES","REPLACE STORIES SUCCESS","REPLACE STORIES FAILURE")(),d=Object(r.createStandardAction)("SEARCH STORIES")(),b=Object(r.createStandardAction)("CHANGE STORY")(),f=Object(r.createStandardAction)("CHANGE STORY SELECTION")(),p=Object(r.createStandardAction)("DOWNLOAD STORIES")(),h=Object(r.createStandardAction)("SET SHOULD REPLACE STORIES")(),j=Object(r.createStandardAction)("SET STORIES TO CONFIRM")()},43:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return b}));var r=n(4),a=Object(r.createAsyncAction)("GET INSIGHT CALCULATION CONFIG","GET INSIGHT CALCULATION CONFIG SUCCESS","GET INSIGHT CALCULATION CONFIG FAILURE")(),o=Object(r.createAsyncAction)("PUT INSIGHT CALCULATION CONFIG","PUT INSIGHT CALCULATION CONFIG SUCCESS","PUT INSIGHT CALCULATION CONFIG FAILURE")(),c=Object(r.createAsyncAction)("RUN INSIGHT CALCULATION","RUN INSIGHT CALCULATION CONFIG SUCCESS","RUN INSIGHT CALCULATION CONFIG FAILURE")(),i=Object(r.createAsyncAction)("FETCH LATEST NLU INSIGHT REPORTS","FETCH LATEST NLU INSIGHT REPORTS SUCCESS","FETCH LATEST NLU INSIGHT REPORTS FAILURE")(),s=Object(r.createAsyncAction)("FETCH NLU EVALUATION RESULTS","FETCH NLU EVALUATION RESULTS SUCCESS","FETCH NLU EVALUATION RESULTS FAILURE")(),l=Object(r.createStandardAction)("SET SEARCH QUERY")(),u=Object(r.createStandardAction)("SET SORT BY")(),d=Object(r.createStandardAction)("INSIGHTS EVALUATION DONE")(),b=Object(r.createStandardAction)("DOWNLOAD NLU REPORTS")()},45:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return u}));var r=n(4),a=Object(r.createAsyncAction)("FETCH GROUPED RESPONSES","FETCH GROUPED RESPONSES SUCCESS","FETCH GROUPED RESPONSES FAILURE")(),o=Object(r.createAsyncAction)("FETCH RESPONSES SUGGESTIONS","FETCH RESPONSES SUGGESTIONS SUCCESS","FETCH RESPONSES SUGGESTIONS FAILURE")(),c=Object(r.createAsyncAction)("ADD RESPONSE","ADD RESPONSE SUCCESS","ADD RESPONSE FAILURE")(),i=Object(r.createAsyncAction)("UPDATE RESPONSE","UPDATE RESPONSE SUCCESS","UPDATE RESPONSE FAILURE")(),s=Object(r.createAsyncAction)("UPDATE RESPONSE NAME","UPDATE RESPONSE NAME SUCCESS","UPDATE RESPONSE NAME FAILURE")(),l=Object(r.createAsyncAction)("DELETE RESPONSE","DELETE RESPONSE SUCCESS","DELETE RESPONSE FAILURE")(),u=Object(r.createStandardAction)("SEARCH RESPONSES")()},47:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return l}));var r=n(4),a=Object(r.createAsyncAction)("FETCH SYNONYMS","FETCH SYNONYMS SUCCESS","FETCH SYNONYMS FAILURE")(),o=Object(r.createAsyncAction)("UPDATE SYNONYM VALUE","UPDATE SYNONYM VALUE SUCCESS","UPDATE SYNONYM VALUE FAILURE")(),c=Object(r.createAsyncAction)("UPDATE SYNONYM REFERENCE","UPDATE SYNONYM REFERENCE SUCCESS","UPDATE SYNONYM REFERENCE FAILURE")(),i=Object(r.createAsyncAction)("ADD SYNONYM","ADD SYNONYM SUCCESS","ADD SYNONYM FAILURE")(),s=Object(r.createAsyncAction)("ADD SYNONYM VALUES","ADD SYNONYM VALUES SUCCESS","ADD SYNONYM VALUES FAILURE")(),l=Object(r.createAsyncAction)("DELETE SYNONYM VALUES","DELETE SYNONYM VALUES SUCCESS","DELETE SYNONYM VALUES FAILURE")();Object(r.createStandardAction)("SEARCH SYNONYMS")()},48:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return f}));var r=n(4),a=Object(r.createAsyncAction)("FETCH RULES","FETCH RULES SUCCESS","FETCH RULES FAILURE")(),o=Object(r.createAsyncAction)("FETCH RULE VISUALIZATION","FETCH RULE VISUALIZATION SUCCESS","FETCH RULE VISUALIZATION FAILURE")(),c=Object(r.createAsyncAction)("SAVE RULE","SAVE RULE SUCCESS","SAVE RULE FAILURE")(),i=Object(r.createAsyncAction)("UPDATE RULE","UPDATE RULE SUCCESS","UPDATE RULE FAILURE")(),s=Object(r.createAsyncAction)("DELETE RULE","DELETE RULE SUCCESS","DELETE RULE FAILURE")(),l=Object(r.createAsyncAction)("ADD RULES","ADD RULES SUCCESS","ADD RULES FAILURE")(),u=Object(r.createAsyncAction)("REPLACE RULES","REPLACE RULES SUCCESS","REPLACE RULES FAILURE")(),d=Object(r.createStandardAction)("CHANGE RULES")(),b=Object(r.createStandardAction)("CHANGE RULE SELECTION")(),f=Object(r.createStandardAction)("DOWNLOAD RULES")()},493:function(e,t,n){"use strict";var r=n(0),a=n(1050),o=n(2025),c=n(543),i=n(1),s=n(3);t.a=i.memo((function(e){var t=e.p,n=e.name,i=e.items,l=e.checkedItems,u=e.onChange,d=e.placeholder,b=e.header,f=e.item;e.stickyHeader;return Object(r.jsxs)(s.Flex,{flexDirection:"column",style:{height:"100%",overflow:"hidden"},children:[Object(r.jsx)(s.Box,{p:t,pb:0,children:b?b():Object(r.jsxs)(a.a,{variant:"h4",children:[n," (",i.length,")"]})}),Object(r.jsxs)(s.Box,{px:t,pt:1,style:{height:"100%",overflow:"auto"},children:[0===i.length&&d,i.map((function(e){var t=l.indexOf(e);return Object(r.jsxs)(s.Flex,{as:"label",my:20,alignItems:"center",children:[Object(r.jsx)(o.a,{onChange:function(){return u(t>=0?l.slice(0,t).concat(l.slice(t+1)):l.concat([e]))},checked:t>=0}),f?f({item:e}):Object(r.jsx)(c.a,{ml:"12px",variant:"bodySecondary",lineHeight:"inherit",children:e})]},e)}))]})]})}))},50:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"h",(function(){return c})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"d",(function(){return d}));var r=n(4),a=Object(r.createAsyncAction)("FETCH USERS","FETCH USERS SUCCESS","FETCH USERS FAILURE")(),o=Object(r.createAsyncAction)("FETCH USER","FETCH USER SUCCESS","FETCH USER FAILURE")(),c=Object(r.createAsyncAction)("UPDATE USER","UPDATE USER SUCCESS","UPDATE USER FAILURE")(),i=Object(r.createAsyncAction)("SAVE USER ROLES","SAVE USER ROLES SUCCESS","SAVE USER ROLES FAILURE")(),s=Object(r.createAsyncAction)("DELETE USER","DELETE USER SUCCESS","DELETE USER FAILURE")(),l=Object(r.createStandardAction)("SAVE USERS")(),u=Object(r.createStandardAction)("SEARCH USERS")(),d=Object(r.createStandardAction)("ONBOARDING STEP COMPLETED")()},508:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n(6),a=n(7),o=n.n(a),c=n(8),i=n(189),s=n(44),l=n.n(s),u=n(5),d=n(4),b=n(128),f=n(20),p=n(126),h=n(36),j=n(37),O=n(11),x=n(17),v=o.a.mark(w),g=o.a.mark(k),m=o.a.mark(_),y=o.a.mark(Y),C=o.a.mark(z),S=function(e){return{isOptimistic:!0,text:e,timestamp:Date.now()/1e3,event:"user",is_flagged:!1}};function w(e,t){var n,r,a,i,s,d,b,p,h,j,O,g,m,y,C,S,w;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r=n.filter,a=n.limit,i=n.offset,o.delegateYield(Object(u.h)((function(e){return e.messages})),"t0",2);case 2:if(s=o.t0,d=s.conversationsFetched,b=s.oldestConversationTimestamp,!((p=i+a)<=d&&0!==i)){o.next=8;break}return o.abrupt("return");case 8:if(h=r.date.from&&l()(r.date.from),j=r.date.to&&l()(r.date.to).endOf("day"),0!==i&&b&&(O=l.a.unix(b),j&&!j.isAfter(O)||(j=O)),!(h&&j&&j.isBefore(h))){o.next=13;break}return o.abrupt("return");case 13:return g=0===i?p:p-d,m=Math.ceil(g/30),y=Math.min(30*m,120),o.prev=16,o.delegateYield(Object(u.b)(c.W,e,y,0,h&&h.toISOString(),j&&j.toISOString(),r.coreConfidence,r.nluConfidence,r.minimumMessages,r.intents,r.entities,r.actions,r.reviewStatus,r.slots,r.tags,r.policies,r.channels,r.flaggedOnly,r.storiesNotRecognised),"t1",18);case 18:return C=o.t1,S=C.total,w=C.conversations,o.next=23,Object(u.f)(x.p.success({total:S,conversations:w,offset:i}));case 23:o.next=31;break;case 25:return o.prev=25,o.t2=o.catch(16),o.next=29,Object(f.a)(o.t2);case 29:return o.next=31,Object(u.f)(x.p.failure(o.t2));case 31:case"end":return o.stop()}}),v,null,[[16,25]])}var E=Object(j.a)(c.U,x.g,(function(e){return{conversation:e}}),(function(e){var t=e.conversationId,n=e.environment,r=e.until,a=e.since;return Object(j.b)(t,"full_conversation",n,r,a)}));function k(e,t){var n,r,a,i,s,l,d;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r=n.conversationId,a=n.environment,i=n.until,s=n.since,o.prev=1,o.delegateYield(Object(u.b)(c.V,e,r,void 0,a,i,s,!1),"t0",3);case 3:return l=o.t0,o.delegateYield(Object(u.b)(c.V,e,r,void 0,a,i,s,!0),"t1",5);case 5:return d=o.t1,o.next=8,Object(u.f)(x.o.success({story:l,testStory:d}));case 8:o.next=16;break;case 10:return o.prev=10,o.t2=o.catch(1),o.next=14,Object(f.a)(o.t2);case 14:return o.next=16,Object(u.f)(x.g.failure(o.t2));case 16:case"end":return o.stop()}}),g,null,[[1,10]])}var T=Object(j.a)(c.Db,x.r),A=Object(j.a)(c.ic,x.x,(function(e,t){var n=t.text,r=t.senderId,a=t.environment;return{message:S(n),senderId:r,environment:a}}),(function(e){var t=e.text,n=e.senderId,r=e.environment;return Object(j.b)(n,S(t).text,r)}),(function(e,t){var n=t.text,r=t.senderId;return{error:e,message:S(n),senderId:r}}));function _(e,t){var n,r,a,s,l,d;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r=n.conversationId,a=n.environment,s=n.timestamp,"full_conversation",o.prev=2,o.delegateYield(Object(u.b)(c.U,e,r,"full_conversation",a,s),"t0",4);case 4:l=o.t0,d=new Blob([JSON.stringify(l)],{type:"application/javascript;charset=utf-8"}),Object(i.saveAs)(d,"".concat(r,"-dump.json")),o.next=15;break;case 9:return o.prev=9,o.t1=o.catch(2),o.next=13,Object(f.a)(o.t1);case 13:return o.next=15,Object(u.f)(x.g.failure(o.t1));case 15:case"end":return o.stop()}}),m,null,[[2,9]])}var D=Object(j.a)(c.q,x.c,(function(e,t){return{conversationId:t.conversationId}}),(function(e){var t=e.conversationId;return Object(j.b)(t)})),R=Object(j.a)(c.Q,x.k),F=Object(j.a)(c.P,x.j),I=Object(j.a)(c.N,x.h),L=Object(j.a)(c.R,x.l),N=Object(j.a)(c.O,x.i),U=Object(j.a)(c.M,x.f,void 0,(function(e){var t=e.botName,n=e.description;return Object(j.b)(t,n)})),B=Object(j.a)(c.L,x.e),M=Object(j.a)(c.Qb,x.s,(function(e,t){return{conversationId:t.conversationId,timestamp:t.timestamp}}),(function(e){var t=e.conversationId,n=e.timestamp;return Object(j.b)(t,n)})),P=Object(j.a)(c.zc,x.B,(function(e,t){return{conversationId:t.conversationId,timestamp:t.timestamp}}),(function(e){var t=e.conversationId,n=e.timestamp;return Object(j.b)(t,n)})),H=Object(j.a)(c.Fc,x.C,(function(e,t){return{conversationId:t.conversationId,status:t.status}}),(function(e){var t=e.conversationId,n=e.status;return Object(j.b)(t,n)})),q=Object(j.a)(c.cc,x.u,(function(e,t){return{conversationId:t.conversationId,tags:e}}),(function(e){var t=e.conversationId,n=e.tags;return Object(j.b)(t,n)})),G=Object(j.a)(c.Wb,x.t,(function(e,t){return{conversationId:t.conversationId,tag:t.tag}}),(function(e){var t=e.conversationId,n=e.tag;return Object(j.b)(t,n)})),W=Object(j.a)(c.S,x.m),V=Object(j.a)(c.T,x.n,void 0,(function(e){var t=e.slot,n=e.q;return Object(j.b)(t,n)}));function Y(e){var t,n,a,c,i,s,l,f,p,j,O,v,g;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.conversationId,a=t.environment,c=t.guest,o.delegateYield(Object(u.h)((function(e){var t=e.messages.conversationEvents[n];return t?t[t.length-1].timestamp:0})),"t0",2);case 2:i=o.t0,s=c?x.q:x.g.request;case 4:return o.next=7,Object(u.f)(s({conversationId:n,environment:a,since:i}));case 7:return o.next=9,Object(u.i)([Object(d.getType)(x.g.success),Object(d.getType)(x.g.failure)]);case 9:return(l=o.sent).type===Object(d.getType)(x.g.success)&&(f=l.payload.conversation.events).length>0&&(i=f[f.length-1].timestamp),o.delegateYield(Object(u.h)((function(e){return[e.interactiveLearning.conversationId,e.interactiveLearning.strictMode]})),"t1",12);case 12:if(p=o.t1,j=Object(r.a)(p,2),O=j[0],v=j[1],O!==n||!v){o.next=21;break}return o.next=19,Object(u.g)({userMessage:Object(u.i)(Object(d.getType)(x.x.success)),botMessage:Object(u.i)(Object(d.getType)(h.f.success)),refresh:Object(u.d)(b.e)});case 19:o.next=25;break;case 21:return o.delegateYield(Object(u.h)((function(e){return e.messages.awaitingResponse})),"t2",22);case 22:return g=o.t2,o.next=25,Object(u.d)(g?b.c:b.e);case 25:o.next=4;break;case 27:case"end":return o.stop()}}),y)}function z(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.g)({poll:Object(u.b)(Y,e),stop:Object(u.i)(Object(d.getType)(x.A))});case 2:case"end":return t.stop()}}),C)}var K=Object(j.a)(c.ec,x.v),Q=[Object(O.b)(x.x.request,A),Object(O.c)(x.w,A),Object(O.b)(x.g.request,E),Object(O.b)(x.c.request,D),Object(O.c)(x.q,E),Object(O.b)(x.r.request,T),Object(O.b)(x.p.request,w),Object(O.b)(x.d,_),Object(O.b)(x.k.request,R),Object(O.b)(x.j.request,F),Object(O.b)(x.h.request,I),Object(O.b)(x.l.request,L),Object(O.b)(x.i.request,N),Object(O.b)(x.f.request,U),Object(O.c)(x.e.request,B),Object(O.b)(x.s.request,M),Object(O.b)(x.B.request,P),Object(O.b)(x.C.request,H),Object(O.b)(x.o.request,k),Object(O.b)(x.u.request,q),Object(O.b)(x.t.request,G),Object(O.b)(x.m.request,W),Object(O.b)(x.n.request,V),Object(O.b)(x.v.request,K),Object(O.a)(Object(d.getType)(x.z),z,!1,!0),Object(O.a)(Object(d.getType)(x.v.success),p.b)];t.b=Q},537:function(e,t,n){"use strict";var r=n(40),a=n(2),o=n(0),c=n(21),i=n(1050),s=n(1),l=n(100);function u(){var e=Object(r.a)(["\n            transform: scaleX(0);\n            opacity: 0;\n          "]);return u=function(){return e},e}function d(){var e=Object(r.a)(["\n            transform: scaleX(1);\n            opacity: 1;\n          "]);return d=function(){return e},e}var b=Object(c.default)((function(e){return Object(o.jsx)(i.a,Object(a.a)({as:"li"},e))})).withConfig({displayName:"Tab",componentId:"sc-15w7qyw-0"})(["position:relative;cursor:pointer;text-align:center;"," "," &:after{content:'';border-radius:2px;width:100%;height:2px;position:absolute;left:0;float:left;bottom:0;"," transition:transform cubic-bezier(0.51,0.92,0.24,1.15) 0.2s;}&:hover:after{display:block;}"],(function(e){return!e.active&&"font-weight: 400;"}),l.a,(function(e){return e.active?Object(c.css)(d()):Object(c.css)(u())}));b.defaultProps={p:3,variant:"h4",afterBg:"primary_2"},t.a=s.memo(b)},542:function(e,t,n){"use strict";var r=n(0),a=n(125),o=n(513),c=n(1),i=n(22),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},u=Object(a.default)((function(e){e.color,e.fontSize,e.opacity;var t=l(e,["color","fontSize","opacity"]);return Object(r.jsx)(o.a,s({},t),void 0)}))(Object(i.compose)(i.space,i.color,i.fontSize));function d(e){var t=e.icon,n=l(e,["icon"]);return Object(r.jsx)(u,s({icon:t,style:{width:"1em"}},n),void 0)}d.defaultProps={color:"inherit",fontSize:"inherit"},t.a=c.memo(d)},543:function(e,t,n){"use strict";var r=n(0),a=n(1),o=n(24),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},s=a.forwardRef((function(e,t){var n=e.sx,a=e.loading,s=e.inheritColor,l=e.variant,u=void 0===l?"bodyPrimary":l,d=i(e,["sx","loading","inheritColor","variant"]);return Object(r.jsx)(o.g,c({as:"code"===u?"code":"p",variant:"text."+u},d,{ref:t,sx:c(c(c({display:"block",fontWeight:400,letterSpacing:a?"0px important":0,m:0,maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"},s?{color:"inherit !important"}:{}),a?{color:function(e){return e.colours.neutral_1+" !important"}}:{}),n||{})}),void 0)}));t.a=s},59:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),a=n(25),o=n(0),c=n(543),i=(n(1),n(3));function s(e){var t=e.text,n=e.children,s=Object(a.a)(e,["text","children"]);return Object(o.jsxs)(c.a,Object(r.a)(Object(r.a)({variant:"bodySecondary",as:"label",fontWeight:700,width:"100%"},s),{},{children:[Object(o.jsx)(i.Box,{mb:2,children:t}),n]}))}},667:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f}));var r=n(6),a=n(25),o=n(2),c=n(44),i=n.n(c),s=n(4),l=n(247),u={PT1H:{start:i()().endOf("hour").subtract(1,"day").add(1,"minute").unix(),end:i()().endOf("hour").unix()},P1D:{start:i()().endOf("day").subtract(1,"month").add(1,"hour").unix(),end:i()().endOf("day").unix()},P1M:{start:i()().endOf("month").subtract(1,"year").add(1,"day").unix(),end:i()().endOf("month").unix()}},d={metrics:{conversation_length:[],conversation_steps:[],sessions_per_user:[],conversations:[],new_users:[],user_messages:[],bot_messages:[],total_messages:[]},start:u.P1D.start,end:u.P1D.end,bucket:"P1D",loading:!1},b=function(e,t,n){return n.map((function(n,r){return{value:n,timestamp:e+r*t}}))};function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(s.getType)(l.a.request):var n=t.payload,c=n.bucket,i=n.start,u=n.end;return Object(o.a)(Object(o.a)({},e),{},{bucket:c,start:i,end:u,loading:!0});case Object(s.getType)(l.a.success):var f=e.start,p=t.payload,h=p.bin_width,j=Object(a.a)(p,["bin_width"]),O=Object.entries(j).map((function(e){var t=Object(r.a)(e,2),n=t[0],a=t[1];return[n,b(f,h,a)]})).reduce((function(e,t){var n=Object(r.a)(t,2),a=n[0],c=n[1];return Object(o.a)(Object(o.a)({},e),{},{[a]:c})}),{});return Object(o.a)(Object(o.a)({},e),{},{metrics:O,loading:!1});case Object(s.getType)(l.a.failure):return Object(o.a)(Object(o.a)({},e),{},{loading:!1});default:return e}}},72:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return u}));var r=n(4),a=Object(r.createAsyncAction)("FETCH ROLES","FETCH ROLES SUCCESS","FETCH ROLES FAILURE")(),o=Object(r.createAsyncAction)("FETCH ROLE","FETCH ROLE SUCCESS","FETCH ROLE FAILURE")(),c=Object(r.createAsyncAction)("FETCH ROLE USERS","FETCH ROLE USERS SUCCESS","FETCH ROLE USERS FAILURE")(),i=Object(r.createAsyncAction)("SAVE ROLE","SAVE ROLE SUCCESS","SAVE ROLE FAILURE")(),s=Object(r.createAsyncAction)("UPDATE ROLE","UPDATE ROLE SUCCESS","UPDATE ROLE FAILURE")(),l=Object(r.createAsyncAction)("DELETE ROLE","DELETE ROLE SUCCESS","DELETE ROLE FAILURE")(),u=Object(r.createStandardAction)("FIND AND UPDATE ROLE")()},8:function(e,t,n){"use strict";n.d(t,"J",(function(){return h})),n.d(t,"bc",(function(){return j})),n.d(t,"K",(function(){return v})),n.d(t,"M",(function(){return y})),n.d(t,"L",(function(){return C})),n.d(t,"N",(function(){return E})),n.d(t,"P",(function(){return A})),n.d(t,"O",(function(){return R})),n.d(t,"Q",(function(){return L})),n.d(t,"R",(function(){return B})),n.d(t,"W",(function(){return q})),n.d(t,"V",(function(){return W})),n.d(t,"U",(function(){return V})),n.d(t,"k",(function(){return Y})),n.d(t,"q",(function(){return z})),n.d(t,"Qb",(function(){return K})),n.d(t,"zc",(function(){return Q})),n.d(t,"Fc",(function(){return X})),n.d(t,"cc",(function(){return J})),n.d(t,"Wb",(function(){return Z})),n.d(t,"nb",(function(){return $})),n.d(t,"i",(function(){return ee})),n.d(t,"S",(function(){return re})),n.d(t,"T",(function(){return ce})),n.d(t,"X",(function(){return le})),n.d(t,"Z",(function(){return be})),n.d(t,"Y",(function(){return fe})),n.d(t,"r",(function(){return pe})),n.d(t,"dc",(function(){return he})),n.d(t,"l",(function(){return je})),n.d(t,"ab",(function(){return ge})),n.d(t,"cb",(function(){return Ce})),n.d(t,"db",(function(){return Ee})),n.d(t,"xc",(function(){return Ae})),n.d(t,"eb",(function(){return _e})),n.d(t,"fc",(function(){return Fe})),n.d(t,"hb",(function(){return Ne})),n.d(t,"hc",(function(){return Ue})),n.d(t,"ib",(function(){return Pe})),n.d(t,"Bb",(function(){return He})),n.d(t,"j",(function(){return qe})),n.d(t,"Bc",(function(){return Ge})),n.d(t,"t",(function(){return We})),n.d(t,"h",(function(){return Ve})),n.d(t,"f",(function(){return Ye})),n.d(t,"jb",(function(){return ze})),n.d(t,"lb",(function(){return Xe})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"Rb",(function(){return et})),n.d(t,"Vb",(function(){return tt})),n.d(t,"ac",(function(){return nt})),n.d(t,"sb",(function(){return rt})),n.d(t,"rb",(function(){return at})),n.d(t,"G",(function(){return ot})),n.d(t,"mb",(function(){return st})),n.d(t,"pb",(function(){return dt})),n.d(t,"ob",(function(){return bt})),n.d(t,"n",(function(){return ft})),n.d(t,"u",(function(){return pt})),n.d(t,"ic",(function(){return Ot})),n.d(t,"qb",(function(){return mt})),n.d(t,"wc",(function(){return yt})),n.d(t,"w",(function(){return Ct})),n.d(t,"yc",(function(){return St})),n.d(t,"v",(function(){return wt})),n.d(t,"Oc",(function(){return Et})),n.d(t,"tb",(function(){return At})),n.d(t,"ub",(function(){return _t})),n.d(t,"o",(function(){return Dt})),n.d(t,"Cc",(function(){return Rt})),n.d(t,"x",(function(){return Ft})),n.d(t,"kb",(function(){return Nt})),n.d(t,"Ec",(function(){return Ut})),n.d(t,"kc",(function(){return Pt})),n.d(t,"Dc",(function(){return Ht})),n.d(t,"y",(function(){return qt})),n.d(t,"xb",(function(){return Vt})),n.d(t,"vb",(function(){return Yt})),n.d(t,"wb",(function(){return zt})),n.d(t,"lc",(function(){return Kt})),n.d(t,"Gc",(function(){return Qt})),n.d(t,"z",(function(){return Xt})),n.d(t,"mc",(function(){return Jt})),n.d(t,"yb",(function(){return tn})),n.d(t,"zb",(function(){return nn})),n.d(t,"nc",(function(){return rn})),n.d(t,"Hc",(function(){return an})),n.d(t,"A",(function(){return on})),n.d(t,"c",(function(){return cn})),n.d(t,"Yb",(function(){return sn})),n.d(t,"H",(function(){return ln})),n.d(t,"Ab",(function(){return fn})),n.d(t,"oc",(function(){return pn})),n.d(t,"Db",(function(){return On})),n.d(t,"Eb",(function(){return mn})),n.d(t,"Nb",(function(){return yn})),n.d(t,"pc",(function(){return Cn})),n.d(t,"Ic",(function(){return Sn})),n.d(t,"B",(function(){return wn})),n.d(t,"d",(function(){return En})),n.d(t,"Zb",(function(){return kn})),n.d(t,"I",(function(){return Tn})),n.d(t,"ec",(function(){return An})),n.d(t,"qc",(function(){return Rn})),n.d(t,"rc",(function(){return Fn})),n.d(t,"Xb",(function(){return In})),n.d(t,"Gb",(function(){return Ln})),n.d(t,"Fb",(function(){return Nn})),n.d(t,"C",(function(){return Un})),n.d(t,"Jc",(function(){return Bn})),n.d(t,"Hb",(function(){return Hn})),n.d(t,"sc",(function(){return qn})),n.d(t,"tc",(function(){return Gn})),n.d(t,"Lc",(function(){return Wn})),n.d(t,"D",(function(){return Vn})),n.d(t,"Kc",(function(){return Yn})),n.d(t,"Ib",(function(){return Xn})),n.d(t,"Tb",(function(){return Jn})),n.d(t,"jc",(function(){return Zn})),n.d(t,"Ob",(function(){return tr})),n.d(t,"gb",(function(){return or})),n.d(t,"fb",(function(){return cr})),n.d(t,"gc",(function(){return ir})),n.d(t,"Ac",(function(){return sr})),n.d(t,"s",(function(){return lr})),n.d(t,"F",(function(){return ur})),n.d(t,"Nc",(function(){return dr})),n.d(t,"Ub",(function(){return pr})),n.d(t,"m",(function(){return hr})),n.d(t,"Cb",(function(){return jr})),n.d(t,"bb",(function(){return Or})),n.d(t,"Jb",(function(){return xr})),n.d(t,"Kb",(function(){return vr})),n.d(t,"Mc",(function(){return gr})),n.d(t,"uc",(function(){return mr})),n.d(t,"Lb",(function(){return yr})),n.d(t,"E",(function(){return Cr})),n.d(t,"g",(function(){return Sr})),n.d(t,"Mb",(function(){return kr})),n.d(t,"Pb",(function(){return _r})),n.d(t,"p",(function(){return Dr})),n.d(t,"vc",(function(){return s})),n.d(t,"Sb",(function(){return l})),n.d(t,"e",(function(){return b}));var r=n(968),a=n.n(r),o=n(218),c=n.n(o),i=a.a.create();function s(e,t){void 0===t&&(t="/api"),i.defaults.baseURL=c()(e,t)}function l(e,t){void 0===t&&(t="/api/ws");var n=new URL(e);return n.protocol="https:"===n.protocol?"wss:":"ws:",n.pathname=c()(n.pathname,t),n.toString()}var u,d,b=function(e){return{Authorization:"Bearer "+e}},f=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},p=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},h=function(e,t){return f(void 0,void 0,void 0,(function(){return p(this,(function(n){switch(n.label){case 0:return[4,i.get("/projects/"+t+"/actions",{headers:b(e)})];case 1:return[2,n.sent().data]}}))}))},j=function(e,t,n){return f(void 0,void 0,void 0,(function(){return p(this,(function(r){switch(r.label){case 0:return[4,i.post("/projects/"+t+"/actions",n,{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},O=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},x=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},v=function(e,t,n,r){return O(void 0,void 0,void 0,(function(){var a;return x(this,(function(o){switch(o.label){case 0:return a={start:n,end:r,window:t},[4,i.get("/analytics",{params:a,headers:b(e)})];case 1:return[2,o.sent().data]}}))}))},g=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},m=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},y=function(e,t,n){return g(void 0,void 0,void 0,(function(){return m(this,(function(r){switch(r.label){case 0:return[4,i.put("/chatToken",{bot_name:t,description:n},{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},C=function(e){return g(void 0,void 0,void 0,(function(){return m(this,(function(t){switch(t.label){case 0:return[4,i.get("/chatToken",{headers:b(e)})];case 1:return[2,t.sent().data]}}))}))},S=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},w=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},E=function(e){return S(void 0,void 0,void 0,(function(){return w(this,(function(t){switch(t.label){case 0:return[4,i.get("/conversationActions",{headers:b(e)})];case 1:return[2,t.sent().data]}}))}))},k=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},T=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},A=function(e){return k(void 0,void 0,void 0,(function(){return T(this,(function(t){switch(t.label){case 0:return[4,i.get("/conversationEntities",{headers:b(e)})];case 1:return[2,t.sent().data]}}))}))},_=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},D=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},R=function(e){return _(void 0,void 0,void 0,(function(){return D(this,(function(t){switch(t.label){case 0:return[4,i.get("/conversations/inputChannels",{headers:b(e)})];case 1:return[2,t.sent().data]}}))}))},F=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},I=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},L=function(e){return F(void 0,void 0,void 0,(function(){return I(this,(function(t){switch(t.label){case 0:return[4,i.get("/conversationIntents",{headers:b(e)})];case 1:return[2,t.sent().data]}}))}))},N=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},U=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},B=function(e){return N(void 0,void 0,void 0,(function(){return U(this,(function(t){switch(t.label){case 0:return[4,i.get("/conversationPolicies",{headers:b(e)})];case 1:return[2,t.sent().data]}}))}))},M=function(){return(M=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},P=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},H=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},q=function(e,t,n,r,a,o,c,s,l,u,d,f,p,h,j,O,x,v){return P(void 0,void 0,void 0,(function(){var g;return H(this,(function(m){switch(m.label){case 0:return[4,i.get("/conversations",{params:{limit:t,offset:n,start:r||void 0,until:a||void 0,maximumConfidence:"max"===(null===o||void 0===o?void 0:o.operator)?o.value:void 0,minimumConfidence:"min"===(null===o||void 0===o?void 0:o.operator)?o.value:void 0,maximumNluConfidence:"max"===(null===c||void 0===c?void 0:c.operator)?c.value:void 0,minimumNluConfidence:"min"===(null===c||void 0===c?void 0:c.operator)?c.value:void 0,minimumUserMessages:s&&s>0?s:1,is_flagged:x||void 0,in_training_data:!v&&void 0,intent:l?l.join(","):void 0,entity:u?u.join(","):void 0,action:d?d.join(","):void 0,policies:j?j.join(","):void 0,slots:p?p.join(","):void 0,input_channels:O?O.join(","):void 0,review_status:f||void 0,tags_any:h?h.map((function(e){return e.id})).join(","):void 0,interactive:!0,exclude_self:!1},headers:b(e)})];case 1:return[2,{conversations:(g=m.sent()).data,total:Number(g.headers["x-total-count"])}]}}))}))},G=function(e,t,n,r,a){return M(M({format:e,test_story:a},n?{until:n,history:!1}:{}),{since:r,environment:t})},W=function(e,t,n,r,a,o,c){return P(void 0,void 0,void 0,(function(){return H(this,(function(s){switch(s.label){case 0:return[4,i.get("/conversations/"+t,{params:G(n,r,a,o,c),headers:M(M({},b(e)),{Accept:"text/yaml"})})];case 1:return[2,s.sent().data]}}))}))},V=function(e,t,n,r,a,o,c){return P(void 0,void 0,void 0,(function(){return H(this,(function(s){switch(s.label){case 0:return[4,i.get("/conversations/"+t,{params:G(n,r,a,o,c),headers:M(M({},b(e)),{Accept:"application/json"})})];case 1:return[2,s.sent().data]}}))}))},Y=function(e,t){return P(void 0,void 0,void 0,(function(){return H(this,(function(n){switch(n.label){case 0:return[4,i.post("/conversations",t,{headers:b(e)})];case 1:return[2,n.sent().data]}}))}))},z=function(e,t){return P(void 0,void 0,void 0,(function(){return H(this,(function(n){switch(n.label){case 0:return[4,i.delete("/conversations/"+t,{headers:b(e)})];case 1:return[2,n.sent().data]}}))}))},K=function(e,t,n){return P(void 0,void 0,void 0,(function(){return H(this,(function(r){switch(r.label){case 0:return[4,i.put("/conversations/"+t+"/messages/"+n+"/flag",{},{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},Q=function(e,t,n){return P(void 0,void 0,void 0,(function(){return H(this,(function(r){switch(r.label){case 0:return[4,i.delete("/conversations/"+t+"/messages/"+n+"/flag",{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},X=function(e,t,n){return P(void 0,void 0,void 0,(function(){return H(this,(function(r){switch(r.label){case 0:return[4,i.put("/conversations/"+t+"/reviewStatus",{review_status:n},{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},J=function(e,t,n){return P(void 0,void 0,void 0,(function(){return H(this,(function(r){switch(r.label){case 0:return[4,i.post("/conversations/"+t+"/tags",n,{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},Z=function(e,t,n){return P(void 0,void 0,void 0,(function(){return H(this,(function(r){switch(r.label){case 0:return[4,i.delete("/conversations/"+t+"/tags/"+n.id,{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},$=function(e,t){return P(void 0,void 0,void 0,(function(){return H(this,(function(n){switch(n.label){case 0:return[4,i.post("/conversations/"+t+"/predict",{},{headers:b(e)})];case 1:return[2,n.sent().data]}}))}))},ee=function(e,t,n){return P(void 0,void 0,void 0,(function(){return H(this,(function(r){switch(r.label){case 0:return[4,i.post("/conversations/"+t+"/execute",{name:n},{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},te=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},ne=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},re=function(e){return te(void 0,void 0,void 0,(function(){return ne(this,(function(t){switch(t.label){case 0:return[4,i.get("/conversations/slotNames",{headers:b(e)})];case 1:return[2,t.sent().data]}}))}))},ae=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},oe=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},ce=function(e,t,n){return ae(void 0,void 0,void 0,(function(){return oe(this,(function(r){switch(r.label){case 0:return[4,i.get("/conversations/slotValues",{params:{slot:t,q:n},headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},ie=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},se=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},le=function(e){return ie(void 0,void 0,void 0,(function(){return se(this,(function(t){switch(t.label){case 0:return[4,i.get("/data_tags",{headers:b(e)})];case 1:return[2,t.sent().data]}}))}))},ue=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},de=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},be=function(e){return ue(void 0,void 0,void 0,(function(){return de(this,(function(t){switch(t.label){case 0:return[4,i.get("/projects/default/domains",{headers:b(e)})];case 1:return[2,t.sent().data]}}))}))},fe=function(e,t){return ue(void 0,void 0,void 0,(function(){return de(this,(function(n){switch(n.label){case 0:return[4,i.get("/projects/default/domains/"+t,{headers:b(e)})];case 1:return[2,n.sent().data]}}))}))},pe=function(e,t){return ue(void 0,void 0,void 0,(function(){return de(this,(function(n){switch(n.label){case 0:return[4,i.delete("/projects/default/domains/"+t,{headers:b(e)})];case 1:return[2,n.sent().data]}}))}))},he=function(e,t,n){return ue(void 0,void 0,void 0,(function(){return de(this,(function(r){switch(r.label){case 0:return[4,i.put("/projects/default/domains/"+t,n,{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},je=function(e,t){var n=t.domainFile,r=t.storeResponses;return ue(void 0,void 0,void 0,(function(){return de(this,(function(t){switch(t.label){case 0:return[4,i.post("/projects/default/domains/?store_responses="+(r?"true":"false"),n,{headers:b(e)})];case 1:return[2,t.sent().data]}}))}))},Oe=function(){return(Oe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},xe=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},ve=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},ge=function(e){return xe(void 0,void 0,void 0,(function(){var t;return ve(this,(function(n){switch(n.label){case 0:return[4,i.get("/domainWarnings",{headers:b(e)})];case 1:return t=n.sent(),[2,Oe(Oe({},t.data),{total:Number(t.headers["x-total-count"])})]}}))}))},me=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},ye=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Ce=function(e,t){return me(void 0,void 0,void 0,(function(){return ye(this,(function(n){switch(n.label){case 0:return[4,i.get("/projects/"+t+"/entities",{headers:b(e)})];case 1:return[2,n.sent().data]}}))}))},Se=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},we=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Ee=function(e){return Se(void 0,void 0,void 0,(function(){return we(this,(function(t){switch(t.label){case 0:return[4,i.get("/environments",{headers:b(e)})];case 1:return[2,t.sent().data]}}))}))},ke=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},Te=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Ae=function(e,t,n){return ke(void 0,void 0,void 0,(function(){return Te(this,(function(r){switch(r.label){case 0:return[4,i.put("/projects/"+t+"/evaluations/"+n,{},{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},_e=function(e,t,n){return ke(void 0,void 0,void 0,(function(){return Te(this,(function(r){switch(r.label){case 0:return[4,i.get("/projects/"+t+"/evaluations/"+n,{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},De=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},Re=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Fe=function(e,t,n,r){return De(void 0,void 0,void 0,(function(){return Re(this,(function(a){switch(a.label){case 0:return[4,i.post("/conversations/"+t+"/events",n,{params:{environment:r},headers:b(e)})];case 1:return[2,a.sent().data]}}))}))},Ie=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},Le=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Ne=function(e){return Ie(void 0,void 0,void 0,(function(){return Le(this,(function(t){switch(t.label){case 0:return[4,i.get("/features",{headers:b(e)})];case 1:return[2,t.sent().data]}}))}))},Ue=function(e,t){return Ie(void 0,void 0,void 0,(function(){return Le(this,(function(n){switch(n.label){case 0:return[4,i.post("/features",t,{headers:b(e)})];case 1:return[2,n.sent().data]}}))}))},Be=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},Me=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Pe=function(e,t){return Be(void 0,void 0,void 0,(function(){var n;return Me(this,(function(r){switch(r.label){case 0:return[4,i.get("/projects/"+t+"/git_repositories",{headers:b(e)})];case 1:return[2,{gitRepositories:(n=r.sent()).data,total:Number(n.headers["x-total-count"])}]}}))}))},He=function(e,t){return Be(void 0,void 0,void 0,(function(){return Me(this,(function(n){switch(n.label){case 0:return[4,i.get("/projects/"+t+"/git_repositories/public_ssh_key",{headers:b(e)})];case 1:return[2,n.sent().data]}}))}))},qe=function(e,t,n,r,a,o,c){return Be(void 0,void 0,void 0,(function(){return Me(this,(function(s){switch(s.label){case 0:return[4,i.post("/projects/"+t+"/git_repositories/",{repository_url:n,target_branch:r,is_target_branch_protected:a,use_generated_ssh_keys:!0,username:o||void 0,password:c||void 0},{headers:b(e)})];case 1:return[2,s.sent().data]}}))}))},Ge=function(e,t,n,r,a,o,c){return Be(void 0,void 0,void 0,(function(){return Me(this,(function(s){switch(s.label){case 0:return[4,i.put("/projects/"+t+"/git_repositories/"+n,{target_branch:r,is_target_branch_protected:a,username:o||void 0,password:c||void 0},{headers:b(e)})];case 1:return[2,s.sent().data]}}))}))},We=function(e,t,n){return Be(void 0,void 0,void 0,(function(){return Me(this,(function(r){switch(r.label){case 0:return[4,i.delete("/projects/"+t+"/git_repositories/"+n,{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},Ve=function(e,t,n,r,a){return Be(void 0,void 0,void 0,(function(){return Me(this,(function(o){switch(o.label){case 0:return[4,i.post("/projects/"+t+"/git_repositories/"+n+"/branches/"+encodeURIComponent(r)+"/commits",a.length?{message:a}:{},{headers:b(e)})];case 1:return[2,o.sent().data]}}))}))},Ye=function(e,t,n,r,a){return Be(void 0,void 0,void 0,(function(){return Me(this,(function(o){switch(o.label){case 0:return[4,i.put("/projects/"+t+"/git_repositories/"+n+"/branches/"+encodeURIComponent(r),{},{params:{force:a},headers:b(e)})];case 1:return[2,o.sent().data]}}))}))},ze=function(e,t,n){return Be(void 0,void 0,void 0,(function(){return Me(this,(function(r){switch(r.label){case 0:return[4,i.get("/projects/"+t+"/git_repositories/"+n+"/status",{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},Ke=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},Qe=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Xe=function(e){return Ke(void 0,void 0,void 0,(function(){return Qe(this,(function(t){switch(t.label){case 0:return[4,i.get("/health",{headers:b(e)})];case 1:return[2,t.sent().data]}}))}))},Je=function(){return(Je=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ze=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},$e=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}};!function(e){e.IN_PROGRESS="in_progress",e.SUCCESS="success",e.FAILURE="failure"}(u||(u={})),function(e){e[e.OK=0]="OK",e[e.OUTDATED=1]="OUTDATED",e[e.IN_PROGRESS=2]="IN_PROGRESS",e[e.NOT_CALCULATED_YET=3]="NOT_CALCULATED_YET",e[e.LATEST_FAILED_AND_RESULTS_ARE_OUTDATED=4]="LATEST_FAILED_AND_RESULTS_ARE_OUTDATED",e[e.LATEST_FAILED_AND_RESULTS_ARE_OK=5]="LATEST_FAILED_AND_RESULTS_ARE_OK"}(d||(d={}));var et=function(e){return Ze(void 0,void 0,void 0,(function(){return $e(this,(function(t){switch(t.label){case 0:return[4,i.get("/insights/config",{headers:b(e)})];case 1:return[2,t.sent().data]}}))}))},tt=function(e,t){return Ze(void 0,void 0,void 0,(function(){return $e(this,(function(n){switch(n.label){case 0:return[4,i.put("/insights/config",t,{headers:b(e)})];case 1:return[2,n.sent().data]}}))}))},nt=function(e){return Ze(void 0,void 0,void 0,(function(){return $e(this,(function(t){switch(t.label){case 0:return[4,i.post("/insights/nlu",{},{headers:b(e)})];case 1:return[2,t.sent().data]}}))}))},rt=function(e,t,n,r,a){return void 0===n&&(n=0),Ze(void 0,void 0,void 0,(function(){var o;return $e(this,(function(c){switch(c.label){case 0:return[4,i.get("/insights/nlu",{params:{limit:t,offset:n,status:r,sort_order:a},headers:b(e)})];case 1:return[2,{reports:(o=c.sent()).data,total:Number(o.headers["x-total-count"])}]}}))}))},at=function(e,t,n,r,a,o){return Ze(void 0,void 0,void 0,(function(){var c;return $e(this,(function(s){switch(s.label){case 0:return[4,i.get("/insights/nlu/"+t,{params:{q:n,limit:r,offset:a,sort_by:o||"intent_name"},headers:b(e)})];case 1:return[2,{report:(c=s.sent()).data,total:Number(c.headers["x-total-count"])}]}}))}))},ot=function(e,t){return Ze(void 0,void 0,void 0,(function(){return $e(this,(function(n){switch(n.label){case 0:return[4,i.get("/insights/nlu/"+t+"/evaluation",{headers:Je(Je({},b(e)),{Accept:"application/json"}),transformResponse:[function(e){return e}]})];case 1:return[2,n.sent().data]}}))}))},ct=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},it=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},st=function(e,t){return ct(void 0,void 0,void 0,(function(){return it(this,(function(n){switch(n.label){case 0:return[4,i.get("/projects/"+t+"/intents",{headers:b(e),params:{"fields[example_hashes]":!1,"fields[suggestions]":!1}})];case 1:return[2,n.sent().data]}}))}))},lt=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},ut=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},dt=function(e,t){return lt(void 0,void 0,void 0,(function(){var n;return ut(this,(function(r){switch(r.label){case 0:return[4,i.get("/projects/"+t+"/lookupTables",{headers:b(e)})];case 1:return[2,{lookupTables:(n=r.sent()).data,total:Number(n.headers["x-total-count"])}]}}))}))},bt=function(e,t,n){return lt(void 0,void 0,void 0,(function(){return ut(this,(function(r){switch(r.label){case 0:return[4,i.get("/projects/"+t+"/lookupTables/"+n,{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},ft=function(e,t,n){return lt(void 0,void 0,void 0,(function(){return ut(this,(function(r){switch(r.label){case 0:return[4,i.post("/projects/"+t+"/lookupTables",n,{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},pt=function(e,t,n){return lt(void 0,void 0,void 0,(function(){return ut(this,(function(r){switch(r.label){case 0:return[4,i.delete("/projects/"+t+"/lookupTables/"+n.id,{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},ht=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},jt=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Ot=function(e,t,n,r){return ht(void 0,void 0,void 0,(function(){return jt(this,(function(a){switch(a.label){case 0:return[4,i.post("/conversations/"+t+"/messages",{message:n},{params:{environment:r},headers:b(e)})];case 1:return[2,a.sent().data]}}))}))},xt=function(){return(xt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},vt=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},gt=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},mt=function(e,t,n,r,a){return vt(void 0,void 0,void 0,(function(){var o;return gt(this,(function(c){switch(c.label){case 0:return[4,i.get("/projects/"+t+"/models",{params:{limit:n,offset:r,tag:a},headers:b(e)})];case 1:return[2,{models:(o=c.sent()).data,total:Number(o.headers["x-total-count"])}]}}))}))},yt=function(e,t,n,r){return vt(void 0,void 0,void 0,(function(){return gt(this,(function(a){switch(a.label){case 0:return[4,i.put("/projects/"+t+"/models/"+n+"/tags/"+r,{},{headers:b(e)})];case 1:return a.sent(),[2,{model:n}]}}))}))},Ct=function(e,t,n,r){return vt(void 0,void 0,void 0,(function(){return gt(this,(function(a){switch(a.label){case 0:return[4,i.delete("/projects/"+t+"/models/"+n+"/tags/"+r,{headers:b(e)})];case 1:return a.sent(),[2,{model:n}]}}))}))},St=function(e,t){return vt(void 0,void 0,void 0,(function(){var n;return gt(this,(function(r){switch(r.label){case 0:return[4,i.post("/projects/"+t+"/models/jobs",{},{headers:b(e)})];case 1:return[2,{data:(n=r.sent()).data,status:n.status}]}}))}))},wt=function(e,t,n){return vt(void 0,void 0,void 0,(function(){return gt(this,(function(r){switch(r.label){case 0:return[4,i.delete("/projects/"+t+"/models/"+n,{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},Et=function(e,t,n){return vt(void 0,void 0,void 0,(function(){return gt(this,(function(r){switch(r.label){case 0:return[4,i.post("/projects/"+t+"/models",n,{headers:xt(xt({},b(e)),{"Content-Type":"multipart/form-data","Content-Encoding":"gzip"})})];case 1:return[2,r.sent().data]}}))}))},kt=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},Tt=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},At=function(e,t,n){return kt(void 0,void 0,void 0,(function(){return Tt(this,(function(r){switch(r.label){case 0:return[4,i.get("/projects/"+t+"/regexes/"+n,{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},_t=function(e,t,n,r){return kt(void 0,void 0,void 0,(function(){var a;return Tt(this,(function(o){switch(o.label){case 0:return[4,i.get("/projects/"+t+"/regexes",{params:{limit:n,offset:r},headers:b(e)})];case 1:return[2,{regexes:(a=o.sent()).data,total:Number(a.headers["x-total-count"])}]}}))}))},Dt=function(e,t,n){return kt(void 0,void 0,void 0,(function(){return Tt(this,(function(r){switch(r.label){case 0:return[4,i.post("/projects/"+t+"/regexes",n,{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},Rt=function(e,t,n){return kt(void 0,void 0,void 0,(function(){return Tt(this,(function(r){switch(r.label){case 0:return[4,i.put("/projects/"+t+"/regexes/"+n.id,n,{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},Ft=function(e,t,n){return kt(void 0,void 0,void 0,(function(){return Tt(this,(function(r){switch(r.label){case 0:return[4,i.delete("/projects/"+t+"/regexes/"+n.id,{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},It=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},Lt=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Nt=function(e,t,n,r,a,o,c){return It(void 0,void 0,void 0,(function(){var s;return Lt(this,(function(l){switch(l.label){case 0:return[4,i.get("/responseGroups",{params:{q:t,response_name:n,intersect_filters:r,precise_response_name_search:a,limit:o,offset:c},headers:b(e)})];case 1:return[2,{responses:(s=l.sent()).data,total:Number(s.headers["x-total-count"])}]}}))}))},Ut=function(e,t,n){return It(void 0,void 0,void 0,(function(){return Lt(this,(function(r){switch(r.label){case 0:return[4,i.put("/responseGroups/"+t,{name:n},{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},Bt=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},Mt=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Pt=function(e,t){return Bt(void 0,void 0,void 0,(function(){return Mt(this,(function(n){switch(n.label){case 0:return[4,i.post("/responses",t,{headers:b(e)})];case 1:return[2,n.sent().data]}}))}))},Ht=function(e,t){return Bt(void 0,void 0,void 0,(function(){return Mt(this,(function(n){switch(n.label){case 0:return[4,i.put("/responses/"+t.id,t,{headers:b(e)})];case 1:return[2,n.sent().data]}}))}))},qt=function(e,t){return Bt(void 0,void 0,void 0,(function(){return Mt(this,(function(n){switch(n.label){case 0:return[4,i.delete("/responses/"+t.id,{headers:b(e)})];case 1:return[2,n.sent().data]}}))}))},Gt=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},Wt=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Vt=function(e,t,n,r){return Gt(void 0,void 0,void 0,(function(){var a;return Wt(this,(function(o){switch(o.label){case 0:return[4,i.get("/roles",{params:{q:t,limit:n,offset:r},headers:b(e)})];case 1:return[2,{roles:(a=o.sent()).data,total:Number(a.headers["x-total-count"])}]}}))}))},Yt=function(e,t){return Gt(void 0,void 0,void 0,(function(){return Wt(this,(function(n){switch(n.label){case 0:return[4,i.get("/roles/"+t,{headers:b(e)})];case 1:return[2,n.sent().data]}}))}))},zt=function(e,t){return Gt(void 0,void 0,void 0,(function(){return Wt(this,(function(n){switch(n.label){case 0:return[4,i.get("/roles/"+t+"/users",{headers:b(e)})];case 1:return[2,n.sent().data]}}))}))},Kt=function(e,t){return Gt(void 0,void 0,void 0,(function(){return Wt(this,(function(n){switch(n.label){case 0:return[4,i.post("/roles",t,{headers:b(e)})];case 1:return[2,n.sent().data]}}))}))},Qt=function(e,t,n){return Gt(void 0,void 0,void 0,(function(){return Wt(this,(function(r){switch(r.label){case 0:return[4,i.put("/roles/"+(n||t.role),t,{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},Xt=function(e,t){return Gt(void 0,void 0,void 0,(function(){return Wt(this,(function(n){switch(n.label){case 0:return[4,i.delete("/roles/"+t.role,{headers:b(e)})];case 1:return[2,n.sent().data]}}))}))},Jt=function(e,t,n){return Gt(void 0,void 0,void 0,(function(){return Wt(this,(function(r){switch(r.label){case 0:return[4,i.put("/roles/"+t.role+"/users",n.map((function(e){return e.username})),{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},Zt=function(){return(Zt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},$t=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},en=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},tn=function(e,t,n,r){return $t(void 0,void 0,void 0,(function(){var a;return en(this,(function(o){switch(o.label){case 0:return[4,i.get("/rules",{params:{q:t,limit:n,offset:r},headers:b(e)})];case 1:return[2,{rules:(a=o.sent()).data,total:Number(a.headers["x-total-count"])}]}}))}))},nn=function(e,t){return $t(void 0,void 0,void 0,(function(){return en(this,(function(n){switch(n.label){case 0:return[4,i.get("/rules",{params:{id:t.join(",")},headers:Zt(Zt({},b(e)),{Accept:"text/vnd.graphviz"})})];case 1:return[2,n.sent().data]}}))}))},rn=function(e,t,n){return $t(void 0,void 0,void 0,(function(){return en(this,(function(n){switch(n.label){case 0:return[4,i.post("/rules",t.story,{headers:Zt(Zt({},b(e)),{"Content-Type":"text/yaml"})})];case 1:return[2,n.sent().data]}}))}))},an=function(e,t,n){return $t(void 0,void 0,void 0,(function(){return en(this,(function(n){switch(n.label){case 0:return[4,i.put("/rules/"+t.id,t.story,{headers:Zt(Zt({},b(e)),{"Content-Type":"text/yaml"})})];case 1:return[2,n.sent().data]}}))}))},on=function(e,t){return $t(void 0,void 0,void 0,(function(){return en(this,(function(n){switch(n.label){case 0:return[4,i.delete("/rules/"+t.id,{headers:b(e)})];case 1:return[2,n.sent().data]}}))}))},cn=function(e,t,n){return $t(void 0,void 0,void 0,(function(){return en(this,(function(r){switch(r.label){case 0:return[4,i.post("/rules",t,{headers:Zt(Zt({},b(e)),{"Content-Type":n})})];case 1:return[2,r.sent().data]}}))}))},sn=function(e,t,n){return $t(void 0,void 0,void 0,(function(){return en(this,(function(r){switch(r.label){case 0:return[4,i.put("/rules",t,{headers:Zt(Zt({},b(e)),{"Content-Type":n})})];case 1:return[2,r.sent().data]}}))}))},ln=function(e){return $t(void 0,void 0,void 0,(function(){return en(this,(function(t){switch(t.label){case 0:return[4,i.get("/rules",{headers:Zt(Zt({},b(e)),{Accept:"text/yaml"}),responseType:"text",transformResponse:[function(e){return e}]})];case 1:return[2,t.sent().data]}}))}))},un=function(){return(un=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},dn=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},bn=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},fn=function(e,t){return dn(void 0,void 0,void 0,(function(){return bn(this,(function(n){switch(n.label){case 0:return[4,i.get("/projects/"+t+"/settings",{headers:b(e)})];case 1:return[2,n.sent().data]}}))}))},pn=function(e,t,n){return dn(void 0,void 0,void 0,(function(){return bn(this,(function(r){switch(r.label){case 0:return[4,i.put("/projects/"+t+"/settings",n,{headers:un(un({},b(e)),{"Content-Type":"application/x-yaml"})})];case 1:return[2,r.sent().data]}}))}))},hn=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},jn=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},On=function(e){return hn(void 0,void 0,void 0,(function(){return jn(this,(function(t){switch(t.label){case 0:return[4,i.get("/statistics",{headers:b(e)})];case 1:return[2,t.sent().data]}}))}))},xn=function(){return(xn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},vn=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},gn=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},mn=function(e,t,n,r){return vn(void 0,void 0,void 0,(function(){var a;return gn(this,(function(o){switch(o.label){case 0:return[4,i.get("/stories",{params:{q:t,limit:n,offset:r},headers:b(e)})];case 1:return[2,{stories:(a=o.sent()).data,total:Number(a.headers["x-total-count"])}]}}))}))},yn=function(e,t){return vn(void 0,void 0,void 0,(function(){return gn(this,(function(n){switch(n.label){case 0:return[4,i.get("/stories",{params:{id:t.join(",")},headers:xn(xn({},b(e)),{Accept:"text/vnd.graphviz"})})];case 1:return[2,n.sent().data]}}))}))},Cn=function(e,t,n){return vn(void 0,void 0,void 0,(function(){return gn(this,(function(r){switch(r.label){case 0:return[4,i.post("/stories",t.story,{headers:xn(xn({},b(e)),{"Content-Type":n?"text/markdown":"text/yaml"})})];case 1:return[2,r.sent().data]}}))}))},Sn=function(e,t,n){return vn(void 0,void 0,void 0,(function(){return gn(this,(function(r){switch(r.label){case 0:return[4,i.put("/stories/"+t.id,t.story,{headers:xn(xn({},b(e)),{"Content-Type":n?"text/markdown":"text/yaml"})})];case 1:return[2,r.sent().data]}}))}))},wn=function(e,t){return vn(void 0,void 0,void 0,(function(){return gn(this,(function(n){switch(n.label){case 0:return[4,i.delete("/stories/"+t.id,{headers:b(e)})];case 1:return[2,n.sent().data]}}))}))},En=function(e,t,n){return vn(void 0,void 0,void 0,(function(){return gn(this,(function(r){switch(r.label){case 0:return[4,i.post("/stories",t,{headers:xn(xn({},b(e)),{"Content-Type":n})})];case 1:return[2,r.sent().data]}}))}))},kn=function(e,t,n){return vn(void 0,void 0,void 0,(function(){return gn(this,(function(r){switch(r.label){case 0:return[4,i.put("/stories",t,{headers:xn(xn({},b(e)),{"Content-Type":n})})];case 1:return[2,r.sent().data]}}))}))},Tn=function(e){return vn(void 0,void 0,void 0,(function(){return gn(this,(function(t){switch(t.label){case 0:return[4,i.get("/stories",{headers:xn(xn({},b(e)),{Accept:"text/yaml"}),responseType:"text",transformResponse:[function(e){return e}]})];case 1:return[2,t.sent().data]}}))}))},An=function(e,t){return vn(void 0,void 0,void 0,(function(){return gn(this,(function(n){switch(n.label){case 0:return[4,i.post("/stories",t,{params:{test_stories:!0},headers:xn(xn({},b(e)),{"Content-Type":"application/x-yaml"})})];case 1:return[2,n.sent().data]}}))}))},_n=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},Dn=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Rn=function(e,t,n){return _n(void 0,void 0,void 0,(function(){return Dn(this,(function(r){switch(r.label){case 0:return[4,i.post("/projects/"+t+"/logs",{},{params:{q:n},headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},Fn=function(e,t,n,r){return _n(void 0,void 0,void 0,(function(){return Dn(this,(function(a){switch(a.label){case 0:return[4,i.post("/projects/"+t+"/logs/"+r+"/tags",n,{headers:b(e)})];case 1:return[2,a.sent().data]}}))}))},In=function(e,t,n,r){return _n(void 0,void 0,void 0,(function(){return Dn(this,(function(a){switch(a.label){case 0:return[4,i.delete("/projects/"+t+"/logs/"+r+"/tags/"+n.id,{headers:b(e)})];case 1:return[2,a.sent().data]}}))}))},Ln=function(e,t,n,r,a,o,c,s,l,u,d,f,p){return _n(void 0,void 0,void 0,(function(){var h;return Dn(this,(function(j){switch(j.label){case 0:return[4,i.get("/projects/"+t+"/logs",{params:{q:n,intent:r?r.join(","):void 0,entity:a?a.join(","):void 0,tags:o?o.join(","):void 0,limit:c,offset:s,start:l||void 0,until:u||void 0,sort_by:d||void 0,sort_order:f||void 0,workspace_id:p||void 0},headers:b(e)})];case 1:return[2,{suggestions:(h=j.sent()).data,total:Number(h.headers["x-total-count"])}]}}))}))},Nn=function(e,t,n){return _n(void 0,void 0,void 0,(function(){return Dn(this,(function(r){switch(r.label){case 0:return[4,i.get("/projects/"+t+"/logs/"+n,{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},Un=function(e,t,n){return _n(void 0,void 0,void 0,(function(){return Dn(this,(function(r){switch(r.label){case 0:return[4,i.delete("/projects/"+t+"/logs/"+n.id,{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},Bn=function(e,t,n){return _n(void 0,void 0,void 0,(function(){return Dn(this,(function(r){switch(r.label){case 0:return[4,i.patch("/projects/"+t+"/logs",{logs:n},{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},Mn=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},Pn=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Hn=function(e,t,n,r,a){return Mn(void 0,void 0,void 0,(function(){var o;return Pn(this,(function(c){switch(c.label){case 0:return[4,i.get("/projects/"+t+"/synonyms",{params:{q:n,reference:r,mapped_value:a},headers:b(e)})];case 1:return[2,{synonyms:(o=c.sent()).data,total:Number(o.headers["x-total-count"])}]}}))}))},qn=function(e,t,n){return Mn(void 0,void 0,void 0,(function(){return Pn(this,(function(r){switch(r.label){case 0:return[4,i.post("/projects/"+t+"/synonyms",n,{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},Gn=function(e,t,n,r){return Mn(void 0,void 0,void 0,(function(){return Pn(this,(function(a){switch(a.label){case 0:return[4,i.post("/projects/"+t+"/synonyms/"+n,r,{headers:b(e)})];case 1:return[2,a.sent().data]}}))}))},Wn=function(e,t,n,r,a){return Mn(void 0,void 0,void 0,(function(){return Pn(this,(function(o){switch(o.label){case 0:return[4,i.put("/projects/"+t+"/synonyms/"+n+"/"+r,{value:a},{headers:b(e)})];case 1:return[2,o.sent().data]}}))}))},Vn=function(e,t,n,r){return Mn(void 0,void 0,void 0,(function(){return Pn(this,(function(a){switch(a.label){case 0:return[4,i.delete("/projects/"+t+"/synonyms/"+n+"/"+r,{headers:b(e)})];case 1:return[2,a.sent().data]}}))}))},Yn=function(e,t,n,r){return Mn(void 0,void 0,void 0,(function(){return Pn(this,(function(a){switch(a.label){case 0:return[4,i.put("/projects/"+t+"/synonyms/"+n,{synonym_reference:r},{headers:b(e)})];case 1:return[2,a.sent().data]}}))}))},zn=function(){return(zn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Kn=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},Qn=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Xn=function(e){return Kn(void 0,void 0,void 0,(function(){return Qn(this,(function(t){switch(t.label){case 0:return[4,i.get("/telemetry?include_user_groups=true",{headers:b(e)})];case 1:return[2,t.sent().data]}}))}))},Jn=function(e,t,n,r){return Kn(void 0,void 0,void 0,(function(){return Qn(this,(function(a){switch(a.label){case 0:return[4,i.post("/telemetry",zn(zn({event_name:t},n?{properties:n}:{}),r?{context:r}:{}),{headers:b(e)})];case 1:return[2,a.sent()]}}))}))},Zn=function(e,t,n,r){return Kn(void 0,void 0,void 0,(function(){return Qn(this,(function(a){switch(a.label){case 0:return[4,i.post("https://assets.rasa.com/functions/rasa-x-submit-feedback",{records:[{fields:{telemetry_id:e,name:t,email:n,checkboxChecked:r}}]})];case 1:return[2,a.sent()]}}))}))},$n=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},er=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},tr=function(e,t){return $n(void 0,void 0,void 0,(function(){return er(this,(function(n){switch(n.label){case 0:return[4,i.get("/projects/"+t+"/training_data_warnings",{headers:b(e)})];case 1:return[2,n.sent().data]}}))}))},nr=function(){return(nr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},rr=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},ar=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},or=function(e,t,n,r,a,o,c,s,l){return rr(void 0,void 0,void 0,(function(){var u;return ar(this,(function(d){switch(d.label){case 0:return[4,i.get("/projects/"+t+"/training_examples",{params:{q:n,intent:r,limit:a,offset:o,workspace_id:c,sort_by:s,sort_order:l},headers:b(e)})];case 1:return[2,{examples:(u=d.sent()).data,total:Number(u.headers["x-total-count"])}]}}))}))},cr=function(e,t,n){return rr(void 0,void 0,void 0,(function(){return ar(this,(function(r){switch(r.label){case 0:return[4,i.get("/projects/"+t+"/training_examples/"+n,{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},ir=function(e,t,n){return rr(void 0,void 0,void 0,(function(){return ar(this,(function(r){switch(r.label){case 0:return[4,i.post("/projects/"+t+"/training_examples",{examples:n},{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},sr=function(e,t,n){return rr(void 0,void 0,void 0,(function(){return ar(this,(function(r){switch(r.label){case 0:return[4,i.patch("/projects/"+t+"/training_examples",{examples:n},{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},lr=function(e,t,n){return rr(void 0,void 0,void 0,(function(){return ar(this,(function(r){switch(r.label){case 0:return[4,i.delete("/projects/"+t+"/training_examples/"+n.id,{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},ur=function(e,t){return rr(void 0,void 0,void 0,(function(){var n;return ar(this,(function(r){switch(r.label){case 0:return[4,i.get("/projects/"+t+"/training_data",{headers:nr(nr({},b(e)),{Accept:"*/*"}),transformResponse:[function(e){return e}]})];case 1:return[2,{examples:(n=r.sent()).data,filename:n.headers["content-disposition"]}]}}))}))},dr=function(e,t,n,r){return rr(void 0,void 0,void 0,(function(){return ar(this,(function(a){switch(a.label){case 0:return[4,i.put("/projects/"+t+"/training_examples",n,{headers:nr(nr({},b(e)),{"Content-Type":r})})];case 1:return[2,a.sent().data]}}))}))},br=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},fr=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},pr=function(e,t){return br(void 0,void 0,void 0,(function(){return fr(this,(function(n){switch(n.label){case 0:return[4,i.post("/auth",{username:e,password:t})];case 1:return[2,n.sent().data]}}))}))},hr=function(e,t){return br(void 0,void 0,void 0,(function(){return fr(this,(function(n){switch(n.label){case 0:return[4,i.patch("/user",{username:t},{headers:b(e)})];case 1:return[2,n.sent().data]}}))}))},jr=function(){return br(void 0,void 0,void 0,(function(){return fr(this,(function(e){switch(e.label){case 0:return[4,i.get("/auth/saml")];case 1:return[2,e.sent().data]}}))}))},Or=function(e){return br(void 0,void 0,void 0,(function(){return fr(this,(function(t){switch(t.label){case 0:return[4,i.post("/auth/enterpriseTokenLogin",{single_use_token:e})];case 1:return[2,t.sent().data]}}))}))},xr=function(e){return br(void 0,void 0,void 0,(function(){return fr(this,(function(t){switch(t.label){case 0:return[4,i.post("/auth/jwt",{chat_token:e})];case 1:return[2,t.sent().data]}}))}))},vr=function(e){return br(void 0,void 0,void 0,(function(){return fr(this,(function(t){switch(t.label){case 0:return[4,i.get("/user",{headers:b(e)})];case 1:return[2,t.sent().data]}}))}))},gr=function(e,t){return br(void 0,void 0,void 0,(function(){return fr(this,(function(n){switch(n.label){case 0:return[4,i.put("/users/"+t.username,t,{headers:b(e)})];case 1:return[2,n.sent().data]}}))}))},mr=function(e,t,n){return br(void 0,void 0,void 0,(function(){return fr(this,(function(r){switch(r.label){case 0:return[4,i.put("/users/"+t.username+"/roles",n.map((function(e){return e.role})),{headers:b(e)})];case 1:return[2,r.sent().data]}}))}))},yr=function(e,t,n,r,a){return br(void 0,void 0,void 0,(function(){var o;return fr(this,(function(c){switch(c.label){case 0:return[4,i.get("/users",{params:{username:t,role:n,limit:r,offset:a},headers:b(e)})];case 1:return[2,{users:(o=c.sent()).data,total:Number(o.headers["x-total-count"])}]}}))}))},Cr=function(e,t){return br(void 0,void 0,void 0,(function(){return fr(this,(function(n){switch(n.label){case 0:return[4,i.delete("/users/"+t.username,{headers:b(e)})];case 1:return[2,n.sent().data]}}))}))},Sr=function(e,t,n,r,a){return br(void 0,void 0,void 0,(function(){return fr(this,(function(o){switch(o.label){case 0:return[4,i.post("/user/password",{username:t,old_password:n,new_password:r,new_password_confirm:a},{headers:b(e)})];case 1:return[2,o.sent().data]}}))}))},wr=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},Er=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},kr=function(e){return wr(void 0,void 0,void 0,(function(){return Er(this,(function(t){switch(t.label){case 0:return[4,i.get("/version",{params:{skip_external:e}})];case 1:return[2,t.sent().data]}}))}))},Tr=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{s(r.next(e))}catch(t){o(t)}}function i(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))},Ar=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},_r=function(e){return Tr(void 0,void 0,void 0,(function(){return Ar(this,(function(t){switch(t.label){case 0:return[4,i.get("/workspaces",{headers:b(e)})];case 1:return[2,t.sent().data]}}))}))},Dr=function(e,t){return Tr(void 0,void 0,void 0,(function(){return Ar(this,(function(n){switch(n.label){case 0:return[4,i.post("/workspaces",{name:t},{headers:b(e)})];case 1:return[2,n.sent().data]}}))}))}},967:function(e,t,n){"use strict";var r=n(40),a=n(1),o=n(21),c=n(169);function i(){var e=Object(r.a)([""]);return i=function(){return e},e}var s=Object(o.default)(c.a)(i());s.defaultProps={justifyContent:"center",alignItems:"flex-end",height:"100%"},t.a=a.memo(s)},98:function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return b})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return p}));var r=n(44),a=n.n(r),o=function(e,t){return t?a()(e).endOf("day").toISOString():a()(e).toISOString()},c=function(e){return e.format("YYYY-MM-DD")},i=function(e){return e.format("DD/MM/YYYY")},s=function(e){return e.format("D MMM, YYYY")},l=function(){return a()().startOf("day")},u=function(){return a()().endOf("day")},d=!0,b=[{label:"Today",from:c(l())},{label:"Yesterday",from:c(l().subtract(1,"days")),to:c(u().subtract(1,"days"))},{label:"Last 7 days",from:c(l().subtract(7,"days")),to:c(u())},{label:"Last 30 days",from:c(l().subtract(30,"days")),to:c(u())},{label:"Last 365 days",from:c(l().subtract(365,"days")),to:c(u())},{label:"All time",from:null,to:null}];function f(e){return b.find((function(t){return t.from===e.from&&(!e.to||t.to===e.to)}))||{label:"Custom",from:e.from,to:e.to}}function p(e){return!(e.date.from||e.date.to||e.intents.length>0||e.tags.length>0)}}},[[2021,1,2]]]);